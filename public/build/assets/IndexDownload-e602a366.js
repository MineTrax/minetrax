import{_ as A}from"./AdminLayout-eabce765.js";import{u as E}from"./useAuthorizable-6bc0b9b8.js";import{u as I,I as c}from"./AppLayout-9f94cfff.js";import{l as k,q as b,o as s,c as l,w as n,k as N,b as i,u as a,a as o,t as r,e as u,f,j as _,d as h}from"./app-9b50b83a.js";import{D as x,_ as T}from"./DtRowItem-50442b78.js";import{_ as C}from"./millify-2865c83f.js";import{r as R}from"./CloudArrowDownIcon-607d8017.js";import{r as q}from"./PencilSquareIcon-3f2faea6.js";import{r as z}from"./TrashIcon-b0c1353e.js";import"./XMarkIcon-29a18dfe.js";const L={class:"px-10 py-8 mx-auto text-gray-400"},V={class:"flex justify-between mb-4"},$={class:"text-3xl font-bold text-gray-500 dark:text-gray-300"},O={class:"flex"},S={class:"hidden md:inline"},F={class:"px-4 py-4 text-sm font-medium text-center text-gray-800 whitespace-nowrap dark:text-gray-200"},M={class:"px-4"},U={class:"px-4"},G={class:"px-4"},H=["title"],K={key:0,class:"italic text-gray-400"},W={key:1},J=["title"],P={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Q=["href","title"],ie={__name:"IndexDownload",props:{downloads:Object,filters:Object},setup(w){const{can:y}=E(),{__:e}=N(),{formatTimeAgoToNow:g,formatToDayDateString:D}=I(),v=[{key:"id",label:e("ID"),sortable:!0,class:"text-center"},{key:"name",sortable:!0,label:e("Name")},{key:"is_active",label:e("Active"),sortable:!0},{key:"is_external",label:e("External"),sortable:!0},{key:"is_only_auth",label:e("Auth Only"),sortable:!0},{key:"file_name",sortable:!0,label:e("File Name")},{key:"file_size",sortable:!1,label:e("File Size")},{key:"download_count",sortable:!0,class:"text-center",label:e("Downloads")},{key:"created_at",label:e("Created"),sortable:!0,class:"w-1/12"},{key:"actions",label:e("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(m,X)=>{const B=k("app-head"),p=k("InertiaLink"),d=b("tippy"),j=b("confirm");return s(),l(A,null,{default:n(()=>[i(B,{title:a(e)("Downloads Administration")},null,8,["title"]),o("div",L,[o("div",V,[o("h1",$,r(a(e)("Downloads")),1),o("div",O,[a(y)("create downloads")?(s(),l(p,{key:0,href:m.route("admin.download.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-800 border border-transparent rounded-md hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray"},{default:n(()=>[o("span",null,r(a(e)("Create")),1),o("span",S,"Â "+r(a(e)("Download")),1)]),_:1},8,["href"])):u("",!0)])]),i(T,{class:"bg-white rounded shadow dark:bg-gray-800",header:v,data:w.downloads,filters:w.filters},{default:n(({item:t})=>[o("td",F,r(t.id),1),i(x,null,{default:n(()=>[f(r(t.name),1)]),_:2},1024),o("td",M,[t.is_active?(s(),l(c,{key:0,class:"text-green-500",name:"check-circle"})):(s(),l(c,{key:1,class:"text-red-500",name:"cross-circle"}))]),o("td",U,[t.is_external?(s(),l(c,{key:0,class:"text-green-500 inline",name:"check-circle"})):(s(),l(c,{key:1,class:"text-red-500",name:"cross-circle"})),t.is_external_url_hidden?_((s(),l(c,{key:2,title:a(e)("External URL is protected from end users."),class:"text-yellow-400 inline",name:"shield-check"},null,8,["title"])),[[d]]):u("",!0)]),o("td",G,[t.is_only_auth?(s(),l(c,{key:0,class:"text-green-500 inline",name:"check-circle"})):(s(),l(c,{key:1,class:"text-red-500",name:"cross-circle"})),t.min_role_weight_required?_((s(),h("span",{key:2,title:a(e)("Minimum Role Weight Required to Download"),class:"text-xs"},[f("("+r(t.min_role_weight_required)+")",1)],8,H)),[[d]]):u("",!0)]),i(x,null,{default:n(()=>[f(r(t.is_external?t.file_name:t.file.file_name),1)]),_:2},1024),i(x,null,{default:n(()=>[t.is_external?(s(),h("span",K,r(a(e)("Unknown")),1)):(s(),h("span",W,r(a(C)(t.file.size,{units:["B","KB","MB","GB","TB"],space:!0})),1))]),_:2},1024),i(x,{class:"text-center"},{default:n(()=>[f(r(t.download_count),1)]),_:2},1024),i(x,{class:"whitespace-nowrap"},{default:n(()=>[_((s(),h("span",{title:a(D)(t.created_at)},[f(r(a(g)(t.created_at)),1)],8,J)),[[d]])]),_:2},1024),o("td",P,[_((s(),h("a",{href:m.route("download.download",t.slug),target:"_blank",class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:a(e)("Download")},[i(a(R),{class:"inline-block w-5 h-5"})],8,Q)),[[d]]),a(y)("update downloads")?_((s(),l(p,{key:0,as:"a",href:m.route("admin.download.edit",t.id),class:"inline-flex items-center justify-center text-yellow-600 dark:text-yellow-500 hover:text-yellow-800 dark:hover:text-yellow-800",title:a(e)("Edit Download")},{default:n(()=>[i(a(q),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):u("",!0),a(y)("delete downloads")?_((s(),l(p,{key:1,as:"button",method:"DELETE",href:m.route("admin.download.delete",t.id),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:a(e)("Delete Download")},{default:n(()=>[i(a(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"Are you sure you want to delete this Download permanently?"}],[d]]):u("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ie as default};
