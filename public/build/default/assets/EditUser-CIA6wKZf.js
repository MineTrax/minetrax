import{R as X,h as H,k as W,p as q,y as J,c as K,w as f,s as Q,o as u,b as i,j as e,a as t,f as Z,d as m,g as p,t as c,P as ee,i as O}from"./app-Bh5uq5T2.js";import{_ as le}from"./AdminLayout-CjagHNcW.js";import{u as oe}from"./useAuthorizable-B2TCKEv8.js";import{_ as se}from"./AppBreadcrumb-CEuU89zV.js";import{_ as G}from"./index-Bvduyk2Y.js";import{_ as n}from"./XInput-DCzxRxFm.js";import{_ as h}from"./XSelect-BNHpxeBM.js";import{_ as w}from"./XSwitch-CKXNt_tU.js";import{_ as re}from"./XTextarea-yhoJ8p1G.js";import{X as te}from"./XDatePicker-C0LLNRPd.js";import{s as M}from"./vue-multiselect.esm-lFmy1_TG.js";import"./CloudArrowDownIcon-peUI9MxF.js";import"./BaseLayout-DfXV1WNK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B54a8he6.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./Input-L4k_NWmM.js";import"./Label-Ba68SC45.js";import"./SelectValue-B7I_M8gp.js";import"./useFormControl-pZlKIA-M.js";import"./Switch-BuK66UNA.js";import"./Textarea-NVzGqjzD.js";import"./index.es-C81gQyvq.js";const ae={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},ie={class:"flex justify-between mb-4"},ne={class:"mt-6"},de={class:"shadow overflow-hidden rounded-lg"},ue={class:"px-4 py-5 bg-card sm:p-6"},me={class:"grid grid-cols-6 gap-6"},pe={class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},ce={class:"col-span-6 sm:col-span-3"},be={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},he={key:0,class:"col-span-6 sm:col-span-3 flex items-center"},we={class:"col-span-6 sm:col-span-3"},ge={key:1,class:"col-span-6 sm:col-span-3 flex items-center"},ye={class:"col-span-6 sm:col-span-3"},Ve={class:"col-span-6 sm:col-span-3"},ke={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-3"},xe={class:"col-span-6 sm:col-span-3"},Ue={class:"col-span-6 sm:col-span-3"},De={class:"col-span-6 sm:col-span-3"},Le={class:"col-span-6 sm:col-span-3"},Ee={class:"col-span-6 sm:col-span-3"},Se={class:"col-span-6 sm:col-span-3"},Be={class:"col-span-6 sm:col-span-3"},Pe={key:2,class:"col-span-6 sm:col-span-3"},Re={for:"badges",class:"block text-sm font-medium text-foreground mb-2"},Ce={key:0,class:"text-xs text-destructive mt-2"},Te={class:"col-span-6 sm:col-span-3"},$e={for:"country",class:"block text-sm font-medium text-foreground mb-2"},je={key:0,class:"text-xs text-destructive mt-2"},Ae={key:3,class:"col-span-6 sm:col-span-3"},Ne={class:"col-span-6 sm:col-span-3 flex items-center"},Oe={class:"col-span-6 sm:col-span-6"},Ge={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},Me={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},hl={__name:"EditUser",props:{userData:Object,rolesList:Object,badgesList:Object,countryList:Object},setup(b){var V,k,v,x,U,D,L,E,S,B,P,R,C,T,$,j,A,N;const{__:o}=Q(),{can:g}=oe(),Y=X(),a=b,z=[{text:o("Admin"),current:!1},{text:o("Users"),url:route("admin.user.index"),current:!1},{text:o("Edit User"),current:!0},{text:"@"+a.userData.username,current:!0}],y=H({}),l=W({_method:"PUT",username:a.userData.username,name:a.userData.name,email:a.userData.email,photo:null,dob:a.userData.dob,gender:a.userData.gender,cover_image_url:a.userData.cover_image_url,s_discord_username:((k=(V=a.userData)==null?void 0:V.social_links)==null?void 0:k.s_discord_username)??null,s_steam_profile_url:((x=(v=a.userData)==null?void 0:v.social_links)==null?void 0:x.s_steam_profile_url)??null,s_twitter_url:((D=(U=a.userData)==null?void 0:U.social_links)==null?void 0:D.s_twitter_url)??null,s_youtube_url:((E=(L=a.userData)==null?void 0:L.social_links)==null?void 0:E.s_youtube_url)??null,s_facebook_url:((B=(S=a.userData)==null?void 0:S.social_links)==null?void 0:B.s_facebook_url)??null,s_twitch_url:((R=(P=a.userData)==null?void 0:P.social_links)==null?void 0:R.s_twitch_url)??null,s_website_url:((T=(C=a.userData)==null?void 0:C.social_links)==null?void 0:T.s_website_url)??null,s_linkedin_url:((j=($=a.userData)==null?void 0:$.social_links)==null?void 0:j.s_linkedin_url)??null,s_tiktok_url:((N=(A=a.userData)==null?void 0:A.social_links)==null?void 0:N.s_tiktok_url)??null,about:a.userData.about,profile_photo_source:a.userData.settings?a.userData.settings.profile_photo_source:null,show_gender:a.userData.settings?!!+a.userData.settings.show_gender:!1,show_yob:a.userData.settings?!!+a.userData.settings.show_yob:!1,verified:!!a.userData.verified_at,role:a.userData.roles[0].name,badges:a.userData.badges,country:a.userData.country,country_id:a.userData.country_id,password:"",locale:a.userData.locale});function F(){var s;const d=l.badges;l.badges=l.badges.map(_=>_.id),l.country_id=(s=l.country)==null?void 0:s.id,l.post(route("admin.user.update",a.userData.id),{preserveScroll:!0}),l.badges=d}function I(){axios.get(route("locale.list")).then(d=>{d.data.forEach(_=>{y.value[_.code]=_.display})}).catch(d=>{console.log(d)})}return q(()=>{Y.props.localeSwitcherEnabled&&I()}),(d,s)=>{const _=J("app-head");return u(),K(le,null,{default:f(()=>[i(_,{title:e(o)("Edit User @:username",{username:b.userData.username})},null,8,["title"]),t("div",ae,[t("div",ie,[i(se,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:z})]),t("div",ne,[t("form",{onSubmit:Z(F,["prevent"])},[t("div",de,[t("div",ue,[t("div",me,[t("div",pe,[i(n,{id:"username",modelValue:e(l).username,"onUpdate:modelValue":s[0]||(s[0]=r=>e(l).username=r),label:e(o)("Username"),error:e(l).errors.username,type:"text",name:"username"},null,8,["modelValue","label","error"])]),t("div",_e,[i(n,{id:"email",modelValue:e(l).email,"onUpdate:modelValue":s[1]||(s[1]=r=>e(l).email=r),label:e(o)("Email Address"),error:e(l).errors.email,type:"email",name:"email"},null,8,["modelValue","label","error"])]),t("div",ce,[i(n,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[2]||(s[2]=r=>e(l).name=r),label:e(o)("Full Name"),error:e(l).errors.name,type:"text",name:"name"},null,8,["modelValue","label","error"])]),t("div",be,[i(h,{id:"profile_photo_source",modelValue:e(l).profile_photo_source,"onUpdate:modelValue":s[3]||(s[3]=r=>e(l).profile_photo_source=r),name:"profile_photo_source",error:e(l).errors.profile_photo_source,label:e(o)("Use Avatar from"),"select-list":{linked_player:e(o)("Linked Player"),gravatar:e(o)("Gravatar")},placeholder:e(o)("Uploaded Photo")},null,8,["modelValue","error","label","select-list","placeholder"])]),t("div",fe,[i(te,{id:"dob",modelValue:e(l).dob,"onUpdate:modelValue":s[4]||(s[4]=r=>e(l).dob=r),label:e(o)("Date of Birth"),placeholder:e(o)("Select your date of birth"),error:e(l).errors.dob,name:"dob"},null,8,["modelValue","label","placeholder","error"])]),e(l).dob?(u(),m("div",he,[i(w,{id:"show_yob",modelValue:e(l).show_yob,"onUpdate:modelValue":s[5]||(s[5]=r=>e(l).show_yob=r),label:e(o)("Show Year of Birth"),help:e(o)("Show Year of Birth in your public profile."),name:"show_yob",error:e(l).errors.show_yob},null,8,["modelValue","label","help","error"])])):p("",!0),t("div",we,[i(h,{id:"gender",modelValue:e(l).gender,"onUpdate:modelValue":s[6]||(s[6]=r=>e(l).gender=r),name:"gender",error:e(l).errors.gender,label:e(o)("Gender"),placeholder:e(o)("Prefer not to say"),"select-list":{m:e(o)("Male"),f:e(o)("Female"),o:e(o)("Others")}},null,8,["modelValue","error","label","placeholder","select-list"])]),e(l).gender?(u(),m("div",ge,[i(w,{id:"show_gender",modelValue:e(l).show_gender,"onUpdate:modelValue":s[7]||(s[7]=r=>e(l).show_gender=r),label:e(o)("Show Gender"),help:e(o)("Show Gender in your public profile."),name:"show_gender",error:e(l).errors.show_gender},null,8,["modelValue","label","help","error"])])):p("",!0),t("div",ye,[i(n,{id:"s_discord_username",modelValue:e(l).s_discord_username,"onUpdate:modelValue":s[8]||(s[8]=r=>e(l).s_discord_username=r),label:e(o)("Discord Username"),error:e(l).errors.s_discord_username,autocomplete:"s_discord_username",type:"text",name:"s_discord_username",help:e(o)("Eg: username#1234")},null,8,["modelValue","label","error","help"])]),t("div",Ve,[i(n,{id:"s_steam_profile_url",modelValue:e(l).s_steam_profile_url,"onUpdate:modelValue":s[9]||(s[9]=r=>e(l).s_steam_profile_url=r),label:e(o)("Steam Profile URL"),error:e(l).errors.s_steam_profile_url,autocomplete:"s_steam_profile_url",type:"text",name:"s_steam_profile_url",help:e(o)("Eg: https://steamcommunity.com/id/username")},null,8,["modelValue","label","error","help"])]),t("div",ke,[i(n,{id:"s_twitter_url",modelValue:e(l).s_twitter_url,"onUpdate:modelValue":s[10]||(s[10]=r=>e(l).s_twitter_url=r),label:e(o)("Twitter Profile URL"),error:e(l).errors.s_twitter_url,autocomplete:"s_twitter_url",type:"text",name:"s_twitter_url",help:e(o)("Eg: https://twitter.com/@username")},null,8,["modelValue","label","error","help"])]),t("div",ve,[i(n,{id:"s_youtube_url",modelValue:e(l).s_youtube_url,"onUpdate:modelValue":s[11]||(s[11]=r=>e(l).s_youtube_url=r),label:e(o)("YouTube URL"),error:e(l).errors.s_youtube_url,autocomplete:"s_youtube_url",type:"text",name:"s_youtube_url",help:e(o)("Eg: https://www.youtube.com/minecraft")},null,8,["modelValue","label","error","help"])]),t("div",xe,[i(n,{id:"s_facebook_url",modelValue:e(l).s_facebook_url,"onUpdate:modelValue":s[12]||(s[12]=r=>e(l).s_facebook_url=r),label:e(o)("Facebook URL"),error:e(l).errors.s_facebook_url,autocomplete:"s_facebook_url",type:"text",name:"s_facebook_url",help:e(o)("Eg: https://www.facebook.com/minecraft")},null,8,["modelValue","label","error","help"])]),t("div",Ue,[i(n,{id:"s_twitch_url",modelValue:e(l).s_twitch_url,"onUpdate:modelValue":s[13]||(s[13]=r=>e(l).s_twitch_url=r),label:e(o)("Twitch URL"),error:e(l).errors.s_twitch_url,autocomplete:"s_twitch_url",type:"text",name:"s_twitch_url",help:e(o)("Eg: https://www.twitch.tv/minecraft")},null,8,["modelValue","label","error","help"])]),t("div",De,[i(n,{id:"s_linkedin_url",modelValue:e(l).s_linkedin_url,"onUpdate:modelValue":s[14]||(s[14]=r=>e(l).s_linkedin_url=r),label:e(o)("LinkedIn URL"),error:e(l).errors.s_linkedin_url,autocomplete:"s_linkedin_url",type:"text",name:"s_linkedin_url",help:e(o)("Eg: https://www.linkedin.com/in/minecraft")},null,8,["modelValue","label","error","help"])]),t("div",Le,[i(n,{id:"s_tiktok_url",modelValue:e(l).s_tiktok_url,"onUpdate:modelValue":s[15]||(s[15]=r=>e(l).s_tiktok_url=r),label:e(o)("TikTok URL"),error:e(l).errors.s_tiktok_url,autocomplete:"s_tiktok_url",type:"text",name:"s_tiktok_url",help:e(o)("Eg: https://www.tiktok.com/@minecraft")},null,8,["modelValue","label","error","help"])]),t("div",Ee,[i(n,{id:"s_website_url",modelValue:e(l).s_website_url,"onUpdate:modelValue":s[16]||(s[16]=r=>e(l).s_website_url=r),label:e(o)("Website URL"),error:e(l).errors.s_website_url,autocomplete:"s_website_url",type:"text",name:"s_website_url",help:e(o)("Eg: https://my-personal-blog.com")},null,8,["modelValue","label","error","help"])]),t("div",Se,[i(h,{id:"role",modelValue:e(l).role,"onUpdate:modelValue":s[17]||(s[17]=r=>e(l).role=r),name:"role",error:e(l).errors.role,label:e(o)("Role"),placeholder:e(o)("Select role"),"select-list":b.rolesList,disabled:!e(g)("assign roles")},null,8,["modelValue","error","label","placeholder","select-list","disabled"])]),t("div",Be,[i(re,{id:"about",modelValue:e(l).about,"onUpdate:modelValue":s[18]||(s[18]=r=>e(l).about=r),rows:4,label:e(o)("About Yourself"),help:e(o)("Something about yourself in 255 characters."),error:e(l).errors.about,name:"about"},null,8,["modelValue","label","help","error"])]),e(g)("assign badges")?(u(),m("div",Pe,[t("label",Re,c(e(o)("User Badges")),1),i(e(M),{id:"badges",modelValue:e(l).badges,"onUpdate:modelValue":s[19]||(s[19]=r=>e(l).badges=r),class:"block w-full border-input rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:b.badgesList,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:e(o)("Search")+"...",label:"name","track-by":"id"},null,8,["modelValue","options","placeholder"]),e(l).errors.badges?(u(),m("p",Ce,c(e(l).errors.badges),1)):p("",!0)])):p("",!0),t("div",Te,[t("label",$e,c(e(o)("Country")),1),i(e(M),{id:"country",modelValue:e(l).country,"onUpdate:modelValue":s[20]||(s[20]=r=>e(l).country=r),class:"block w-full border-input rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:b.countryList,multiple:!1,placeholder:e(o)("Search")+"...",label:"name","track-by":"id"},null,8,["modelValue","options","placeholder"]),e(l).errors.country_id?(u(),m("p",je,c(e(l).errors.country_id),1)):p("",!0)]),d.$page.props.localeSwitcherEnabled?(u(),m("div",Ae,[i(h,{id:"locale",modelValue:e(l).locale,"onUpdate:modelValue":s[21]||(s[21]=r=>e(l).locale=r),name:"locale",error:e(l).errors.locale,label:e(o)("Language"),placeholder:e(o)("Select Language..."),"select-list":y.value},null,8,["modelValue","error","label","placeholder","select-list"])])):p("",!0),t("div",Ne,[i(w,{id:"verified",modelValue:e(l).verified,"onUpdate:modelValue":s[22]||(s[22]=r=>e(l).verified=r),label:e(o)("Verified User"),help:e(o)("Show a blue verified tick after username."),name:"verified",error:e(l).errors.verified},null,8,["modelValue","label","help","error"])]),t("div",Oe,[i(n,{id:"password",modelValue:e(l).password,"onUpdate:modelValue":s[23]||(s[23]=r=>e(l).password=r),label:e(o)("Change User Password"),error:e(l).errors.password,autocomplete:"new-password",type:"text",name:"password",help:e(o)("Leave it empty if you dont want to change password")},null,8,["modelValue","label","error","help"])])])]),t("div",Ge,[i(e(G),{variant:"outline","as-child":""},{default:f(()=>[i(e(ee),{href:d.route("admin.user.index")},{default:f(()=>[O(c(e(o)("Cancel")),1)]),_:1},8,["href"])]),_:1}),i(e(G),{type:"submit",disabled:e(l).processing},{default:f(()=>[e(l).processing?(u(),m("svg",Me,s[24]||(s[24]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):p("",!0),O(" "+c(e(o)("Update User")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{hl as default};
