import{_ as N}from"./AdminLayout-CxVM27ib.js";import{u as U}from"./useAuthorizable-Cf1MTXSt.js";import{u as $}from"./AppLayout-D09sHPWy.js";import{o,d as u,a as r,s as w,z as k,c as _,w as l,q as B,b as a,u as s,t as n,p as c,y as I,f as y,e as d}from"./app-B6MSbjiR.js";import{_ as V}from"./DataTable-hnP3yKY2.js";import{D as x}from"./DtRowItem-Cfc6QIWY.js";import{_ as E}from"./UserDisplayname-DrgyYFYl.js";import{r as T}from"./NoSymbolIcon-BJZ6j4Ni.js";import{r as C}from"./EyeIcon-BI7y0NRc.js";import{r as L}from"./PencilSquareIcon-BjbWkljD.js";import{r as M}from"./TrashIcon-C6bDJBBA.js";import"./keyboard-D8XalHIH.js";import"./open-closed-LifvgtoZ.js";import"./CloudArrowDownIcon-CMU1uDwp.js";import"./index-DwFICxA8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DyYhHgsS.js";import"./vue-multiselect.esm-Dtutmjl3.js";import"./XMarkIcon-o8SeIREM.js";import"./hidden-BChwjN3c.js";function z(p,m){return o(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m0-3-3-3m0 0-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})])}function R(p,m){return o(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}const S={class:"px-10 py-8 mx-auto text-secondary-400"},F={class:"flex justify-between mb-4"},O={class:"text-3xl font-bold text-secondary-500 dark:text-secondary-300"},q={class:"px-4 py-4 text-sm font-medium text-center text-secondary-800 whitespace-nowrap dark:text-secondary-200"},H=["src","title"],J={class:"flex items-center justify-center"},P=["src"],G={class:"px-4 whitespace-nowrap"},K={key:0,class:"text-xs whitespace-nowrap"},Q=["title"],W={class:"px-4 py-3 space-x-1 text-sm font-medium whitespace-nowrap"},X=["title"],Y=["title"],Z={key:2,class:"text-xs italic"},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ge={__name:"IndexUser",props:{countries:Array,roles:Array,users:Object,filters:Object},setup(p){const{can:m}=U(),{__:t}=B(),{formatTimeAgoToNow:g,formatToDayDateString:v}=$(),b=p,A=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"flag",label:t("Flag"),filterable:{key:"country.name",type:"multiselect",options:b.countries,searchable:!0}},{key:"avatar",label:t("Avatar")},{key:"name",label:t("Name"),class:"w-3/12",sortable:!0,filterable:[{type:"text",key:"name",label:t("Name")},{key:"is_verified",type:"select",options:["true","false"],searchable:!1,label:t("Verified")}]},{key:"username",label:t("Username"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"email",label:t("Email"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"created_at",label:t("Joined"),sortable:!0,class:"w-2/12"},{key:"role_id",label:t("Role"),class:"w-2/12",sortable:!1,filterable:{key:"roles.display_name",type:"multiselect",options:b.roles,searchable:!0}},{key:"flags",label:t("Flags"),sortable:!1,class:"w-1/12"},{key:"actions",label:t("Actions"),sortable:!1,class:"w-2/12 text-right"}];return(f,te)=>{const D=w("app-head"),h=w("InertiaLink"),i=k("tippy"),j=k("confirm");return o(),_(N,null,{default:l(()=>[a(D,{title:s(t)("Users Administration")},null,8,["title"]),r("div",S,[r("div",F,[r("h1",O,n(s(t)("Users")),1)]),a(V,{class:"bg-white rounded shadow dark:bg-surface-800",header:A,data:p.users,filters:p.filters},{default:l(({item:e})=>[r("td",q,n(e.id),1),r("td",null,[c(r("img",{class:"w-10 h-10 mx-auto",src:e.country.photo_path,alt:"Avatar",title:e.country.name},null,8,H),[[i]])]),r("td",null,[r("div",J,[r("img",{class:"w-10 h-10 rounded-full",src:e.profile_photo_url,alt:"Avatar"},null,8,P)])]),r("td",G,[r("div",{class:"text-sm font-semibold text-secondary-900 dark:text-secondary-300",style:I([e.roles[0].color?{color:e.roles[0].color}:null])},[a(h,{href:f.route("user.public.get",e.username)},{default:l(()=>[a(E,{user:e,"icon-class":"w-4 h-4","text-class":"text-sm"},null,8,["user"])]),_:2},1032,["href"])],4)]),a(x,null,{default:l(()=>[y(n(e.username),1)]),_:2},1024),a(x,null,{default:l(()=>[r("div",null,n(e.email),1),e.discord_user_id?(o(),u("div",K,n(s(t)("Discord ID"))+": "+n(e.discord_user_id),1)):d("",!0)]),_:2},1024),a(x,{class:"whitespace-nowrap"},{default:l(()=>[c((o(),u("span",{title:s(v)(e.created_at)},[y(n(s(g)(e.created_at)),1)],8,Q)),[[i]])]),_:2},1024),a(x,null,{default:l(()=>[y(n(e.roles[0].display_name),1)]),_:2},1024),r("td",W,[e.muted_at?c((o(),u("span",{key:0,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-orange-100 text-orange-800 dark:bg-orange-700 dark:bg-opacity-25 dark:text-orange-400",title:s(t)("Muted")},[a(s(R),{class:"inline-block w-4 h-4"})],8,X)),[[i]]):d("",!0),e.banned_at?c((o(),u("span",{key:1,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-error-100 text-error-800 dark:bg-error-700 dark:bg-opacity-25 dark:text-error-400",title:s(t)("Banned")},[a(s(T),{class:"inline-block w-4 h-4"})],8,Y)),[[i]]):d("",!0),!e.muted_at&&!e.banned_at?(o(),u("span",Z,n(s(t)("None")),1)):d("",!0)]),r("td",ee,[c((o(),_(h,{as:"a",href:f.route("user.public.get",e.username),class:"inline-flex items-center justify-center text-primary-500 hover:text-primary-800",title:s(t)("View Profile")},{default:l(()=>[a(s(C),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]),s(m)("impersonate users")?c((o(),_(h,{key:0,as:"a",href:f.route("admin.impersonate.take",e.id),class:"inline-flex items-center justify-center text-orange-500 hover:text-orange-800",title:s(t)("Impersonate User")},{default:l(()=>[a(s(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]):d("",!0),s(m)("update users")?c((o(),_(h,{key:1,as:"a",href:f.route("admin.user.edit",e.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:s(t)("Edit User")},{default:l(()=>[a(s(L),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]):d("",!0),s(m)("delete users")?c((o(),_(h,{key:2,as:"button",method:"DELETE",href:f.route("admin.user.delete",e.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:s(t)("Delete User")},{default:l(()=>[a(s(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"Are you sure you want to delete this User permanently?"}],[i]]):d("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ge as default};
