import{u as Q,A as ee}from"./AppLayout-CqcjxrDM.js";import{o as l,d as i,a as e,r as A,j as te,O as se,i as B,S as G,F as V,g as N,n as z,f,t as a,c as v,e as y,b as d,T as ne,C as K,q as ae,y as W,w as r,p as le,u as t,_ as oe,P as S,m as u}from"./app-DGL2Fa5_.js";import{D as x}from"./DtRowItem-BkqVxso6.js";import{_ as I}from"./CommonStatusBadge-DqwdlBEP.js";import{I as ie}from"./Icon-BYaicAl8.js";import{L as Y}from"./LoadingSpinner-DXdr-Eto.js";import{_ as re}from"./Chart-BzBagpQc.js";import{_ as de}from"./DialogModal-hgDo2nbE.js";import{_ as ce}from"./SecondaryButton-C9HKD31Z.js";import{X as ue}from"./XInput-DlNZ0gzS.js";import{L as he}from"./LoadingButton-CZ1dipXX.js";import{r as O}from"./EyeIcon-lUBKyawJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuthorizable-Bm1Fc6dd.js";import"./Modal-D_s0-wlF.js";function me(s,o){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function ye(s,o){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})])}function _e(s,o){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const fe={class:"flex flex-col"},pe={id:"tableSection",class:"flex flex-col"},ge={class:"overflow-x-auto"},xe={class:"inline-block min-w-full align-middle"},ve={class:"overflow-hidden"},ke={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},be={class:"bg-gray-100 dark:bg-gray-700"},we={class:"inline-flex items-center"},Pe=["onClick"],Se={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ce={key:0},$e=["colspan"],De={key:1},Le=["colspan"],Ie={key:0,class:"flex items-center justify-center"},M={__name:"ArrayTable",props:{data:{required:!1,default:()=>[],type:Array},url:{required:!1,type:String},header:{required:!0,type:Array}},setup(s){const o=s,k=A(!0),b=A([]);te(()=>{o.url?(k.value=!0,se.get(o.url).then(_=>{b.value=_.data.data}).catch(_=>{console.error("Error fetching data",_)}).finally(()=>{k.value=!1})):b.value=o.data});const w=A(""),C=A(""),D=B(()=>{let _=[...b.value];return w.value&&_.sort((E,p)=>{let g=T(E,w.value),P=T(p,w.value);if(g===void 0&&P===void 0)return 0;if(g===void 0)return 1;if(P===void 0)return-1;let L=0;return typeof g=="string"?L=g.localeCompare(P):(g<P&&(L=-1),g>P&&(L=1)),C.value==="desc"?-L:L}),_});function T(_,E){return E.split(".").reduce((p,g)=>(p||{})[g],_)}function U(_){w.value===_?C.value==="asc"?C.value="desc":(w.value="",C.value=""):(w.value=_,C.value="asc")}const F=B(()=>w.value?w.value.replace("-",""):""),j=B(()=>C.value==="desc"?"desc":"asc");return(_,E)=>(l(),i("div",fe,[e("div",pe,[e("div",ge,[e("div",xe,[e("div",ve,[e("table",ke,[e("thead",be,[e("tr",null,[G(_.$slots,"header",{},()=>[(l(!0),i(V,null,N(s.header,p=>(l(),i("th",{key:p.key,scope:"col",class:z(["px-4 py-3 text-xs font-semibold text-left text-gray-400 dark:text-gray-300",[p.class?p.class:""]])},[e("div",we,[e("div",{class:"inline-flex items-center uppercase cursor-pointer",onClick:g=>p.sortable?U(p.key):null},[f(a(p.label)+" ",1),p.sortable?(l(),v(ie,{key:0,name:F.value===p.key?j.value==="asc"?"sort-up":"sort-down":"sort-updown",class:z(["inline-block w-3 h-3 ml-1 text-gray-400 dark:text-gray-300",[F.value===p.key?"text-light-blue-500 dark:text-light-blue-400":""]])},null,8,["name","class"])):y("",!0)],8,Pe)])],2))),128))])])]),k.value?y("",!0):(l(),i("tbody",Se,[(l(!0),i(V,null,N(D.value,p=>(l(),i("tr",{key:p.id},[G(_.$slots,"default",{item:p,data:D.value},()=>[(l(!0),i(V,null,N(s.header,g=>(l(),i("td",{key:g.key,class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-gray-100"},a(p[g.key]),1))),128))])]))),128)),D.value.length<=0?(l(),i("tr",Ce,[e("td",{colspan:s.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},a(_.__("No data found")),9,$e)])):y("",!0)])),k.value?(l(),i("tfoot",De,[e("tr",null,[e("td",{colspan:s.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},[k.value?(l(),i("div",Ie,[d(Y,{class:"w-6 h-6",loading:k.value},null,8,["loading"])])):y("",!0)],8,Le)])])):y("",!0)])])])])])]))}},Ee={class:"px-2 py-4 mx-auto md:py-12 md:px-10 max-w-7xl"},Ae={class:"flex flex-col md:flex-row justify-between mb-8"},Ve={class:"flex items-center"},Ne={class:"text-lg font-bold text-gray-500 md:text-3xl dark:text-gray-300"},Te={class:"ml-3 text-lg"},Fe={class:"flex space-x-2"},je={class:"flex flex-col space-y-8 text-gray-800 dark:text-gray-300"},Ue={class:"grid w-full gap-2 md:grid-cols-3"},He={class:"w-full grid-cols-3 gap-6 p-2 leading-8 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-2 md:grid"},Be={class:"col-span-3 -mb-4 text-lg font-bold text-gray-500 dark:text-gray-400"},Oe={class:"font-semibold text-gray-500 dark:text-gray-400"},Me={class:"font-bold"},ze={class:"font-semibold text-gray-500"},Re={class:"font-bold"},qe={class:"font-semibold text-gray-500"},Ze={class:"font-bold"},Xe={class:"font-semibold text-gray-500"},Ge={key:0},Ke={class:"flex items-center"},We={class:"flex-shrink-0 w-8 h-8"},Ye=["src"],Je={class:"ml-2"},Qe={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},et={key:1,class:"italic text-red-500"},tt={key:1},st={class:"flex items-center"},nt={class:"flex-shrink-0 w-8 h-8"},at=["src"],lt={class:"ml-2"},ot=["content"],it={class:"italic text-red-500"},rt={key:2,class:"flex items-center space-x-2"},dt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},ct={class:"font-semibold text-gray-500"},ut={class:"font-bold"},ht={key:0},mt={class:"font-semibold text-gray-500"},yt={class:"font-bold"},_t={class:"font-semibold text-gray-500"},ft={class:"flex items-center font-bold"},pt=["src","alt"],gt={class:"font-semibold text-gray-500"},xt={class:"flex flex-col font-bold"},vt={class:"text-xs text-gray-500 dark:text-gray-400"},kt={class:"font-semibold text-gray-500"},bt={key:0,class:"flex flex-col font-bold"},wt={class:"text-xs text-gray-500 dark:text-gray-400"},Pt={key:1,class:"font-bold"},St={class:"font-semibold text-gray-500"},Ct={class:"mt-1 font-bold leading-normal"},$t={class:"font-semibold text-gray-500"},Dt={class:"mt-1 font-bold leading-normal"},Lt={class:"font-semibold text-gray-500"},It={class:"font-bold"},Et={class:"font-semibold text-gray-500"},At={key:0},Vt={class:"flex items-center"},Nt={class:"flex-shrink-0 w-8 h-8"},Tt=["src"],Ft={class:"ml-2"},jt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Ut={key:1,class:"italic text-red-500"},Ht={key:1,class:"flex items-center space-x-2"},Bt={key:0,class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Ot={key:1,class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Mt={class:"font-semibold text-gray-500"},zt={key:0},Rt={class:"flex items-center"},qt={class:"flex-shrink-0 w-8 h-8"},Zt=["src"],Xt={class:"ml-2"},Gt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Kt={key:1,class:"italic text-red-500"},Wt={key:1,class:"flex items-center space-x-2"},Yt={key:0,class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Jt={key:1,class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Qt={class:"font-semibold text-gray-500"},es={class:"flex flex-col font-bold"},ts={class:"text-xs text-gray-500 dark:text-gray-400"},ss={class:"font-semibold text-gray-500"},ns={class:"mt-1 font-bold leading-normal"},as={key:2},ls={class:"font-semibold text-gray-500"},os={class:"mt-1 font-bold leading-normal"},is={key:3},rs={class:"font-semibold text-gray-500"},ds={class:"font-bold mt-0.5 leading-normal"},cs={key:4},us={class:"font-semibold text-gray-500"},hs={key:0},ms={class:"flex flex-wrap gap-2"},ys=["title","href"],_s=["disabled"],fs={key:2,class:"text-xs text-red-400"},ps={class:"w-full p-2 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-1"},gs={class:"col-span-3 text-lg font-bold text-gray-500 dark:text-gray-400"},xs={key:1,class:"flex items-center justify-center"},vs={class:"text-sm leading-9 list-disc list-inside"},ks={key:2,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},bs={key:3,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},ws={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},Ps={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},Ss={class:"px-3 py-4 whitespace-nowrap"},Cs={class:"flex items-center"},$s=["content"],Ds=["src"],Ls={class:"px-6 py-4 whitespace-nowrap"},Is={key:0},Es={class:"flex items-center"},As={class:"flex-shrink-0 h-7 w-7"},Vs=["src"],Ns={class:"ml-2"},Ts={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Fs={key:1,class:"italic text-red-500"},js={key:1},Us={class:"flex items-center"},Hs={class:"flex-shrink-0 h-7 w-7"},Bs=["src"],Os={class:"ml-2"},Ms=["content"],zs={class:"italic text-red-500"},Rs={key:2,class:"flex items-center space-x-2"},qs={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},Zs={key:0},Xs={key:1,class:"italic text-gray-400"},Gs={class:"px-6 py-4 whitespace-nowrap"},Ks={key:0},Ws={class:"flex items-center"},Ys={class:"flex-shrink-0 h-7 w-7"},Js=["src"],Qs={class:"ml-2"},en={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},tn={key:1,class:"italic text-red-500"},sn={key:1,class:"flex items-center space-x-2"},nn={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},an=["title"],ln=["title"],on=["title"],rn={key:1,class:"italic text-gray-400"},dn={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},cn={key:0},un={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},hn={class:"text-sm"},mn={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},yn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},_n={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},fn={class:"flex items-center"},pn=["content"],gn=["src"],xn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},vn={class:"flex items-center"},kn={class:"font-extrabold text-gray-700 dark:text-gray-300"},bn={class:"whitespace-nowrap"},wn=["title"],Pn=["title"],Sn={key:1,class:"text-gray-400"},Cn={class:"whitespace-nowrap"},$n={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},Dn={key:1},Ln={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},In={class:"text-sm"},En={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},An={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Vn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Nn={class:"flex items-center"},Tn=["content"],Fn=["src"],jn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Un={class:"flex items-center"},Hn={class:"flex-shrink-0 h-7 w-7"},Bn=["src"],On={class:"ml-2"},Mn={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},zn={key:1,class:"italic text-red-500"},Rn={class:"whitespace-nowrap"},qn=["title"],Zn=["title"],Xn={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},Gn={class:"text-lg font-bold"},ca={__name:"ShowPunishment",props:{punishment:Object,permissions:Object},setup(s){var R;const{__:o}=le(),{formatTimeAgoToNow:k,formatToDayDateString:b,secondsToHMS:w}=Q(),C=s,D=(R=ne().props.banwarden)==null?void 0:R.canShowMaskedIp,T=[{key:"id",label:o("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12"},{key:"type.value",sortable:!0,label:o("Type"),class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:o("Player")},...D?[{key:"ip_address",sortable:!0,label:o("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!0,label:o("Staff")},{key:"reason",sortable:!0,label:o("Reason")},{key:"start_at",sortable:!0,label:o("Date")},{key:"end_at",sortable:!0,label:o("Expires")},{key:"is_active",label:o("Status"),sortable:!0,class:"text-center"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],U=[{key:"id",label:o("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:o("Flag"),sortable:!0,class:"text-left w-12"},{key:"player_displayname",label:o("Display name"),sortable:!0},{key:"ip_address",sortable:!0,label:o("IP Address"),class:"text-center"},{key:"session_started_at",label:o("Started"),sortable:!0},{key:"session_ended_at",label:o("Ended"),sortable:!0},{key:"server_id",label:o("Server"),sortable:!0},{key:"play_time",label:o("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:o("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],F=[{key:"id",label:o("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:o("Flag"),sortable:!0,class:"text-left w-12"},{key:"username",label:o("Player"),sortable:!0},{key:"ip_address",sortable:!0,label:o("Last IP Address"),class:"text-center"},{key:"last_seen_at",label:o("Last Seen"),sortable:!0},{key:"first_seen_at",label:o("First Seen"),sortable:!0},{key:"play_time",label:o("Play Time"),sortable:!0,class:"text-right"},{key:"punishments_count",label:o("Punishments"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],j=A(null),_=K({file:null}),E=()=>{j.value.click()},p=h=>{const m=h.target.files[0];m&&(_.file=m,_.post(route("player.punishment.evidence.store",C.punishment.id)))},g=A(!1),P=K({reason:""});function L(){setTimeout(()=>{location.reload()},5e3)}return(h,m)=>{const H=ae("InertiaLink"),c=W("tippy"),J=W("confirm");return l(),v(ee,null,{default:r(()=>{var q,Z;return[d(oe,{title:t(o)("Punishments")},null,8,["title"]),e("div",Ee,[e("div",Ae,[e("div",Ve,[e("h1",Ne,a(t(o)("Punishment #:id",{id:s.punishment.id,punish:s.punishment.type.value})),1),e("span",Te,[d(I,{status:s.punishment.type.value},null,8,["status"]),d(I,{status:s.punishment.is_active?"active":"inactive"},null,8,["status"]),s.punishment.is_active&&s.punishment.end_at==null?(l(),v(I,{key:0,status:"permanent"})):y("",!0)])]),e("div",Fe,[s.permissions.canPardon&&s.punishment.is_active?(l(),i("button",{key:0,class:"inline-flex items-center px-4 py-2 bg-green-500 dark:bg-cool-green-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-600 active:bg-green-700 focus:outline-none focus:border-green-800 focus:shadow-outline-green transition ease-in-out duration-150",onClick:m[0]||(m[0]=n=>g.value=!0)},[e("span",null,a(t(o)("Pardon")),1)])):y("",!0),d(t(S),{href:h.route("player.punishment.index"),class:"hidden md:inline-flex items-center px-4 py-2 bg-gray-400 dark:bg-cool-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:r(()=>[e("span",null,a(t(o)("Back")),1)]),_:1},8,["href"])])]),e("div",je,[e("div",Ue,[e("div",He,[e("h3",Be,a(t(o)("Punishment Details")),1),e("div",null,[e("p",Oe,a(t(o)("Type")),1),e("p",Me,[d(I,{status:s.punishment.type.value},null,8,["status"])])]),e("div",null,[e("p",ze,a(t(o)("ID")),1),e("p",Re,a(s.punishment.id),1)]),e("div",null,[e("p",qe,a(t(o)("Status")),1),e("p",Ze,[d(I,{status:s.punishment.is_active?"active":"inactive"},null,8,["status"])])]),e("div",null,[e("p",Xe,a(t(o)("Player")),1),s.punishment.uuid&&s.punishment.victim_player?(l(),i("div",Ge,[e("div",Ke,[e("div",We,[e("img",{class:"w-8 h-8",src:s.punishment.victim_player.avatar_url,alt:""},null,8,Ye)]),e("div",Je,[u((l(),v(t(S),{as:"a",href:h.route("player.show",s.punishment.victim_player.uuid),class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.punishment.victim_player.uuid},{default:r(()=>[s.punishment.victim_player.username?(l(),i("span",Qe,a(s.punishment.victim_player.username),1)):(l(),i("span",et,a(t(o)("Unknown")),1))]),_:1},8,["href","content"])),[[c]])])])])):s.punishment.uuid?(l(),i("div",tt,[e("div",st,[e("div",nt,[e("img",{class:"w-8 h-8",src:h.route("player.avatar.get",s.punishment.uuid),alt:""},null,8,at)]),e("div",lt,[u((l(),i("div",{class:"font-medium text-gray-900 dark:text-gray-200",content:s.punishment.uuid},[e("span",it,a(t(o)("Unknown")),1)],8,ot)),[[c]])])])])):(l(),i("div",rt,[m[5]||(m[5]=e("img",{class:"w-8 h-8",src:"/images/pc_head.png",alt:""},null,-1)),e("span",dt,a(t(o)("IP :punish",{punish:s.punishment.type.key})),1)]))]),e("div",null,[e("p",ct,a(t(o)("IP :punish",{punish:s.punishment.type.value})),1),e("p",ut,a(s.punishment.is_ipban?t(o)("Yes"):t(o)("No")),1)]),t(D)?(l(),i("div",ht,[e("p",mt,a(t(o)("IP Address")),1),e("p",yt,a(s.punishment.ip_address||s.punishment.masked_ip_address||t(o)("None")),1)])):y("",!0),e("div",null,[e("p",_t,a(t(o)("Country")),1),e("div",ft,[e("img",{src:s.punishment.country.photo_path,alt:s.punishment.country.iso_code,class:"w-8 h-8 mr-2"},null,8,pt),f(" "+a(s.punishment.country.name),1)])]),e("div",null,[e("p",gt,a(t(o)("Date")),1),e("div",xt,[e("span",null,a(t(k)(s.punishment.start_at)),1),e("span",vt,a(t(b)(s.punishment.start_at)),1)])]),e("div",null,[e("p",kt,a(t(o)("Expires")),1),s.punishment.end_at?(l(),i("div",bt,[e("span",null,a(t(k)(s.punishment.end_at)),1),e("span",wt,a(t(b)(s.punishment.end_at)),1)])):(l(),i("div",Pt,a(t(o)("Never")),1))]),e("div",null,[e("p",St,a(t(o)("Reason")),1),e("p",Ct,a(s.punishment.reason),1)]),e("div",null,[e("p",$t,a(t(o)("Notes")),1),e("p",Dt,a(s.punishment.notes??t(o)("-")),1)]),e("div",null,[e("p",Lt,a(t(o)("Server Scope")),1),e("p",It,a(s.punishment.server_scope),1)]),e("div",null,[e("p",Et,a(t(o)("Punished by")),1),e("div",null,[s.punishment.creator_uuid?(l(),i("div",At,[e("div",Vt,[e("div",Nt,[e("img",{class:"w-8 h-8",src:s.punishment.creator_player?s.punishment.creator_player.avatar_url:h.route("player.avatar.get",s.punishment.creator_uuid),alt:""},null,8,Tt)]),e("div",Ft,[u((l(),v(t(S),{as:"a",href:s.punishment.creator_player?h.route("player.show",s.punishment.creator_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.punishment.creator_uuid},{default:r(()=>{var n,$;return[(n=s.punishment.creator_player)!=null&&n.username||s.punishment.creator_username?(l(),i("span",jt,a((($=s.punishment.creator_player)==null?void 0:$.username)||s.punishment.creator_username),1)):(l(),i("span",Ut,a(t(o)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(l(),i("div",Ht,[m[6]||(m[6]=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1)),s.punishment.creator_username&&s.punishment.creator_username!=="Console"?(l(),i("span",Bt,a(s.punishment.creator_username),1)):(l(),i("span",Ot,a(t(o)("CONSOLE")),1))]))])]),s.punishment.removed_at&&(s.punishment.remover_uuid||s.punishment.remover_username)?(l(),i(V,{key:1},[e("div",null,[e("p",Mt,a(t(o)("Pardon by")),1),e("div",null,[s.punishment.remover_uuid?(l(),i("div",zt,[e("div",Rt,[e("div",qt,[e("img",{class:"w-8 h-8",src:s.punishment.remover_player?s.punishment.remover_player.avatar_url:h.route("player.avatar.get",s.punishment.remover_uuid),alt:""},null,8,Zt)]),e("div",Xt,[u((l(),v(t(S),{as:"a",href:s.punishment.remover_player?h.route("player.show",s.punishment.remover_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.punishment.remover_uuid},{default:r(()=>{var n,$;return[(n=s.punishment.remover_player)!=null&&n.username||s.punishment.creator_username?(l(),i("span",Gt,a((($=s.punishment.remover_player)==null?void 0:$.username)||s.punishment.creator_username),1)):(l(),i("span",Kt,a(t(o)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(l(),i("div",Wt,[m[7]||(m[7]=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1)),s.punishment.remover_username&&s.punishment.remover_username!=="Console"?(l(),i("span",Yt,a(s.punishment.remover_username),1)):(l(),i("span",Jt,a(t(o)("CONSOLE")),1))]))])]),e("div",null,[e("p",Qt,a(t(o)("Pardon at")),1),e("div",es,[e("span",null,a(t(k)(s.punishment.removed_at)),1),e("span",ts,a(t(b)(s.punishment.removed_at)),1)])]),e("div",null,[e("p",ss,a(t(o)("Pardon Reason")),1),e("p",ns,a(s.punishment.removed_reason??t(o)("-")),1)])],64)):y("",!0),s.punishment.plugin_punishment_id?(l(),i("div",as,[e("p",ls,a(t(o)("Plugin Punishment ID")),1),e("p",os,a(s.punishment.plugin_punishment_id),1)])):y("",!0),s.punishment.origin_server_name?(l(),i("div",is,[e("p",rs,a(t(o)("Origin Server")),1),e("p",ds,a(s.punishment.origin_server_name),1)])):y("",!0),s.permissions.canViewEvidence?(l(),i("div",cs,[e("p",us,a(t(o)("Uploaded Evidence")),1),s.punishment.evidences<=0&&!s.permissions.canCreateEvidence?(l(),i("p",hs,a("-"))):y("",!0),e("div",ms,[(l(!0),i(V,null,N(s.punishment.evidences,n=>(l(),i("div",{key:n.id,class:"p-1.5 relative dark:bg-gray-900 bg-gray-200 rounded group"},[u((l(),i("a",{target:"_blank",title:t(o)("View :file",{file:n.file_name}),href:h.route("player.punishment.evidence.show",{playerPunishment:s.punishment.id,evidence:n.id})},[d(t(me),{class:"w-6 h-6 p-0.5"})],8,ys)),[[c]]),s.permissions.canDeleteEvidence?u((l(),v(t(S),{key:0,as:"button",class:"block",method:"DELETE",href:h.route("player.punishment.evidence.delete",{playerPunishment:s.punishment.id,evidence:n.id})},{default:r(()=>[d(t(_e),{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:text-red-400 absolute -top-2 -right-2 w-5 h-5 p-0.5 text-gray-500 dark:text-gray-200 cursor-pointer"})]),_:2},1032,["href"])),[[J,{message:"Are you sure you want to delete this evidence?"}],[c]]):y("",!0)]))),128)),s.permissions.canCreateEvidence?(l(),i("input",{key:0,ref_key:"fileRef",ref:j,type:"file",class:"hidden",onInput:p},null,544)):y("",!0),s.permissions.canCreateEvidence?(l(),i("button",{key:1,disabled:t(_).processing,class:"p-1.5 dark:bg-gray-900 bg-gray-200 rounded",onClick:E},[t(_).processing?y("",!0):(l(),v(t(ye),{key:0,class:"w-6 h-6 p-0.5"})),d(Y,{loading:t(_).processing,class:"w-6 h-6 p-1"},null,8,["loading"])],8,_s)):y("",!0),t(_).errors.file?(l(),i("p",fs,a(t(_).errors.file),1)):y("",!0)])])):y("",!0)]),e("div",ps,[e("h3",gs,a(t(o)("AI Insights")),1),s.punishment.insights&&s.punishment.insights.score?(l(),v(re,{key:0,options:{series:[{type:"gauge",startAngle:180,endAngle:0,center:["50%","75%"],radius:"90%",min:0,max:1,splitNumber:8,axisLine:{lineStyle:{width:6,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:20,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{length:12,lineStyle:{color:"auto",width:2}},splitLine:{length:20,lineStyle:{color:"auto",width:5}},axisLabel:{color:"#464646",fontSize:20,distance:-60,rotate:"tangential",formatter:function(n){return""}},title:{offsetCenter:[0,"-10%"],fontSize:20},detail:{fontSize:30,offsetCenter:[0,"-35%"],valueAnimation:!0,formatter:function(n){return Math.round(n*100)+""},color:"inherit"},data:[{value:((q=s.punishment.insights)==null?void 0:q.score)/100,name:t(o)("Score")}]}]},height:"250px",autoresize:!0},null,8,["options"])):y("",!0),s.punishment.insights&&s.punishment.insights.insights?(l(),i("div",xs,[e("ul",vs,[(l(!0),i(V,null,N((Z=s.punishment.insights)==null?void 0:Z.insights,n=>(l(),i("li",{key:n},a(n),1))),128))])])):y("",!0),s.punishment.insights?y("",!0):(l(),i("div",ks,a(t(o)("No insights available! Check back later.")),1)),s.punishment.insights&&s.punishment.insights.status==="generating"?(l(),i("div",bs,[f(a(t(o)("Generating insights. Hang tight!"))+" ",1),m[8]||(m[8]=e("br",null,null,-1)),f(" "+a(t(o)("Please refresh the page after few seconds.")),1)])):y("",!0)])]),e("div",null,[e("h3",ws,a(t(o)("Last 5 Punishments")),1),e("div",Ps,[d(M,{url:h.route("player.punishment.show.history",s.punishment.id),header:T,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:n})=>[d(x,null,{default:r(()=>[u((l(),v(t(S),{as:"a",href:h.route("player.punishment.show",n.id),class:z(["cursor-pointer focus:outline-none hover:underline",n.is_active?"font-bold dark:text-gray-300":""]),content:t(o)("View details")},{default:r(()=>[f(a(n.id),1)]),_:2},1032,["href","class","content"])),[[c]])]),_:2},1024),e("td",Ss,[e("div",Cs,[u((l(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:n.country.name},[e("img",{class:"w-8 h-8",src:n.country.photo_path,alt:""},null,8,Ds)],8,$s)),[[c]])])]),d(x,{class:"text-center"},{default:r(()=>[d(I,{status:n.type.value},null,8,["status"])]),_:2},1024),e("td",Ls,[n.uuid&&n.victim_player?(l(),i("div",Is,[e("div",Es,[e("div",As,[e("img",{class:"h-7 w-7",src:n.victim_player.avatar_url,alt:""},null,8,Vs)]),e("div",Ns,[u((l(),v(t(S),{as:"a",href:h.route("player.show",n.victim_player.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.victim_player.uuid},{default:r(()=>[n.victim_player.username?(l(),i("span",Ts,a(n.victim_player.username),1)):(l(),i("span",Fs,a(t(o)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])])):n.uuid?(l(),i("div",js,[e("div",Us,[e("div",Hs,[e("img",{class:"h-7 w-7",src:h.route("player.avatar.get",n.uuid),alt:""},null,8,Bs)]),e("div",Os,[u((l(),i("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-200",content:n.uuid},[e("span",zs,a(t(o)("Unknown")),1)],8,Ms)),[[c]])])])])):(l(),i("div",Rs,[m[9]||(m[9]=e("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1)),e("span",qs,a(t(o)("IP :punish",{punish:n.type.key})),1)]))]),t(D)?(l(),v(x,{key:0,class:"text-center"},{default:r(()=>[n.ip_address||n.masked_ip_address?(l(),i("span",Zs,a(n.ip_address||n.masked_ip_address),1)):(l(),i("span",Xs,a(t(o)("None")),1))]),_:2},1024)):y("",!0),e("td",Gs,[n.creator_uuid?(l(),i("div",Ks,[e("div",Ws,[e("div",Ys,[e("img",{class:"h-7 w-7",src:n.creator_player?n.creator_player.avatar_url:h.route("player.avatar.get",n.creator_uuid),alt:""},null,8,Js)]),e("div",Qs,[u((l(),v(t(S),{as:"a",href:n.creator_player?h.route("player.show",n.creator_player.uuid):"#",class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.creator_uuid},{default:r(()=>{var $,X;return[($=n.creator_player)!=null&&$.username||n.creator_username?(l(),i("span",en,a(((X=n.creator_player)==null?void 0:X.username)||n.creator_username),1)):(l(),i("span",tn,a(t(o)("Unknown")),1))]}),_:2},1032,["href","content"])),[[c]])])])])):(l(),i("div",sn,[m[10]||(m[10]=e("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1)),e("span",nn,a(t(o)("CONSOLE")),1)]))]),d(x,null,{default:r(()=>[u((l(),i("p",{title:n.reason,class:"w-20 truncate"},[f(a(n.reason),1)],8,an)),[[c]])]),_:2},1024),d(x,{class:"whitespace-nowrap"},{default:r(()=>[u((l(),i("span",{title:t(b)(n.start_at)},[f(a(t(k)(n.start_at)),1)],8,ln)),[[c]])]),_:2},1024),d(x,{class:"whitespace-nowrap"},{default:r(()=>[n.end_at?u((l(),i("span",{key:0,title:t(b)(n.end_at)},[f(a(t(k)(n.end_at)),1)],8,on)),[[c]]):(l(),i("span",rn,a(t(o)("None")),1))]),_:2},1024),d(x,{class:"text-center"},{default:r(()=>[d(I,{status:n.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),e("td",dn,[u((l(),v(t(S),{title:t(o)("View details"),as:"a",href:h.route("player.punishment.show",n.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:r(()=>[d(t(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[c]])])]),_:1},8,["url"])])]),s.permissions.canViewSessions?(l(),i("div",cn,[e("h3",un,[f(a(t(o)("Last 5 Sessions"))+" ",1),e("span",hn,a(t(o)("(before this punishment)")),1)]),e("div",mn,[d(M,{url:h.route("player.punishment.show.session",s.punishment.id),header:U,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:n})=>[e("td",yn,a(n.id),1),e("td",_n,[e("div",fn,[u((l(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:n.country.name},[e("img",{class:"w-8 h-8",src:n.country.photo_path,alt:""},null,8,gn)],8,pn)),[[c]])])]),e("td",xn,[e("div",vn,[d(H,{as:"a",href:h.route("player.intel.session.show",{player:n.player_uuid,session:n.id}),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline"},{default:r(()=>[e("span",kn,a(n.player_displayname)+" ("+a(n.player_username)+") ",1)]),_:2},1032,["href"])])]),d(x,{class:"text-center"},{default:r(()=>[u((l(),i("span",bn,[f(a(n.player_ip_address||"-"),1)])),[[c]])]),_:2},1024),d(x,null,{default:r(()=>[u((l(),i("span",{class:"whitespace-nowrap",title:t(b)(n.session_started_at)},[f(a(t(k)(n.session_started_at)),1)],8,wn)),[[c]])]),_:2},1024),d(x,null,{default:r(()=>[n.session_ended_at?u((l(),i("span",{key:0,class:"whitespace-nowrap",title:t(b)(n.session_ended_at)},[f(a(t(k)(n.session_ended_at)),1)],8,Pn)),[[c]]):(l(),i("span",Sn,"â€”"))]),_:2},1024),d(x,null,{default:r(()=>[u((l(),i("span",Cn,[f(a(n.server.name),1)])),[[c]])]),_:2},1024),d(x,{class:"text-right"},{default:r(()=>[f(a(t(w)(n.play_time,!0)),1)]),_:2},1024),d(x,{class:"text-right"},{default:r(()=>[f(a(t(w)(n.afk_time,!0)),1)]),_:2},1024),e("td",$n,[u((l(),v(H,{as:"a",href:h.route("player.intel.session.show",{player:n.player_uuid,session:n.id}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(o)("View Session Details")},{default:r(()=>[d(t(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):y("",!0),s.permissions.canViewAlts?(l(),i("div",Dn,[e("h3",Ln,[f(a(t(o)("Possible Alts"))+" ",1),e("span",In,a(t(o)("(players with similar ip address)")),1)]),e("div",En,[d(M,{url:h.route("player.punishment.show.alt",s.punishment.id),header:F,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:n})=>[e("td",An,a(n.id),1),e("td",Vn,[e("div",Nn,[u((l(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:n.country.name},[e("img",{class:"w-8 h-8",src:n.country.photo_path,alt:""},null,8,Fn)],8,Tn)),[[c]])])]),e("td",jn,[e("div",Un,[e("div",Hn,[e("img",{class:"h-7 w-7",src:n.avatar_url,alt:""},null,8,Bn)]),e("div",On,[u((l(),v(t(S),{as:"a",href:h.route("player.show",n.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.uuid},{default:r(()=>[n.username?(l(),i("span",Mn,a(n.username),1)):(l(),i("span",zn,a(t(o)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])]),d(x,{class:"text-center"},{default:r(()=>[u((l(),i("span",Rn,[f(a(n.ip_address||"-"),1)])),[[c]])]),_:2},1024),d(x,null,{default:r(()=>[u((l(),i("span",{class:"whitespace-nowrap",title:t(b)(n.last_seen_at)},[f(a(t(k)(n.last_seen_at)),1)],8,qn)),[[c]])]),_:2},1024),d(x,null,{default:r(()=>[u((l(),i("span",{class:"whitespace-nowrap",title:t(b)(n.first_seen_at)},[f(a(t(k)(n.first_seen_at)),1)],8,Zn)),[[c]])]),_:2},1024),d(x,{class:"text-right"},{default:r(()=>[f(a(t(w)(n.play_time,!0)),1)]),_:2},1024),d(x,{class:"text-right"},{default:r(()=>[f(a(n.punishments_count),1)]),_:2},1024),e("td",Xn,[u((l(),v(H,{as:"a",href:h.route("player.show",{player:n.uuid}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(o)("View Details")},{default:r(()=>[d(t(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):y("",!0)])]),d(de,{show:g.value,onClose:m[4]||(m[4]=n=>g.value=!1)},{title:r(()=>[e("h3",Gn,a(t(o)("Pardon")),1)]),content:r(()=>[d(ue,{modelValue:t(P).reason,"onUpdate:modelValue":m[1]||(m[1]=n=>t(P).reason=n),label:t(o)("Please provide a reason.."),error:t(P).errors.reason},null,8,["modelValue","label","error"])]),footer:r(()=>[d(ce,{class:"mr-2",onClick:m[2]||(m[2]=n=>g.value=!1)},{default:r(()=>[f(a(t(o)("Cancel")),1)]),_:1}),d(he,{loading:t(P).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:shadow-outline-gray",onClick:m[3]||(m[3]=()=>{t(P).delete(h.route("player.punishment.pardon",{playerPunishment:s.punishment.id}),{onSuccess:()=>{g.value=!1,L()}})})},{default:r(()=>[f(a(t(o)("Pardon")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]}),_:1})}}};export{ca as default};
