import{T as X,s as S,z as $,o as c,c as R,w as k,b as i,u as e,a as s,t as r,m,f as u,l as B,x as b,d as _,g as V,F as C,e as y,q as F,v as U}from"./app-e2d1b450.js";import{_ as O}from"./AdminLayout-3f7d09eb.js";import{L as K}from"./LoadingButton-e52e2caf.js";import{_ as q}from"./CopyToClipboard-da0e6391.js";import{X as x}from"./XInput-268b3a8c.js";import{X as g}from"./XCheckbox-1f613f36.js";import{X as z}from"./XSelect-4e86beeb.js";import{I as A}from"./Icon-14807a0c.js";import{s as P}from"./vue-multiselect.esm-cce3b90e.js";import"./AppLayout-5fa2c638.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./useAuthorizable-6471aaac.js";import"./use-resolve-button-type-d43e0d20.js";import"./open-closed-f6ca1aaf.js";import"./CloudArrowDownIcon-5f838156.js";import"./index-921c4872.js";const G={class:"py-12 px-10 max-w-6xl mx-auto flex"},H={class:"flex-1"},J={class:"flex flex-col w-full"},Q={class:"bg-white dark:bg-cool-gray-800 shadow w-full rounded"},Z={class:"px-6 py-4 border-b dark:border-gray-700 dark:text-gray-300 font-bold"},ee={class:"mt-10 sm:mt-0"},se={class:"md:grid md:grid-cols-3 md:gap-6"},oe={class:"mt-5 md:mt-0 md:col-span-3"},le={class:"flex items-center justify-end col-span-6 sm:col-span-2 px-6 py-2"},te=["onSubmit"],re={class:"shadow overflow-hidden sm:rounded-md"},ne={class:"px-4 py-5 bg-white dark:bg-cool-gray-800 sm:p-6"},ae={class:"grid grid-cols-6 gap-6"},ie={class:"flex items-center col-span-6 sm:col-span-4"},ce={class:"col-span-6 sm:col-span-6"},de={class:"col-span-6 sm:col-span-6"},_e={class:"flex items-center col-span-6 sm:col-span-2"},ue={class:"col-span-6 sm:col-span-4"},me={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},pe={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},ye={class:"text-xs font-light text-gray-400"},fe={class:"w-full space-y-2"},he={class:"flex flex-col items-end"},ge={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},be={class:"text-sm text-right text-gray-600 dark:text-gray-400"},ke=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1),xe=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1),ve={class:"flex space-x-4"},we=s("div",{class:"w-5"},null,-1),Ve={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Ce={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Ue={class:"flex space-x-4"},Ae=["onClick"],Pe={class:"grid grid-cols-2 gap-2 w-full"},Se={class:"flex-1"},$e=["onUpdate:modelValue","placeholder"],Re={key:0,class:"text-red-500 text-sm"},qe={class:"flex-1"},Ee={class:"text-sm text-red-500 mt-0.5"},Le={class:"flex-1 flex col-span-2 space-x-2"},Ie={key:0,class:"text-gray-500 text-sm italic text-center pt-2"},Ne={key:1,class:"text-sm text-red-400 text-center"},Te={class:"flex justify-center pt-5"},We={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},je={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},De={class:"text-xs font-light text-gray-400"},Me={class:"w-full space-y-2"},Ye={class:"flex flex-col items-end"},Xe={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},Be={class:"text-sm text-right text-gray-600 dark:text-gray-400"},Fe=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1),Oe=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1),Ke={class:"flex space-x-4"},ze=s("div",{class:"w-5"},null,-1),Ge={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},He={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Je={class:"flex space-x-4"},Qe=["onClick"],Ze={class:"grid grid-cols-2 gap-2 w-full"},es={class:"flex-1"},ss=["onUpdate:modelValue","placeholder"],os={key:0,class:"text-red-500 text-sm"},ls={class:"flex-1"},ts={class:"text-sm text-red-500 mt-0.5"},rs={class:"flex-1 flex col-span-2 space-x-2"},ns={key:0,class:"text-gray-500 text-sm italic text-center pt-2"},as={key:1,class:"text-sm text-red-400 text-center"},is={class:"flex justify-center pt-5"},cs={class:"flex items-center col-span-6 sm:col-span-6"},ds={class:"col-span-6 sm:col-span-6"},_s={class:"flex items-center col-span-6 sm:col-span-3"},us={class:"col-span-6 sm:col-span-3"},ms={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},ps={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},ys={class:"text-xs font-light text-gray-400"},fs={class:"w-full space-y-2"},hs={class:"flex flex-col items-end"},gs={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},bs={class:"text-sm text-right text-gray-600 dark:text-gray-400"},ks=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1),xs=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1),vs=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PASSWORD}",-1),ws={class:"flex space-x-4"},Vs=s("div",{class:"w-5"},null,-1),Cs={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Us={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},As={class:"flex space-x-4"},Ps=["onClick"],Ss={class:"grid grid-cols-2 gap-2 w-full"},$s={class:"flex-1"},Rs=["onUpdate:modelValue","placeholder"],qs={key:0,class:"text-red-500 text-sm"},Es={class:"flex-1"},Ls={class:"text-sm text-red-500 mt-0.5"},Is={class:"flex-1 flex col-span-2 space-x-2"},Ns={key:0,class:"text-red-500 text-sm italic text-center pt-2"},Ts={key:1,class:"text-gray-500 text-sm italic text-center pt-2"},Ws=s("br",null,null,-1),js={key:2,class:"text-sm text-red-400 text-center"},Ds={class:"flex justify-center pt-5"},Ms={class:"px-4 py-3 bg-gray-50 dark:bg-cool-gray-800 sm:px-6 flex justify-end"},to={__name:"PluginSetting",props:{settings:Object,settingsAccountLinkAfterSuccessCommands:Array,settingsAccountUnlinkAfterSuccessCommands:Array,settingsPlayerPasswordResetCommands:Array,serversForRankSync:Object,serversWithWebquery:Object},setup(f){const p=f,{__:o}=F(),l=X({enable_api:p.settings.enable_api,enable_account_link:p.settings.enable_account_link,max_players_link_per_account:p.settings.max_players_link_per_account,enable_sync_player_ranks_from_server:p.settings.enable_sync_player_ranks_from_server,sync_player_ranks_from_server_id:p.settings.sync_player_ranks_from_server_id,account_link_after_success_commands:p.settingsAccountLinkAfterSuccessCommands,account_unlink_after_success_commands:p.settingsAccountUnlinkAfterSuccessCommands,enable_player_password_reset:p.settings.enable_player_password_reset,player_password_reset_cooldown_in_seconds:p.settings.player_password_reset_cooldown_in_seconds,player_password_reset_commands:p.settingsPlayerPasswordResetCommands});function E(){l.account_link_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_link:!1}})}function L(h){l.account_link_after_success_commands.splice(h,1)}function v({name:h,hostname:d}){return`${h} - ${d}`}function I(){l.account_unlink_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_unlink:!1}})}function N(h){l.account_unlink_after_success_commands.splice(h,1)}function T(){l.player_password_reset_commands.push({command:"",servers:[],config:{is_player_online_required:!1}})}function W(h){l.player_password_reset_commands.splice(h,1)}const j=()=>{l.post(route("admin.setting.plugin.update"),{preserveScroll:!0,onSuccess:()=>{this.$inertia.replace(route("admin.setting.plugin.show"),{preserveState:!1,preserveScroll:!0})}})};return(h,d)=>{const D=S("app-head"),M=S("inertia-link"),Y=$("confirm"),w=$("tippy");return c(),R(O,null,{default:k(()=>[i(D,{title:e(o)("Plugin Settings")},null,8,["title"]),s("div",G,[s("div",H,[s("div",J,[s("div",Q,[s("div",Z,r(e(o)("Plugin Settings")),1),s("div",ee,[s("div",se,[s("div",oe,[s("div",le,[m((c(),R(M,{title:e(o)("Warning: This will Regenerate your API and Secret Key."),as:"button",method:"post",href:h.route("admin.setting.plugin.keygen"),class:"inline-flex justify-center py-2 px-4 border border-2 border-red-500 shadow-sm text-sm font-bold rounded-md text-red-500 hover:bg-red-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},{default:k(()=>[u(r(e(o)("Regenerate API Credentials")),1)]),_:1},8,["title","href"])),[[Y,{message:e(o)("Are you sure? This will regenerate new API Key and Secret and you will have to change in your Plugin config.yml")}],[w]])]),s("form",{autocomplete:"off",onSubmit:B(j,["prevent"])},[s("div",re,[s("div",ne,[s("div",ae,[s("div",ie,[i(g,{id:"enable_api",modelValue:e(l).enable_api,"onUpdate:modelValue":d[0]||(d[0]=t=>e(l).enable_api=t),label:e(o)("Enable Plugin"),help:e(o)("Enable this if you are having MineTrax plugin installed in your server."),name:"enable_api",error:e(l).errors.enable_api},null,8,["modelValue","label","help","error"])]),s("div",ce,[i(q,null,{default:k(t=>[m(i(x,{id:"plugin_api_key",title:e(o)("Click to Copy"),"model-value":t.status==="copied"?e(o)("Copied to Clipboard!"):f.settings.plugin_api_key,label:e(o)("API Key"),type:"text",name:"plugin_api_key","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:n=>t.copy(f.settings.plugin_api_key)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",de,[i(q,null,{default:k(t=>[m(i(x,{id:"plugin_api_secret",title:e(o)("Click to Copy"),"model-value":t.status==="copied"?e(o)("Copied to Clipboard!"):f.settings.plugin_api_secret,label:e(o)("API Secret"),type:"text",name:"plugin_api_secret","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:n=>t.copy(f.settings.plugin_api_secret)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",_e,[i(g,{id:"enable_account_link",modelValue:e(l).enable_account_link,"onUpdate:modelValue":d[1]||(d[1]=t=>e(l).enable_account_link=t),label:e(o)("Enable Account Link"),help:e(o)("Enable user to link their players to account"),name:"enable_account_link",error:e(l).errors.enable_account_link},null,8,["modelValue","label","help","error"])]),m(s("div",ue,[i(x,{id:"max_players_link_per_account",modelValue:e(l).max_players_link_per_account,"onUpdate:modelValue":d[2]||(d[2]=t=>e(l).max_players_link_per_account=t),label:e(o)("Max Players Per Account"),help:e(o)("Number of players that can be linked to one account in website."),type:"number",name:"max_players_link_per_account",error:e(l).errors.max_players_link_per_account,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[b,e(l).enable_account_link]]),m(s("div",me,[s("legend",pe,[u(r(e(o)("Account Link Success Commands"))+" ",1),s("span",ye,r(e(o)("(runs when a player is linked to account)")),1)]),s("div",fe,[s("div",he,[s("h3",ge,r(e(o)("Available Placeholders")),1),s("ol",be,[s("li",null,[ke,u(" - "+r(e(o)("Username of the player which is linked.")),1)]),s("li",null,[xe,u(" - "+r(e(o)("Unique Id of the player which is linked.")),1)])])]),s("div",ve,[we,s("label",Ve,r(e(o)("Command")),1),s("label",Ce,r(e(o)("Run on servers")),1)]),(c(!0),_(C,null,V(e(l).account_link_after_success_commands,(t,n)=>(c(),_("div",{key:n,class:"flex flex-col pb-2"},[s("div",Ue,[s("button",{type:"button",class:"focus:outline-none group",onClick:a=>L(n)},[i(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,Ae),s("div",Pe,[s("div",Se,[m(s("input",{"onUpdate:modelValue":a=>t.command=a,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${n+1}`,type:"text"},null,8,$e),[[U,t.command]]),e(l).errors[`account_link_after_success_commands.${n}.command`]?(c(),_("span",Re,r(e(l).errors[`account_link_after_success_commands.${n}.command`]),1)):y("",!0)]),s("div",qe,[i(e(P),{modelValue:t.servers,"onUpdate:modelValue":a=>t.servers=a,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",Ee,r(e(l).errors[`account_link_after_success_commands.${n}.servers`]),1)]),s("div",Le,[i(g,{id:`link.is_player_online_required_${n}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":a=>t.config.is_player_online_required=a,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${n}`,error:e(l).errors[`account_link_after_success_commands.${n}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),i(g,{id:`link.is_run_only_first_link_${n}`,modelValue:t.config.is_run_only_first_link,"onUpdate:modelValue":a=>t.config.is_run_only_first_link=a,name:`link.is_run_only_first_link_${n}`,label:e(o)("Run on first link only"),help:e(o)("This command should only run if given player is getting linked for first time. (Eg: This wont run if player get unlinked and then linked again)"),error:e(l).errors[`account_link_after_success_commands.${n}.config.is_run_only_first_link`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(l).account_link_after_success_commands.length<=0?(c(),_("div",Ie,r(e(o)("No commands on account link.")),1)):y("",!0),e(l).errors.account_link_after_success_commands?(c(),_("p",Ne,r(e(l).errors.account_link_after_success_commands),1)):y("",!0),s("div",Te,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:E},r(e(o)("Add New Link Command")),1)])])],512),[[b,e(l).enable_account_link]]),m(s("div",We,[s("legend",je,[u(r(e(o)("Account Unlink Success Commands"))+" ",1),s("span",De,r(e(o)("(runs when a player is unlinked from account)")),1)]),s("div",Me,[s("div",Ye,[s("h3",Xe,r(e(o)("Available Placeholders")),1),s("ol",Be,[s("li",null,[Fe,u(" - "+r(e(o)("Username of the player which is unlinked.")),1)]),s("li",null,[Oe,u(" - "+r(e(o)("Unique Id of the player which is unlinked.")),1)])])]),s("div",Ke,[ze,s("label",Ge,r(e(o)("Command")),1),s("label",He,r(e(o)("Run on servers")),1)]),(c(!0),_(C,null,V(e(l).account_unlink_after_success_commands,(t,n)=>(c(),_("div",{key:n,class:"flex flex-col pb-2"},[s("div",Je,[s("button",{type:"button",class:"focus:outline-none group",onClick:a=>N(n)},[i(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,Qe),s("div",Ze,[s("div",es,[m(s("input",{"onUpdate:modelValue":a=>t.command=a,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${n+1}`,type:"text"},null,8,ss),[[U,t.command]]),e(l).errors[`account_unlink_after_success_commands.${n}.command`]?(c(),_("span",os,r(e(l).errors[`account_unlink_after_success_commands.${n}.command`]),1)):y("",!0)]),s("div",ls,[i(e(P),{modelValue:t.servers,"onUpdate:modelValue":a=>t.servers=a,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",ts,r(e(l).errors[`account_unlink_after_success_commands.${n}.servers`]),1)]),s("div",rs,[i(g,{id:`unlink.is_player_online_required_${n}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":a=>t.config.is_player_online_required=a,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`unlink.is_player_online_required_${n}`,error:e(l).errors[`account_unlink_after_success_commands.${n}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),i(g,{id:`unlink.is_run_only_first_unlink_${n}`,modelValue:t.config.is_run_only_first_unlink,"onUpdate:modelValue":a=>t.config.is_run_only_first_unlink=a,name:`unlink.is_run_only_first_unlink_${n}`,label:e(o)("Run on first unlink only"),help:e(o)("This command should only run if given player is getting unlinked for first time. (Eg: This wont run if player was linked and unlinked before)"),error:e(l).errors[`account_unlink_after_success_commands.${n}.config.is_run_only_first_unlink`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(l).account_unlink_after_success_commands.length<=0?(c(),_("div",ns,r(e(o)("No commands on account unlink.")),1)):y("",!0),e(l).errors.account_unlink_after_success_commands?(c(),_("p",as,r(e(l).errors.account_unlink_after_success_commands),1)):y("",!0),s("div",is,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:I},r(e(o)("Add New Unlink Command")),1)])])],512),[[b,e(l).enable_account_link]]),s("div",cs,[i(g,{id:"enable_sync_player_ranks_from_server",modelValue:e(l).enable_sync_player_ranks_from_server,"onUpdate:modelValue":d[3]||(d[3]=t=>e(l).enable_sync_player_ranks_from_server=t),label:e(o)("Enable Player Rank Sync"),help:e(o)("Enable this if you want to sync your player rank from server instead of website calculated rank. you must create a rank for each group you have in server making sure rank shortname matches the name of your player group in server."),name:"enable_sync_player_ranks_from_server",error:e(l).errors.enable_sync_player_ranks_from_server},null,8,["modelValue","label","help","error"])]),m(s("div",ds,[i(z,{id:"sync_player_ranks_from_server_id",modelValue:e(l).sync_player_ranks_from_server_id,"onUpdate:modelValue":d[4]||(d[4]=t=>e(l).sync_player_ranks_from_server_id=t),name:"sync_player_ranks_from_server_id",error:e(l).errors.sync_player_ranks_from_server_id,label:e(o)("Rank Sync From Server"),placeholder:e(o)("Choose a server from which we should sync the rank.."),"disable-null":!1,"select-list":f.serversForRankSync},null,8,["modelValue","error","label","placeholder","select-list"])],512),[[b,e(l).enable_sync_player_ranks_from_server]]),s("div",_s,[i(g,{id:"enable_player_password_reset",modelValue:e(l).enable_player_password_reset,"onUpdate:modelValue":d[5]||(d[5]=t=>e(l).enable_player_password_reset=t),label:e(o)("Enable Player Password Reset"),help:e(o)("Enable this to allow user to reset their linked players password from website."),name:"enable_player_password_reset",error:e(l).errors.enable_player_password_reset},null,8,["modelValue","label","help","error"])]),m(s("div",us,[i(x,{id:"player_password_reset_cooldown_in_seconds",modelValue:e(l).player_password_reset_cooldown_in_seconds,"onUpdate:modelValue":d[6]||(d[6]=t=>e(l).player_password_reset_cooldown_in_seconds=t),label:e(o)("Password Reset Cooldown (in seconds)"),help:e(o)("Number of seconds player have to wait before resetting password again."),type:"number",name:"player_password_reset_cooldown_in_seconds",error:e(l).errors.player_password_reset_cooldown_in_seconds,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[b,e(l).enable_player_password_reset]]),m(s("div",ms,[s("legend",ps,[u(r(e(o)("Player Password Reset Commands"))+" ",1),s("span",ys,r(e(o)("(run when user try to reset his linked player password)")),1)]),s("div",fs,[s("div",hs,[s("h3",gs,r(e(o)("Available Placeholders")),1),s("ol",bs,[s("li",null,[ks,u(" - "+r(e(o)("Username of the player whose password is being reset.")),1)]),s("li",null,[xs,u(" - "+r(e(o)("Unique Id of the player whose password is being reset.")),1)]),s("li",null,[vs,u(" - "+r(e(o)("New validated password entered by user.")),1)])])]),s("div",ws,[Vs,s("label",Cs,r(e(o)("Command")),1),s("label",Us,r(e(o)("Run on servers")),1)]),(c(!0),_(C,null,V(e(l).player_password_reset_commands,(t,n)=>(c(),_("div",{key:n,class:"flex flex-col pb-2"},[s("div",As,[s("button",{type:"button",class:"focus:outline-none group",onClick:a=>W(n)},[i(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,Ps),s("div",Ss,[s("div",$s,[m(s("input",{"onUpdate:modelValue":a=>t.command=a,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${n+1}`,type:"text"},null,8,Rs),[[U,t.command]]),e(l).errors[`player_password_reset_commands.${n}.command`]?(c(),_("span",qs,r(e(l).errors[`player_password_reset_commands.${n}.command`]),1)):y("",!0)]),s("div",Es,[i(e(P),{modelValue:t.servers,"onUpdate:modelValue":a=>t.servers=a,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",Ls,r(e(l).errors[`player_password_reset_commands.${n}.servers`]),1)]),s("div",Is,[i(g,{id:`link.is_player_online_required_${n}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":a=>t.config.is_player_online_required=a,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${n}`,error:e(l).errors[`player_password_reset_commands.${n}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"])])])])]))),128)),e(l).errors.player_password_reset_commands&&e(l).player_password_reset_commands.length<=0?(c(),_("div",Ns,r(e(l).errors.player_password_reset_commands),1)):y("",!0),e(l).player_password_reset_commands.length<=0?(c(),_("div",Ts,[u(r(e(o)("No commands added. Please add at least one command, as required by your authentication plugin, for password reset functionality."))+" ",1),Ws,u(" "+r(e(o)("Eg: nlogin changepass {PLAYER_USERNAME} {PASSWORD}")),1)])):y("",!0),e(l).errors.account_link_after_success_commands?(c(),_("p",js,r(e(l).errors.account_link_after_success_commands),1)):y("",!0),s("div",Ds,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:T},r(e(o)("Add Password Reset Command")),1)])])],512),[[b,e(l).enable_player_password_reset]])])]),s("div",Ms,[i(K,{loading:e(l).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-bold rounded-md text-white bg-light-blue-600 hover:bg-light-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-blue-500 disabled:opacity-50 dark:bg-cool-gray-700 dark:hover:bg-cool-gray-600",type:"submit"},{default:k(()=>[u(r(e(o)("Save Plugin Settings")),1)]),_:1},8,["loading"])])])],40,te)])])])])])])])]),_:1})}}};export{to as default};
