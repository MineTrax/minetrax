import{k,p as U,y as D,c as E,w as _,s as q,o as d,b as i,j as e,a as t,f as C,d as m,g as u,t as c,P as M,i as x}from"./app-D9GuHpcZ.js";import{_ as N}from"./AdminLayout-DdnXiWbQ.js";import{_ as $}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as b}from"./index-B5if8pRS.js";import{_ as p}from"./XInput-Cvs-Jhqz.js";import{_ as z}from"./XTextarea-ClHuc1uh.js";import{_ as h}from"./XSwitch-awdJ8Wzd.js";import{E as A}from"./easymde-QJYvmxHQ.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./BaseLayout-B3-iVEMv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./Input-17rNUrUJ.js";import"./Label-hpeRY5vg.js";import"./Textarea-BbwV7nfC.js";import"./Switch-DbKyFhTc.js";import"./useFormControl-C0VJqXgZ.js";const B={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},L={class:"flex justify-between mb-4"},R={class:"mt-6"},T={class:"shadow overflow-hidden rounded-lg"},j={class:"px-4 py-5 bg-card sm:p-6"},F={class:"grid grid-cols-6 gap-6"},H={class:"col-span-6 sm:col-span-6"},I={class:"col-span-6 sm:col-span-6"},P={class:"flex items-center col-span-6 sm:col-span-3"},O={key:0,class:"flex items-center col-span-6 sm:col-span-3"},S={key:1,class:"col-span-6 sm:col-span-6"},W={key:2,class:"col-span-6 sm:col-span-6"},G={key:3,class:"col-span-6 sm:col-span-6"},J={for:"file",class:"block text-sm font-medium text-foreground mb-2"},K={class:"block p-2 w-full text-sm text-muted-foreground border border-input cursor-default rounded-lg bg-muted"},Q={class:"flex items-center col-span-6 sm:col-span-3"},X={key:4,class:"col-span-6 sm:col-span-3"},Y={class:"flex items-center col-span-6 sm:col-span-6"},Z={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},ee={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},De={__name:"EditDownload",props:{download:Object},setup(n){const{__:o}=q(),r=n,v=[{text:o("Admin"),current:!1},{text:o("Downloads"),url:route("admin.download.index"),current:!1},{text:o("Edit Download"),current:!0},{text:"#"+r.download.id,current:!0}];let f=null;const l=k({name:r.download.name,description:r.download.description,file_name:r.download.file_name,is_external_url_hidden:r.download.is_external_url_hidden,is_only_auth:r.download.is_only_auth,min_role_weight_required:r.download.min_role_weight_required,is_active:r.download.is_active,_method:"PUT"});U(()=>{f=new A({previewClass:"editor-preview prose max-w-none"})});function y(){l.description=f.value(),l.post(route("admin.download.update",r.download.id),{})}return(g,a)=>{const V=D("app-head");return d(),E(N,null,{default:_(()=>{var w;return[i(V,{title:e(o)("Edit Download #:id",{id:n.download.id})},null,8,["title"]),t("div",B,[t("div",L,[i($,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:v})]),t("div",R,[t("form",{onSubmit:C(y,["prevent"])},[t("div",T,[t("div",j,[t("div",F,[t("div",H,[i(p,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":a[0]||(a[0]=s=>e(l).name=s),label:e(o)("Download Name/Title"),error:e(l).errors.name,type:"text",name:"name"},null,8,["modelValue","label","error"])]),t("div",I,[i(z,{id:"description",modelValue:e(l).description,"onUpdate:modelValue":a[1]||(a[1]=s=>e(l).description=s),label:e(o)("Description"),error:e(l).errors.description,name:"description"},null,8,["modelValue","label","error"])]),t("div",P,[i(h,{id:"is_external","model-value":n.download.is_external,disabled:!0,label:e(o)("External URL"),help:e(o)("If you want to link to an external file, check this.")},null,8,["model-value","label","help"])]),n.download.is_external?(d(),m("div",O,[i(h,{id:"is_external_url_hidden",modelValue:e(l).is_external_url_hidden,"onUpdate:modelValue":a[2]||(a[2]=s=>e(l).is_external_url_hidden=s),label:e(o)("Hide External URL"),help:e(o)("Hide the actual external URL from end users."),name:"is_external_url_hidden",error:e(l).errors.is_external_url_hidden},null,8,["modelValue","label","help","error"])])):u("",!0),n.download.is_external?(d(),m("div",S,[i(p,{id:"file_url",disabled:!0,"model-value":n.download.file_url,label:e(o)("File Download URL"),help:e(o)("Eg: http://s3.amazonaws.com/bucket/file.zip"),type:"text",name:"file_url"},null,8,["model-value","label","help"])])):u("",!0),n.download.is_external?(d(),m("div",W,[i(p,{id:"file_name",modelValue:e(l).file_name,"onUpdate:modelValue":a[3]||(a[3]=s=>e(l).file_name=s),label:e(o)("File Name (with extension)"),error:e(l).errors.file_name,help:e(o)("Eg: file.zip"),type:"text",name:"file_name"},null,8,["modelValue","label","error","help"])])):u("",!0),n.download.is_external?u("",!0):(d(),m("div",G,[t("label",J,c(e(o)("File")),1),t("span",K,c((w=n.download.file)==null?void 0:w.file_name),1)])),t("div",Q,[i(h,{id:"is_only_auth",modelValue:e(l).is_only_auth,"onUpdate:modelValue":a[4]||(a[4]=s=>e(l).is_only_auth=s),label:e(o)("Authenticated Users Only"),help:e(o)("If only authenticated users should be able to view & download this file."),name:"is_only_auth",error:e(l).errors.is_only_auth},null,8,["modelValue","label","help","error"])]),e(l).is_only_auth?(d(),m("div",X,[i(p,{id:"min_role_weight_required",modelValue:e(l).min_role_weight_required,"onUpdate:modelValue":a[5]||(a[5]=s=>e(l).min_role_weight_required=s),label:e(o)("Minimum Role Weight"),help:e(o)("The minimum role weight required to download. Leave empty to allow all authenticated users."),error:e(l).errors.min_role_weight_required,type:"number",name:"min_role_weight_required"},null,8,["modelValue","label","help","error"])])):u("",!0),t("div",Y,[i(h,{id:"is_active",modelValue:e(l).is_active,"onUpdate:modelValue":a[6]||(a[6]=s=>e(l).is_active=s),label:e(o)("Active"),help:e(o)("Active downloads are visible to end users."),name:"is_active",error:e(l).errors.is_active},null,8,["modelValue","label","help","error"])])])]),t("div",Z,[i(e(b),{variant:"outline","as-child":""},{default:_(()=>[i(e(M),{href:g.route("admin.download.index")},{default:_(()=>[x(c(e(o)("Cancel")),1)]),_:1},8,["href"])]),_:1}),i(e(b),{type:"submit",disabled:e(l).processing},{default:_(()=>[e(l).processing?(d(),m("svg",ee,a[7]||(a[7]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),x(" "+c(e(o)("Update Download")),1)]),_:1},8,["disabled"])])])],32)])])]}),_:1})}}};export{De as default};
