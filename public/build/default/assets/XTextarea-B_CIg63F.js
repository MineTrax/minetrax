import{b as S}from"./index-DlYoUYeQ.js";import{_ as V}from"./Textarea-7mc2PQEx.js";import{_ as k}from"./Label-MSuCJuMN.js";import{c as d}from"./utils-D-KgF5mV.js";import{h as w,e as B,C,p,o as r,d as o,c as q,w as z,i as R,t as f,g as u,n as c,j as s,b as $,B as j,q as N}from"./app-Do9q-MyE.js";const T={key:0,class:"text-destructive ml-1"},E={key:0,class:"text-xs text-muted-foreground"},D={key:1,class:"text-xs text-destructive"},U={__name:"XTextarea",props:{modelValue:{type:[Number,String,Array,Object,Boolean,Date],default:""},name:String,help:String,label:String,id:String,error:String,autocomplete:{type:String,default:"off"},autofocus:{type:[String,Boolean],default:!1},required:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},helpErrorFlex:{type:String,default:"flex-col"},autoResize:{type:Boolean,default:!0},textareaClass:{type:String,default:""},divClass:{type:String,default:""},placeholder:String,rows:{type:Number,default:3}},emits:["update:modelValue"],setup(e,{expose:x,emit:y}){const t=e,h=y,a=w(null),i=S(t,"modelValue",h,{passive:!0,defaultValue:t.modelValue}),g=B(()=>d("transition-colors resize-none",`min-h-[${t.rows*1.5+2}rem]`,t.autoResize&&"hide-scrollbar",t.error&&"border-destructive focus-visible:ring-destructive",t.textareaClass)),n=async()=>{if(t.autoResize&&a.value){await N();const l=a.value.$el||a.value;l&&(l.style.height="auto",l.style.height=`${l.scrollHeight}px`)}},v=async l=>{await n()};return C(i,async()=>{await n()}),p(async()=>{await n()}),x({focus:()=>{a.value&&(a.value.$el||a.value).focus()},resizeTextarea:n}),(l,m)=>(r(),o("div",{class:c(s(d)("space-y-2",e.divClass))},[e.label?(r(),q(s(k),{key:0,for:e.id,class:c(s(d)("text-sm font-medium",e.error?"text-destructive":"text-foreground"))},{default:z(()=>[R(f(e.label)+" ",1),e.required?(r(),o("span",T,"*")):u("",!0)]),_:1},8,["for","class"])):u("",!0),$(s(V),{id:e.id,ref_key:"textareaRef",ref:a,modelValue:s(i),"onUpdate:modelValue":m[0]||(m[0]=b=>j(i)?i.value=b:null),name:e.name,class:c(g.value),autocomplete:e.autocomplete,autofocus:e.autofocus,required:e.required,disabled:e.disabled,placeholder:e.placeholder,onInput:v},null,8,["id","modelValue","name","class","autocomplete","autofocus","required","disabled","placeholder"]),e.help||e.error?(r(),o("div",{key:1,class:c(["flex gap-1",s(d)(e.help&&e.error?"justify-between":e.error?"justify-end":"justify-start",e.helpErrorFlex)])},[e.help?(r(),o("p",E,f(e.help),1)):u("",!0),e.error?(r(),o("p",D,f(e.error),1)):u("",!0)],2)):u("",!0)],2))}};export{U as _};
