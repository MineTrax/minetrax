import{C as X,q as $,y as S,c as R,w as k,o as c,b as d,u as e,a as s,t as r,m,f as u,l as B,s as h,d as _,g as V,F as C,e as y,p as F,v as U}from"./app-BDqFx3nJ.js";import{_ as O}from"./AdminLayout-CH0XHXWF.js";import{L as K}from"./LoadingButton-CIF9JOGX.js";import{_ as q}from"./CopyToClipboard-o78WAkIw.js";import{X as x}from"./XInput-BBvCiCBA.js";import{X as b}from"./XCheckbox-CWVtNjoa.js";import{X as z}from"./XSelect-B83QMKfN.js";import{I as A}from"./Icon-Bn9n1IU_.js";import{s as P}from"./vue-multiselect.esm-DBE_Bbjs.js";import"./AppLayout-_QfSG3gX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuthorizable-CnlAWZWI.js";import"./keyboard-B8FqkKla.js";import"./open-closed-j5RvPIdu.js";import"./CloudArrowDownIcon-qQUAiaKd.js";import"./index-DLGdJHO1.js";const G={class:"py-12 px-10 max-w-6xl mx-auto flex"},H={class:"flex-1"},J={class:"flex flex-col w-full"},Q={class:"bg-white dark:bg-cool-gray-800 shadow w-full rounded"},Z={class:"px-6 py-4 border-b dark:border-gray-700 dark:text-gray-300 font-bold"},ee={class:"mt-10 sm:mt-0"},se={class:"md:grid md:grid-cols-3 md:gap-6"},le={class:"mt-5 md:mt-0 md:col-span-3"},oe={class:"flex items-center justify-end col-span-6 sm:col-span-2 px-6 py-2"},te={class:"shadow overflow-hidden sm:rounded-md"},re={class:"px-4 py-5 bg-white dark:bg-cool-gray-800 sm:p-6"},ne={class:"grid grid-cols-6 gap-6"},ae={class:"flex items-center col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-6"},de={class:"col-span-6 sm:col-span-6"},ce={class:"flex items-center col-span-6 sm:col-span-2"},_e={class:"col-span-6 sm:col-span-4"},ue={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},me={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},pe={class:"text-xs font-light text-gray-400"},ye={class:"w-full space-y-2"},fe={class:"flex flex-col items-end"},ge={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},be={class:"text-sm text-right text-gray-600 dark:text-gray-400"},he={class:"flex space-x-4"},ke={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},xe={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},ve={class:"flex space-x-4"},we=["onClick"],Ve={class:"grid grid-cols-2 gap-2 w-full"},Ce={class:"flex-1"},Ue=["onUpdate:modelValue","placeholder"],Ae={key:0,class:"text-red-500 text-sm"},Pe={class:"flex-1"},$e={class:"text-sm text-red-500 mt-0.5"},Se={class:"flex-1 flex col-span-2 space-x-2"},Re={key:0,class:"text-gray-500 text-sm italic text-center pt-2"},qe={key:1,class:"text-sm text-red-400 text-center"},Ee={class:"flex justify-center pt-5"},Le={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},Ie={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},Ne={class:"text-xs font-light text-gray-400"},Te={class:"w-full space-y-2"},We={class:"flex flex-col items-end"},je={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},De={class:"text-sm text-right text-gray-600 dark:text-gray-400"},Me={class:"flex space-x-4"},Ye={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Xe={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},Be={class:"flex space-x-4"},Fe=["onClick"],Oe={class:"grid grid-cols-2 gap-2 w-full"},Ke={class:"flex-1"},ze=["onUpdate:modelValue","placeholder"],Ge={key:0,class:"text-red-500 text-sm"},He={class:"flex-1"},Je={class:"text-sm text-red-500 mt-0.5"},Qe={class:"flex-1 flex col-span-2 space-x-2"},Ze={key:0,class:"text-gray-500 text-sm italic text-center pt-2"},es={key:1,class:"text-sm text-red-400 text-center"},ss={class:"flex justify-center pt-5"},ls={class:"flex items-center col-span-6 sm:col-span-6"},os={class:"col-span-6 sm:col-span-6"},ts={class:"flex items-center col-span-6 sm:col-span-3"},rs={class:"col-span-6 sm:col-span-3"},ns={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},as={class:"text-sm text-gray-700 font-bold dark:font-semibold dark:text-gray-300"},is={class:"text-xs font-light text-gray-400"},ds={class:"w-full space-y-2"},cs={class:"flex flex-col items-end"},_s={class:"text-gray-700 dark:text-gray-300 text-sm font-semibold"},us={class:"text-sm text-right text-gray-600 dark:text-gray-400"},ms={class:"flex space-x-4"},ps={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},ys={class:"flex-1 block text-sm font-medium text-gray-700 dark:text-gray-400"},fs={class:"flex space-x-4"},gs=["onClick"],bs={class:"grid grid-cols-2 gap-2 w-full"},hs={class:"flex-1"},ks=["onUpdate:modelValue","placeholder"],xs={key:0,class:"text-red-500 text-sm"},vs={class:"flex-1"},ws={class:"text-sm text-red-500 mt-0.5"},Vs={class:"flex-1 flex col-span-2 space-x-2"},Cs={key:0,class:"text-red-500 text-sm italic text-center pt-2"},Us={key:1,class:"text-gray-500 text-sm italic text-center pt-2"},As={key:2,class:"text-sm text-red-400 text-center"},Ps={class:"flex justify-center pt-5"},$s={class:"px-4 py-3 bg-gray-50 dark:bg-cool-gray-800 sm:px-6 flex justify-end"},Os={__name:"PluginSetting",props:{settings:Object,settingsAccountLinkAfterSuccessCommands:Array,settingsAccountUnlinkAfterSuccessCommands:Array,settingsPlayerPasswordResetCommands:Array,serversForRankSync:Object,serversWithWebquery:Object},setup(f){const{__:l}=F(),p=f,o=X({enable_api:p.settings.enable_api,enable_account_link:p.settings.enable_account_link,max_players_link_per_account:p.settings.max_players_link_per_account,enable_sync_player_ranks_from_server:p.settings.enable_sync_player_ranks_from_server,sync_player_ranks_from_server_id:p.settings.sync_player_ranks_from_server_id,account_link_after_success_commands:p.settingsAccountLinkAfterSuccessCommands,account_unlink_after_success_commands:p.settingsAccountUnlinkAfterSuccessCommands,enable_player_password_reset:p.settings.enable_player_password_reset,player_password_reset_cooldown_in_seconds:p.settings.player_password_reset_cooldown_in_seconds,player_password_reset_commands:p.settingsPlayerPasswordResetCommands});function E(){o.account_link_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_link:!1}})}function L(g){o.account_link_after_success_commands.splice(g,1)}function v({name:g,hostname:n}){return`${g} - ${n}`}function I(){o.account_unlink_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_unlink:!1}})}function N(g){o.account_unlink_after_success_commands.splice(g,1)}function T(){o.player_password_reset_commands.push({command:"",servers:[],config:{is_player_online_required:!1}})}function W(g){o.player_password_reset_commands.splice(g,1)}const j=()=>{o.post(route("admin.setting.plugin.update"),{preserveScroll:!0,onSuccess:()=>{this.$inertia.replace(route("admin.setting.plugin.show"),{preserveState:!1,preserveScroll:!0})}})};return(g,n)=>{const D=$("app-head"),M=$("inertia-link"),Y=S("confirm"),w=S("tippy");return c(),R(O,null,{default:k(()=>[d(D,{title:e(l)("Plugin Settings")},null,8,["title"]),s("div",G,[s("div",H,[s("div",J,[s("div",Q,[s("div",Z,r(e(l)("Plugin Settings")),1),s("div",ee,[s("div",se,[s("div",le,[s("div",oe,[m((c(),R(M,{title:e(l)("Warning: This will Regenerate your API and Secret Key."),as:"button",method:"post",href:g.route("admin.setting.plugin.keygen"),class:"inline-flex justify-center py-2 px-4 border border-2 border-red-500 shadow-sm text-sm font-bold rounded-md text-red-500 hover:bg-red-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},{default:k(()=>[u(r(e(l)("Regenerate API Credentials")),1)]),_:1},8,["title","href"])),[[Y,{message:e(l)("Are you sure? This will regenerate new API Key and Secret and you will have to change in your Plugin config.yml")}],[w]])]),s("form",{autocomplete:"off",onSubmit:B(j,["prevent"])},[s("div",te,[s("div",re,[s("div",ne,[s("div",ae,[d(b,{id:"enable_api",modelValue:e(o).enable_api,"onUpdate:modelValue":n[0]||(n[0]=t=>e(o).enable_api=t),label:e(l)("Enable Plugin"),help:e(l)("Enable this if you are having MineTrax plugin installed in your server."),name:"enable_api",error:e(o).errors.enable_api},null,8,["modelValue","label","help","error"])]),s("div",ie,[d(q,null,{default:k(t=>[m(d(x,{id:"plugin_api_key",title:e(l)("Click to Copy"),"model-value":t.status==="copied"?e(l)("Copied to Clipboard!"):f.settings.plugin_api_key,label:e(l)("API Key"),type:"text",name:"plugin_api_key","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>t.copy(f.settings.plugin_api_key)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",de,[d(q,null,{default:k(t=>[m(d(x,{id:"plugin_api_secret",title:e(l)("Click to Copy"),"model-value":t.status==="copied"?e(l)("Copied to Clipboard!"):f.settings.plugin_api_secret,label:e(l)("API Secret"),type:"text",name:"plugin_api_secret","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>t.copy(f.settings.plugin_api_secret)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",ce,[d(b,{id:"enable_account_link",modelValue:e(o).enable_account_link,"onUpdate:modelValue":n[1]||(n[1]=t=>e(o).enable_account_link=t),label:e(l)("Enable Account Link"),help:e(l)("Enable user to link their players to account"),name:"enable_account_link",error:e(o).errors.enable_account_link},null,8,["modelValue","label","help","error"])]),m(s("div",_e,[d(x,{id:"max_players_link_per_account",modelValue:e(o).max_players_link_per_account,"onUpdate:modelValue":n[2]||(n[2]=t=>e(o).max_players_link_per_account=t),label:e(l)("Max Players Per Account"),help:e(l)("Number of players that can be linked to one account in website."),type:"number",name:"max_players_link_per_account",error:e(o).errors.max_players_link_per_account,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[h,e(o).enable_account_link]]),m(s("div",ue,[s("legend",me,[u(r(e(l)("Account Link Success Commands"))+" ",1),s("span",pe,r(e(l)("(runs when a player is linked to account)")),1)]),s("div",ye,[s("div",fe,[s("h3",ge,r(e(l)("Available Placeholders")),1),s("ol",be,[s("li",null,[n[7]||(n[7]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+r(e(l)("Username of the player which is linked.")),1)]),s("li",null,[n[8]||(n[8]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+r(e(l)("Unique Id of the player which is linked.")),1)])])]),s("div",he,[n[9]||(n[9]=s("div",{class:"w-5"},null,-1)),s("label",ke,r(e(l)("Command")),1),s("label",xe,r(e(l)("Run on servers")),1)]),(c(!0),_(C,null,V(e(o).account_link_after_success_commands,(t,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",ve,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>L(a)},[d(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,we),s("div",Ve,[s("div",Ce,[m(s("input",{"onUpdate:modelValue":i=>t.command=i,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,Ue),[[U,t.command]]),e(o).errors[`account_link_after_success_commands.${a}.command`]?(c(),_("span",Ae,r(e(o).errors[`account_link_after_success_commands.${a}.command`]),1)):y("",!0)]),s("div",Pe,[d(e(P),{modelValue:t.servers,"onUpdate:modelValue":i=>t.servers=i,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(l)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",$e,r(e(o).errors[`account_link_after_success_commands.${a}.servers`]),1)]),s("div",Se,[d(b,{id:`link.is_player_online_required_${a}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":i=>t.config.is_player_online_required=i,label:e(l)("Require player to be online"),help:e(l)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(o).errors[`account_link_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),d(b,{id:`link.is_run_only_first_link_${a}`,modelValue:t.config.is_run_only_first_link,"onUpdate:modelValue":i=>t.config.is_run_only_first_link=i,name:`link.is_run_only_first_link_${a}`,label:e(l)("Run on first link only"),help:e(l)("This command should only run if given player is getting linked for first time. (Eg: This wont run if player get unlinked and then linked again)"),error:e(o).errors[`account_link_after_success_commands.${a}.config.is_run_only_first_link`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(o).account_link_after_success_commands.length<=0?(c(),_("div",Re,r(e(l)("No commands on account link.")),1)):y("",!0),e(o).errors.account_link_after_success_commands?(c(),_("p",qe,r(e(o).errors.account_link_after_success_commands),1)):y("",!0),s("div",Ee,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:E},r(e(l)("Add New Link Command")),1)])])],512),[[h,e(o).enable_account_link]]),m(s("div",Le,[s("legend",Ie,[u(r(e(l)("Account Unlink Success Commands"))+" ",1),s("span",Ne,r(e(l)("(runs when a player is unlinked from account)")),1)]),s("div",Te,[s("div",We,[s("h3",je,r(e(l)("Available Placeholders")),1),s("ol",De,[s("li",null,[n[10]||(n[10]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+r(e(l)("Username of the player which is unlinked.")),1)]),s("li",null,[n[11]||(n[11]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+r(e(l)("Unique Id of the player which is unlinked.")),1)])])]),s("div",Me,[n[12]||(n[12]=s("div",{class:"w-5"},null,-1)),s("label",Ye,r(e(l)("Command")),1),s("label",Xe,r(e(l)("Run on servers")),1)]),(c(!0),_(C,null,V(e(o).account_unlink_after_success_commands,(t,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",Be,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>N(a)},[d(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,Fe),s("div",Oe,[s("div",Ke,[m(s("input",{"onUpdate:modelValue":i=>t.command=i,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,ze),[[U,t.command]]),e(o).errors[`account_unlink_after_success_commands.${a}.command`]?(c(),_("span",Ge,r(e(o).errors[`account_unlink_after_success_commands.${a}.command`]),1)):y("",!0)]),s("div",He,[d(e(P),{modelValue:t.servers,"onUpdate:modelValue":i=>t.servers=i,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(l)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",Je,r(e(o).errors[`account_unlink_after_success_commands.${a}.servers`]),1)]),s("div",Qe,[d(b,{id:`unlink.is_player_online_required_${a}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":i=>t.config.is_player_online_required=i,label:e(l)("Require player to be online"),help:e(l)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`unlink.is_player_online_required_${a}`,error:e(o).errors[`account_unlink_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),d(b,{id:`unlink.is_run_only_first_unlink_${a}`,modelValue:t.config.is_run_only_first_unlink,"onUpdate:modelValue":i=>t.config.is_run_only_first_unlink=i,name:`unlink.is_run_only_first_unlink_${a}`,label:e(l)("Run on first unlink only"),help:e(l)("This command should only run if given player is getting unlinked for first time. (Eg: This wont run if player was linked and unlinked before)"),error:e(o).errors[`account_unlink_after_success_commands.${a}.config.is_run_only_first_unlink`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(o).account_unlink_after_success_commands.length<=0?(c(),_("div",Ze,r(e(l)("No commands on account unlink.")),1)):y("",!0),e(o).errors.account_unlink_after_success_commands?(c(),_("p",es,r(e(o).errors.account_unlink_after_success_commands),1)):y("",!0),s("div",ss,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:I},r(e(l)("Add New Unlink Command")),1)])])],512),[[h,e(o).enable_account_link]]),s("div",ls,[d(b,{id:"enable_sync_player_ranks_from_server",modelValue:e(o).enable_sync_player_ranks_from_server,"onUpdate:modelValue":n[3]||(n[3]=t=>e(o).enable_sync_player_ranks_from_server=t),label:e(l)("Enable Player Rank Sync"),help:e(l)("Enable this if you want to sync your player rank from server instead of website calculated rank. you must create a rank for each group you have in server making sure rank shortname matches the name of your player group in server."),name:"enable_sync_player_ranks_from_server",error:e(o).errors.enable_sync_player_ranks_from_server},null,8,["modelValue","label","help","error"])]),m(s("div",os,[d(z,{id:"sync_player_ranks_from_server_id",modelValue:e(o).sync_player_ranks_from_server_id,"onUpdate:modelValue":n[4]||(n[4]=t=>e(o).sync_player_ranks_from_server_id=t),name:"sync_player_ranks_from_server_id",error:e(o).errors.sync_player_ranks_from_server_id,label:e(l)("Rank Sync From Server"),placeholder:e(l)("Choose a server from which we should sync the rank.."),"disable-null":!1,"select-list":f.serversForRankSync},null,8,["modelValue","error","label","placeholder","select-list"])],512),[[h,e(o).enable_sync_player_ranks_from_server]]),s("div",ts,[d(b,{id:"enable_player_password_reset",modelValue:e(o).enable_player_password_reset,"onUpdate:modelValue":n[5]||(n[5]=t=>e(o).enable_player_password_reset=t),label:e(l)("Enable Player Password Reset"),help:e(l)("Enable this to allow user to reset their linked players password from website."),name:"enable_player_password_reset",error:e(o).errors.enable_player_password_reset},null,8,["modelValue","label","help","error"])]),m(s("div",rs,[d(x,{id:"player_password_reset_cooldown_in_seconds",modelValue:e(o).player_password_reset_cooldown_in_seconds,"onUpdate:modelValue":n[6]||(n[6]=t=>e(o).player_password_reset_cooldown_in_seconds=t),label:e(l)("Password Reset Cooldown (in seconds)"),help:e(l)("Number of seconds player have to wait before resetting password again."),type:"number",name:"player_password_reset_cooldown_in_seconds",error:e(o).errors.player_password_reset_cooldown_in_seconds,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[h,e(o).enable_player_password_reset]]),m(s("div",ns,[s("legend",as,[u(r(e(l)("Player Password Reset Commands"))+" ",1),s("span",is,r(e(l)("(run when user try to reset his linked player password)")),1)]),s("div",ds,[s("div",cs,[s("h3",_s,r(e(l)("Available Placeholders")),1),s("ol",us,[s("li",null,[n[13]||(n[13]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+r(e(l)("Username of the player whose password is being reset.")),1)]),s("li",null,[n[14]||(n[14]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+r(e(l)("Unique Id of the player whose password is being reset.")),1)]),s("li",null,[n[15]||(n[15]=s("code",{class:"text-sm bg-gray-100 dark:bg-cool-gray-700 dark:text-gray-300 p-1 rounded-md"},"{PASSWORD}",-1)),u(" - "+r(e(l)("New validated password entered by user.")),1)])])]),s("div",ms,[n[16]||(n[16]=s("div",{class:"w-5"},null,-1)),s("label",ps,r(e(l)("Command")),1),s("label",ys,r(e(l)("Run on servers")),1)]),(c(!0),_(C,null,V(e(o).player_password_reset_commands,(t,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",fs,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>W(a)},[d(A,{class:"w-5 h-5 text-gray-300 group-hover:text-red-500",name:"trash"})],8,gs),s("div",bs,[s("div",hs,[m(s("input",{"onUpdate:modelValue":i=>t.command=i,class:"block p-2.5 dark:bg-cool-gray-900 dark:text-gray-300 w-full dark:border-gray-700 border-gray-200 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,ks),[[U,t.command]]),e(o).errors[`player_password_reset_commands.${a}.command`]?(c(),_("span",xs,r(e(o).errors[`player_password_reset_commands.${a}.command`]),1)):y("",!0)]),s("div",vs,[d(e(P),{modelValue:t.servers,"onUpdate:modelValue":i=>t.servers=i,class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-light-blue-500 focus:border-light-blue-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(l)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",ws,r(e(o).errors[`player_password_reset_commands.${a}.servers`]),1)]),s("div",Vs,[d(b,{id:`link.is_player_online_required_${a}`,modelValue:t.config.is_player_online_required,"onUpdate:modelValue":i=>t.config.is_player_online_required=i,label:e(l)("Require player to be online"),help:e(l)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(o).errors[`player_password_reset_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"])])])])]))),128)),e(o).errors.player_password_reset_commands&&e(o).player_password_reset_commands.length<=0?(c(),_("div",Cs,r(e(o).errors.player_password_reset_commands),1)):y("",!0),e(o).player_password_reset_commands.length<=0?(c(),_("div",Us,[u(r(e(l)("No commands added. Please add at least one command, as required by your authentication plugin, for password reset functionality."))+" ",1),n[17]||(n[17]=s("br",null,null,-1)),u(" "+r(e(l)("Eg: nlogin changepass {PLAYER_USERNAME} {PASSWORD}")),1)])):y("",!0),e(o).errors.account_link_after_success_commands?(c(),_("p",As,r(e(o).errors.account_link_after_success_commands),1)):y("",!0),s("div",Ps,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-light-blue-500 rounded border border-light-blue-500 focus:outline-none hover:text-light-blue-300 hover:border-light-blue-300 transition ease-in-out duration-150",onClick:T},r(e(l)("Add Password Reset Command")),1)])])],512),[[h,e(o).enable_player_password_reset]])])]),s("div",$s,[d(K,{loading:e(o).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-bold rounded-md text-white bg-light-blue-600 hover:bg-light-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-blue-500 disabled:opacity-50 dark:bg-cool-gray-700 dark:hover:bg-cool-gray-600",type:"submit"},{default:k(()=>[u(r(e(l)("Save Plugin Settings")),1)]),_:1},8,["loading"])])])],32)])])])])])])])]),_:1})}}};export{Os as default};
