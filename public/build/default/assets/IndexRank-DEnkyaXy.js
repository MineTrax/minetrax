import{_ as P}from"./AdminLayout-BwN0mh-k.js";import{u as S}from"./useAuthorizable-CYy4Wh89.js";import{u as A}from"./BaseLayout-D4bLMm7A.js";import{y as C,z as b,c as i,w as s,s as E,o as l,b as n,j as e,a,t as r,i as d,g as c,v as f,P as p,d as I}from"./app-Do9q-MyE.js";import{_ as $}from"./DataTable-VEChXCNt.js";import{D as _}from"./DtRowItem-DJIkcU6H.js";import{_ as j}from"./AppBreadcrumb-DZUMC8fH.js";import{_ as w}from"./index-oDi_KVMO.js";import{_ as B}from"./AlertCard-DEeIr4Ua.js";import{u as V}from"./index-DlYoUYeQ.js";import{r as M}from"./PencilSquareIcon-BO7lBTrU.js";import{r as z}from"./TrashIcon-Bw-WGA2N.js";import"./CloudArrowDownIcon-BPF7BCYT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DFL_HybF.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./VisuallyHidden-Ckc87s0l.js";import"./utils-D-KgF5mV.js";import"./x-DOdw7ujo.js";import"./SelectValue-CKzp-AAz.js";import"./useFormControl-DGZk-wbf.js";import"./vue-multiselect.esm-Bll4-Ezs.js";import"./XMarkIcon-BurOU1Wc.js";import"./Card-L72ilMm5.js";import"./CardContent-CXvCEuPJ.js";const O={class:"px-10 py-8 mx-auto text-foreground"},Y={class:"text-foreground dark:text-foreground"},H={class:"text-foreground list-disc list-inside dark:text-foreground"},L={class:"italic text-foreground dark:text-foreground"},W={class:"flex justify-between mb-4"},q={class:"flex gap-2"},F={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap dark:text-foreground"},G={class:"px-4"},J={class:""},K=["src","alt"],Q={class:"px-4 whitespace-nowrap"},U={class:"text-sm font-medium text-foreground dark:text-foreground"},X={class:"text-sm text-foreground dark:text-foreground"},Z=["title"],ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Pe={__name:"IndexRank",props:{ranks:Object,filters:Object},setup(y){const{can:u}=S(),{__:t}=E(),{formatTimeAgoToNow:v,formatToDayDateString:R}=A(),k=V("show-player-rank-sync-alert",!0),D=[{text:t("Admin"),current:!1},{text:t("Player Ranks"),current:!0}],N=[{key:"id",label:t("ID"),sortable:!0},{key:"image",sortable:!1,label:t("Image")},{key:"name",sortable:!0,label:t("Name"),class:"w-2/12"},{key:"total_play_time_needed",label:t("Play Time Needed"),sortable:!0,class:"text-right"},{key:"total_score_needed",label:t("Score Needed"),sortable:!0,class:"text-right"},{key:"players_count",label:t("Player Count"),sortable:!1,class:"text-right"},{key:"created_at",sortable:!0,label:t("Created")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(m,x)=>{const T=C("app-head"),g=b("confirm"),h=b("tippy");return l(),i(P,null,{default:s(()=>[n(T,{title:e(t)("Manage Player Ranks")},null,8,["title"]),a("div",O,[e(k)?(l(),i(B,{key:0,"close-button":!0,"text-color":"text-primary dark:text-primary","border-color":"border-primary",onClose:x[0]||(x[0]=o=>k.value=!1)},{body:s(()=>[a("p",Y,r(e(t)("If you want to sync player rank from your minecraft server, follow the steps below:")),1),a("ul",H,[a("li",null,r(e(t)("Create a rank for each rank you have in your server and want to sync. Make sure Short Name matches the rank identifier in your server.")),1),a("li",null,r(e(t)("Enable the 'Sync Rank' option from Admin > Settings > Plugin > Enable Player Rank Sync.")),1),a("li",null,r(e(t)("Done! Wait for some time and your player ranks will be synced automatically.")),1)]),a("p",L,r(e(t)("Note: This is optional feature. You can safely close this alert if you don't want to use it. You can always do it later.")),1)]),default:s(()=>[d(r(e(t)("Do you know! MineTrax can also sync rank from server instead of calculating using algorithm."))+" ",1)]),_:1})):c("",!0),a("div",W,[n(j,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:D}),a("div",q,[e(u)("update ranks")?(l(),i(e(w),{key:0,variant:"destructive","as-child":""},{default:s(()=>[f((l(),i(e(p),{method:"post",as:"button",href:m.route("admin.rank.reset")},{default:s(()=>[d(r(e(t)("Reset to Default Ranks")),1)]),_:1},8,["href"])),[[g,{message:"Are you sure you want to Reset all Ranks? This will remove current rank of all players."}]])]),_:1})):c("",!0),e(u)("create ranks")?(l(),i(e(w),{key:1,"as-child":""},{default:s(()=>[n(e(p),{href:m.route("admin.rank.create")},{default:s(()=>[d(r(e(t)("Create Rank")),1)]),_:1},8,["href"])]),_:1})):c("",!0)])]),n($,{class:"bg-card rounded-lg shadow",header:N,data:y.ranks,filters:y.filters},{default:s(({item:o})=>[a("td",F,r(o.id),1),a("td",G,[a("div",J,[a("img",{class:"max-h-12 max-w-12",src:o.photo_url,alt:e(t)("Rank Image")},null,8,K)])]),a("td",Q,[a("div",null,[a("div",U,r(o.name),1),a("div",X,r(o.shortname),1)])]),n(_,{class:"text-right"},{default:s(()=>[d(r(o.total_play_time_needed),1)]),_:2},1024),n(_,{class:"text-right"},{default:s(()=>[d(r(o.total_score_needed),1)]),_:2},1024),n(_,{class:"text-right"},{default:s(()=>[d(r(o.players_count),1)]),_:2},1024),n(_,null,{default:s(()=>[f((l(),I("span",{title:e(R)(o.created_at)},[d(r(e(v)(o.created_at)),1)],8,Z)),[[h]])]),_:2},1024),a("td",ee,[e(u)("update ranks")?f((l(),i(e(p),{key:0,as:"a",href:m.route("admin.rank.edit",o.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Edit Rank")},{default:s(()=>[n(e(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[h]]):c("",!0),e(u)("delete ranks")?f((l(),i(e(p),{key:1,as:"button",method:"DELETE",href:m.route("admin.rank.delete",o.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Rank")},{default:s(()=>[n(e(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[g,{message:"Are you sure you want to delete this Rank permanently?"}],[h]]):c("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{Pe as default};
