import{A as T,u as M}from"./AppLayout-nTzTLkcY.js";import{I as S}from"./Icon-BHJIwx4L.js";import{I as C}from"./InfiniteScroll-c-JhCFAH.js";import{u as L}from"./useAuthorizable-CKY4A9EI.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as l,z,c as m,w as p,o as a,b as x,a as t,t as e,d as n,g as j,F as A,e as h,n as f,p as _,f as B}from"./app-aqw-n-C2.js";const D={components:{Icon:S,AppLayout:T,InfiniteScroll:C},props:{players:Object,totalPlayersCount:Number,activePlayersCount:Number,totalPlayTime:{type:[String,Number]},lastScanAt:String},setup(){const{can:s}=L(),{formatTimeAgoToNow:r,formatToDayDateString:c,secondsToHMS:d}=M();return{can:s,formatTimeAgoToNow:r,formatToDayDateString:c,secondsToHMS:d}},data(){return{playersList:this.players}},methods:{loadMorePlayers(){return this.playersList.next_page_url?axios(this.playersList.next_page_url).then(s=>{this.playersList={...s.data,data:[...this.playersList.data,...s.data.data]}}):Promise.resolve()}}},H={class:"py-4 px-2 md:py-12 md:px-10 max-w-7xl mx-auto"},I={class:"flex-grow"},V={class:"grid grid-cols-12 gap-4 mb-4"},F={class:"col-span-12 md:col-span-4"},R={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},E={class:"flex flex-col flex-grow ml-4"},O={class:"text-sm text-secondary-500 dark:text-secondary-400"},U={class:"font-bold dark:text-secondary-200 text-lg"},q={class:"col-span-12 md:col-span-4"},G={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},J={class:"flex flex-col flex-grow ml-4"},K={class:"text-sm text-secondary-500 dark:text-secondary-400"},Q={class:"font-bold text-lg dark:text-secondary-200"},W={class:"col-span-12 md:col-span-4"},X={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},Y={class:"flex flex-col flex-grow ml-4"},Z={class:"text-sm text-secondary-500 dark:text-secondary-400"},$={class:"font-bold text-lg dark:text-secondary-200"},tt={class:"-my-2 overflow-x-auto md:-mx-6 lg:-mx-8"},et={class:"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8"},st={class:"shadow overflow-hidden border-b border-secondary-200 dark:border-secondary-700 dark:border-none rounded"},ot={class:"min-w-full divide-y divide-secondary-200 dark:divide-secondary-700"},at={class:"bg-surface-100 dark:bg-surface-800 text-secondary-700 dark:text-secondary-200"},nt={scope:"col",class:"px-2 py-3 text-left text-xs font-bold text-center uppercase tracking-wider"},rt={scope:"col",class:"px-3 py-3 text-left text-xs font-bold uppercase tracking-wider"},ct={scope:"col",class:"px-3 py-3 text-left text-xs font-bold uppercase tracking-wider"},dt={scope:"col",class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},it={scope:"col",class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},lt={scope:"col",class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},_t={scope:"col",class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},pt={scope:"col",class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},xt={class:"bg-white dark:bg-surface-800 divide-y divide-secondary-200 dark:divide-none"},ht={class:"px-2 py-4 whitespace-nowrap text-center text-sm text-primary-400 font-extrabold"},ut={key:0,class:"border-2 rounded text-lg px-2 border-primary-300 bg-primary-50 dark:bg-transparent"},mt={class:"px-3 py-4 whitespace-nowrap"},ft={class:"flex items-center"},yt=["content"],wt=["src"],kt={class:"px-3 py-4 whitespace-nowrap"},gt={key:0,class:"flex items-center"},vt=["content"],bt=["src"],Pt={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"flex items-center"},Mt={class:"flex-shrink-0 h-10 w-10"},St=["src"],Ct={class:"ml-4"},Lt={key:1,class:"text-error-500 italic"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-700"},zt={key:0},jt={key:1,class:"text-secondary-700 dark:text-secondary-400 italic"},At={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-700 dark:text-secondary-300"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-700 dark:text-secondary-300"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-secondary-700 dark:text-secondary-300"},Ht=["content"],It={class:"border-t dark:border-none px-6 py-4 sm:text-center text-secondary-700 dark:text-secondary-500 italic",colspan:"8"},Vt={key:0},Ft={class:"px-6 py-4 text-center dark:text-secondary-300 text-secondary-700",colspan:"8"};function Rt(s,r,c,d,u,y){const w=l("app-head"),k=l("inertia-link"),g=l("icon"),v=l("infinite-scroll"),b=l("app-layout"),i=z("tippy");return a(),m(b,null,{default:p(()=>[x(w,{title:s.__("Players")},null,8,["title"]),t("div",H,[t("div",I,[t("div",V,[t("div",F,[t("div",R,[r[0]||(r[0]=t("div",{class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-primary-100 dark:bg-opacity-10 text-primary-500"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",E,[t("div",O,e(s.__("Total Players")),1),t("div",U,e(c.totalPlayersCount),1)])])]),t("div",q,[t("div",G,[r[1]||(r[1]=t("div",{class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-success-100 dark:bg-opacity-10 text-success-500"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t("div",J,[t("div",K,e(s.__("Active Players")),1),t("div",Q,e(c.activePlayersCount),1)])])]),t("div",W,[t("div",X,[r[2]||(r[2]=t("div",{class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-pink-100 dark:bg-opacity-10 text-pink-500"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Y,[t("div",Z,e(s.__("Play Time")),1),t("div",$,e(c.totalPlayTime===0?"0 h":d.secondsToHMS(c.totalPlayTime)),1)])])])]),t("div",tt,[t("div",et,[t("div",st,[t("table",ot,[t("thead",at,[t("tr",null,[t("th",nt,e(s.__("#")),1),t("th",rt,e(s.__("Flag")),1),t("th",ct,e(s.__("Rank")),1),t("th",dt,e(s.__("Name")),1),t("th",it,e(s.__("Rating")),1),t("th",lt,e(s.__("Score")),1),t("th",_t,e(s.__("Time Played")),1),t("th",pt,e(s.__("Last Seen")),1)])]),t("tbody",xt,[x(v,{"load-more":y.loadMorePlayers},{loading:p(()=>[t("tr",null,[t("td",It,e(s.__("Loading more...")),1)])]),default:p(()=>[(a(!0),n(A,null,j(u.playersList.data,(o,P)=>(a(),n("tr",{key:o.uuid,class:f({"bg-surface-50 dark:bg-surface-700 dark:bg-opacity-10":P%2===1})},[t("td",ht,[o.position?(a(),n("span",ut,e(o.position),1)):h("",!0)]),t("td",mt,[t("div",ft,[_((a(),n("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:o.country.name},[t("img",{class:"h-10 w-10",src:o.country.photo_path,alt:""},null,8,wt)],8,yt)),[[i]])])]),t("td",kt,[o.rank?(a(),n("div",gt,[_((a(),n("div",{class:"flex-shrink-0 focus:outline-none",content:o.rank.name},[t("img",{class:"max-h-12 max-w-12",src:o.rank.photo_url,alt:""},null,8,bt)],8,vt)),[[i]])])):h("",!0)]),t("td",Pt,[t("div",Tt,[t("div",Mt,[t("img",{class:"h-10 w-10",src:o.avatar_url,alt:""},null,8,St)]),t("div",Ct,[_((a(),m(k,{as:"a",href:s.route("player.show",o.uuid),class:"text-sm font-medium text-secondary-900 dark:text-secondary-200 focus:outline-none cursor-pointer hover:underline",content:o.uuid},{default:p(()=>[o.username?(a(),n("span",{key:0,class:f([o.is_active?"text-secondary-700 dark:text-secondary-300":"text-secondary-500 dark:text-secondary-400","font-extrabold"])},e(o.username),3)):(a(),n("span",Lt,e(s.__("Unknown")),1))]),_:2},1032,["href","content"])),[[i]])])])]),t("td",Nt,[o.rating!=null?(a(),n("span",zt,[_(x(g,{class:"w-10 h-10 focus:outline-none",name:`rating-${o.rating}`,content:o.rating},null,8,["name","content"]),[[i]])])):(a(),n("span",jt,e(s.__("none")),1))]),t("td",At,e(o.total_score),1),t("td",Bt,e(d.secondsToHMS(o.play_time,!0)),1),t("td",Dt,[_((a(),n("span",{class:"focus:outline-none",content:d.formatToDayDateString(o.last_seen_at)},[B(e(o.last_seen_at?d.formatTimeAgoToNow(o.last_seen_at):"unknown"),1)],8,Ht)),[[i]])])],2))),128))]),_:1},8,["load-more"]),u.playersList.data.length===0?(a(),n("tr",Vt,[t("td",Ft,e(s.__("No players found.")),1)])):h("",!0)])])])])])])])]),_:1})}const Kt=N(D,[["render",Rt]]);export{Kt as default};
