import{r as u,h as y,o as h,d as C,a as d,T as k,b as o,w as a,f as r,t,a6 as v,n as b,k as x}from"./app-BDqFx3nJ.js";import{_ as P}from"./Button-Di_iBHxe.js";import{_ as V}from"./DialogModal-D-nBiMiA.js";import{_ as $}from"./Input-M1BrPX7_.js";import{_ as S}from"./InputError-Bm7rj2f_.js";import{_ as T}from"./SecondaryButton-CaI8Cy0t.js";const B={class:"mt-4"},N={class:"text-gray-500 text-xs italic"},M={__name:"ConfirmsPassword",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(n,{emit:w}){const m=w,i=u(!1),s=y({password:"",error:"",processing:!1}),l=u(null),_=()=>{axios.get(route("password.confirmation")).then(e=>{e.data.confirmed?m("confirmed"):(i.value=!0,setTimeout(()=>l.value.focus(),250))})},p=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,c(),x().then(()=>m("confirmed"))}).catch(e=>{s.processing=!1,s.error=e.response.data.errors.password[0],l.value.focus()})},c=()=>{i.value=!1,s.password="",s.error=""};return(e,f)=>(h(),C("span",null,[d("span",{onClick:_},[k(e.$slots,"default")]),o(V,{show:i.value,onClose:c},{title:a(()=>[r(t(n.title),1)]),content:a(()=>[r(t(n.content)+" ",1),d("div",B,[o($,{ref_key:"passwordInput",ref:l,modelValue:s.password,"onUpdate:modelValue":f[0]||(f[0]=g=>s.password=g),type:"password",class:"mt-1 block w-3/4",placeholder:e.__("Password"),onKeyup:v(p,["enter"])},null,8,["modelValue","placeholder"]),o(S,{message:s.error,class:"mt-2"},null,8,["message"])]),d("span",N,t(e.__("Continue with empty password if you have no password.")),1)]),footer:a(()=>[o(T,{onClick:c},{default:a(()=>[r(t(e.__("Cancel")),1)]),_:1}),o(P,{class:b(["ml-3",{"opacity-25":s.processing}]),disabled:s.processing,onClick:p},{default:a(()=>[r(t(n.button),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{M as _};
