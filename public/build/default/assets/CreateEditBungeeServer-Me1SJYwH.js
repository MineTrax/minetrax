import{e as C,k as T,y as M,c as _,w as p,o as m,j as e,a as o,b as n,f as H,t as c,P as z,i as P,d as L,g as O,s as Q}from"./app-Do9q-MyE.js";import{_ as R}from"./AdminLayout-BwN0mh-k.js";import{_ as D}from"./AppBreadcrumb-DZUMC8fH.js";import{_ as W}from"./index-oDi_KVMO.js";import{_ as i}from"./XInput-CTxc_vGG.js";import{_ as F}from"./XSelect-eoibG_9u.js";import{_ as v}from"./XSwitch-CX7xGN6B.js";import"./useAuthorizable-CYy4Wh89.js";import"./CloudArrowDownIcon-BPF7BCYT.js";import"./BaseLayout-D4bLMm7A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DFL_HybF.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./index-DlYoUYeQ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./Input-BsT2nuw1.js";import"./Label-MSuCJuMN.js";import"./SelectValue-CKzp-AAz.js";import"./useFormControl-DGZk-wbf.js";import"./Switch-CVcmIixB.js";const J={class:"px-10 py-8 mx-auto max-w-5xl text-foreground"},G={class:"flex justify-between mb-4"},K={class:"mt-6"},X={class:"shadow overflow-hidden rounded-lg"},Y={class:"px-4 py-5 bg-card sm:p-6"},Z={class:"grid grid-cols-6 gap-6"},ee={class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},se={class:"col-span-6 sm:col-span-3"},te={class:"col-span-6 sm:col-span-3"},le={class:"col-span-6 sm:col-span-2"},oe={class:"col-span-6 sm:col-span-2"},ae={class:"col-span-6 sm:col-span-2"},ne={class:"col-span-6 sm:col-span-6"},ie={class:"grid grid-cols-2 gap-6"},de={class:"text-xs text-muted-foreground flex items-center"},pe={class:"col-span-6 sm:col-span-3"},me={class:"col-span-6 sm:col-span-6 space-y-4"},ue={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},_e={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Te={__name:"CreateEditBungeeServer",props:{server:{type:[Object],required:!1},versionsArray:Array},setup(u){var b,f,h,g,y,w,V,x,k,S,q,E,U,j,B;const{__:s}=Q(),a=u,d=C(()=>!a.server),$=C(()=>[{text:s("Admin"),current:!1},{text:s("Servers"),url:route("admin.server.index"),current:!1},{text:d.value?s("Add Proxy Server"):s("Edit Proxy Server"),current:!0},...d.value?[]:[{text:"#"+a.server.id,current:!0}]]),r=T({name:(b=a.server)==null?void 0:b.name,ip_address:(f=a.server)==null?void 0:f.ip_address,join_port:(h=a.server)==null?void 0:h.join_port,query_port:(g=a.server)==null?void 0:g.query_port,webquery_port:(y=a.server)==null?void 0:y.webquery_port,minecraft_version:(w=a.server)==null?void 0:w.minecraft_version,hostname:(V=a.server)==null?void 0:V.hostname,is_server_intel_enabled:((x=a.server)==null?void 0:x.is_server_intel_enabled)??!0,settings:{server_identifier:((S=(k=a.server)==null?void 0:k.settings)==null?void 0:S.server_identifier)??null,is_skin_change_via_web_allowed:((E=(q=a.server)==null?void 0:q.settings)==null?void 0:E.is_skin_change_via_web_allowed)??!0,is_banwarden_enabled:a.server?((j=(U=a.server)==null?void 0:U.settings)==null?void 0:j.is_banwarden_enabled)??!1:!0},order:(B=a.server)==null?void 0:B.order});function I(){d.value?r.post(route("admin.server-bungee.store"),{preserveScroll:!0}):r.put(route("admin.server.update.bungee",a.server.id),{preserveScroll:!0})}return(N,t)=>{const A=M("app-head");return m(),_(R,null,{default:p(()=>[d.value?(m(),_(A,{key:0,title:e(s)("Add Bungee Server")},null,8,["title"])):(m(),_(A,{key:1,title:e(s)("Edit Bungee Server: :name",{name:u.server.name})},null,8,["title"])),o("div",J,[o("div",G,[n(D,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:$.value},null,8,["items"])]),o("div",K,[o("form",{onSubmit:H(I,["prevent"])},[o("div",X,[o("div",Y,[o("div",Z,[o("div",ee,[n(i,{id:"name",modelValue:e(r).name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(r).name=l),label:e(s)("Server Name"),error:e(r).errors.name,autocomplete:"name",type:"text",name:"name",help:e(s)("Publicly visible name of the server (e.g., My Bungee Server etc.).")},null,8,["modelValue","label","error","help"])]),o("div",re,[n(i,{id:"server_identifier",modelValue:e(r).settings.server_identifier,"onUpdate:modelValue":t[1]||(t[1]=l=>e(r).settings.server_identifier=l),label:e(s)("Server Identifier"),help:e(s)("Unique identifier for the server, used for identification in proxy configurations and ban management plugins (e.g., proxy, bungee, network1, etc.)."),error:e(r).errors["settings.server_identifier"],type:"text",name:"server_identifier"},null,8,["modelValue","label","help","error"])]),o("div",se,[n(i,{id:"hostname",modelValue:e(r).hostname,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).hostname=l),label:e(s)("Hostname"),error:e(r).errors.hostname,autocomplete:"hostname",type:"text",name:"hostname",help:e(s)("Eg: play-my-bungee-server.com")},null,8,["modelValue","label","error","help"])]),o("div",te,[n(i,{id:"order",modelValue:e(r).order,"onUpdate:modelValue":t[3]||(t[3]=l=>e(r).order=l),label:e(s)("Weight"),error:e(r).errors.order,help:e(s)("Higher the weight, higher the priority. Eg: 1,3,10 etc. Can be left empty."),type:"number",name:"order"},null,8,["modelValue","label","error","help"])]),o("div",le,[n(i,{id:"ip_address",modelValue:e(r).ip_address,"onUpdate:modelValue":t[4]||(t[4]=l=>e(r).ip_address=l),label:e(s)("IP Address"),error:e(r).errors.ip_address,autocomplete:"ip_address",type:"text",name:"ip_address",help:e(s)("Eg: 78.46.130.197")},null,8,["modelValue","label","error","help"])]),o("div",oe,[n(i,{id:"join_port",modelValue:e(r).join_port,"onUpdate:modelValue":t[5]||(t[5]=l=>e(r).join_port=l),label:e(s)("Join Port"),error:e(r).errors.join_port,autocomplete:"join_port",type:"text",name:"join_port",help:e(s)("Eg: 25565")},null,8,["modelValue","label","error","help"])]),o("div",ae,[n(i,{id:"query_port",modelValue:e(r).query_port,"onUpdate:modelValue":t[6]||(t[6]=l=>e(r).query_port=l),label:e(s)("Query Port"),error:e(r).errors.query_port,autocomplete:"query_port",type:"text",name:"query_port",help:e(s)("Eg: 25575")},null,8,["modelValue","label","error","help"])]),o("div",ne,[o("div",ie,[n(i,{id:"webquery_port",modelValue:e(r).webquery_port,"onUpdate:modelValue":t[7]||(t[7]=l=>e(r).webquery_port=l),label:e(s)("Webquery Port"),error:e(r).errors.webquery_port,type:"text",name:"webquery_port"},null,8,["modelValue","label","error"]),o("div",de,c(e(s)("WebQuery port is a new port which MineTrax plugin will open for secure connection between server and web. Enter a port value which is available and can be open. Eg: 25569")),1)])]),o("div",pe,[n(F,{id:"minecraft_version",modelValue:e(r).minecraft_version,"onUpdate:modelValue":t[8]||(t[8]=l=>e(r).minecraft_version=l),name:"minecraft_version",error:e(r).errors.minecraft_version,label:e(s)("Server Version"),"select-list":u.versionsArray,placeholder:e(s)("Select version.."),"disable-null":!0},null,8,["modelValue","error","label","select-list","placeholder"])]),o("div",me,[n(v,{id:"is_server_intel_enabled",modelValue:e(r).is_server_intel_enabled,"onUpdate:modelValue":t[9]||(t[9]=l=>e(r).is_server_intel_enabled=l),label:e(s)("Enable Server Intel / Analytics"),help:e(s)("If enabled, server analytics data (performance metric, join activity etc) will be captured for this server via plugin."),name:"is_server_intel_enabled"},null,8,["modelValue","label","help"]),n(v,{id:"is_skin_change_via_web_allowed",modelValue:e(r).settings.is_skin_change_via_web_allowed,"onUpdate:modelValue":t[10]||(t[10]=l=>e(r).settings.is_skin_change_via_web_allowed=l),label:e(s)("Enable Skin Change via Web (SkinsRestorer)"),help:e(s)("Allow user to change their linked players skin via web for this server. This will require SkinsRestorer plugin to be installed on the server."),name:"is_skin_change_via_web_allowed"},null,8,["modelValue","label","help"]),n(v,{id:"is_banwarden_enabled",modelValue:e(r).settings.is_banwarden_enabled,"onUpdate:modelValue":t[11]||(t[11]=l=>e(r).settings.is_banwarden_enabled=l),label:e(s)("Enable BanWarden"),help:e(s)("BanWarden allows you to manage all your punishments (bans, mutes, kicks etc) from the web. This requires a ban plugin to be installed on the server Eg: LiteBans, LibertyBans etc."),name:"is_banwarden_enabled"},null,8,["modelValue","label","help"])])])]),o("div",ue,[n(e(W),{variant:"outline","as-child":""},{default:p(()=>[n(e(z),{href:N.route("admin.server.index")},{default:p(()=>[P(c(e(s)("Cancel")),1)]),_:1},8,["href"])]),_:1}),n(e(W),{type:"submit",disabled:e(r).processing},{default:p(()=>[e(r).processing?(m(),L("svg",_e,t[12]||(t[12]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):O("",!0),P(" "+c(d.value?e(s)("Add Server"):e(s)("Update Server")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{Te as default};
