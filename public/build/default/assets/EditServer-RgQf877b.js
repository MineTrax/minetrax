import{k as E,y as j,c as P,w as p,s as A,o as h,b as n,j as e,a as t,f as B,t as _,P as C,i as g,d as I,g as T}from"./app-Do9q-MyE.js";import{_ as W}from"./AdminLayout-BwN0mh-k.js";import{_ as $}from"./AppBreadcrumb-DZUMC8fH.js";import{_ as w}from"./index-oDi_KVMO.js";import{_ as i}from"./XInput-CTxc_vGG.js";import{_ as V}from"./XSelect-eoibG_9u.js";import{_ as d}from"./XSwitch-CX7xGN6B.js";import"./useAuthorizable-CYy4Wh89.js";import"./CloudArrowDownIcon-BPF7BCYT.js";import"./BaseLayout-D4bLMm7A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DFL_HybF.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./index-DlYoUYeQ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./Input-BsT2nuw1.js";import"./Label-MSuCJuMN.js";import"./SelectValue-CKzp-AAz.js";import"./useFormControl-DGZk-wbf.js";import"./Switch-CVcmIixB.js";const N={class:"px-10 py-8 mx-auto max-w-5xl text-foreground"},H={class:"flex justify-between mb-4"},L={class:"mt-6"},M={class:"shadow overflow-hidden rounded-lg"},z={class:"px-4 py-5 bg-card sm:p-6"},Q={class:"grid grid-cols-6 gap-6"},R={class:"col-span-6 sm:col-span-3"},D={class:"col-span-6 sm:col-span-3"},F={class:"col-span-6 sm:col-span-3"},G={class:"col-span-6 sm:col-span-3"},J={class:"col-span-6 sm:col-span-2"},O={class:"col-span-6 sm:col-span-2"},K={class:"col-span-6 sm:col-span-2"},X={class:"col-span-6 sm:col-span-6"},Y={class:"grid grid-cols-2 gap-6"},Z={class:"text-xs text-muted-foreground flex items-center"},ee={class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},le={class:"col-span-6 sm:col-span-6 space-y-4"},se={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},ae={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},je={__name:"EditServer",props:{versionsArray:Array,server:{type:Object,default:null}},setup(m){var u,b,c,v,f,y;const{__:l}=A(),o=m,x=[{text:l("Admin"),current:!1},{text:l("Servers"),url:route("admin.server.index"),current:!1},{text:l("Edit Server"),current:!0},{text:"#"+o.server.id,current:!0}],k={0:"Paper",1:"Spigot",2:"Forge",3:"Bukkit",4:"Vanilla"},r=E({name:o.server.name,join_port:o.server.join_port,query_port:o.server.query_port,webquery_port:o.server.webquery_port,minecraft_version:o.server.minecraft_version,type:String(o.server.type),hostname:o.server.hostname,ip_address:o.server.ip_address,is_server_intel_enabled:o.server.is_server_intel_enabled,is_player_intel_enabled:o.server.is_player_intel_enabled,is_ingame_chat_enabled:o.server.is_ingame_chat_enabled,settings:{server_identifier:((b=(u=o.server)==null?void 0:u.settings)==null?void 0:b.server_identifier)??null,is_skin_change_via_web_allowed:((v=(c=o.server)==null?void 0:c.settings)==null?void 0:v.is_skin_change_via_web_allowed)??!1,is_banwarden_enabled:((y=(f=o.server)==null?void 0:f.settings)==null?void 0:y.is_banwarden_enabled)??!1},order:o.server.order});function S(){r.put(route("admin.server.update",o.server.id),{preserveScroll:!1})}return(q,s)=>{const U=j("app-head");return h(),P(W,null,{default:p(()=>[n(U,{title:e(l)("Edit Server: :name",{name:m.server.name})},null,8,["title"]),t("div",N,[t("div",H,[n($,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:x})]),t("div",L,[t("form",{onSubmit:B(S,["prevent"])},[t("div",M,[t("div",z,[t("div",Q,[t("div",R,[n(i,{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(r).name=a),label:e(l)("Server Name"),help:e(l)("Publicly visible name of the server (e.g., Survival, Skyblock, Lifesteal, Practice, etc.)."),error:e(r).errors.name,type:"text",name:"name"},null,8,["modelValue","label","help","error"])]),t("div",D,[n(i,{id:"server_identifier",modelValue:e(r).settings.server_identifier,"onUpdate:modelValue":s[1]||(s[1]=a=>e(r).settings.server_identifier=a),label:e(l)("Server Identifier"),help:e(l)("Unique identifier for the server, used for identification in proxy configurations and ban management plugins (e.g., s1, server1, lifesteal, survival1, proxy, etc.)."),error:e(r).errors["settings.server_identifier"],type:"text",name:"server_identifier"},null,8,["modelValue","label","help","error"])]),t("div",F,[n(i,{id:"hostname",modelValue:e(r).hostname,"onUpdate:modelValue":s[2]||(s[2]=a=>e(r).hostname=a),label:e(l)("Hostname"),error:e(r).errors.hostname,help:e(l)("Publicly visible join address of the server. Eg: play.example.com"),type:"text",name:"hostname"},null,8,["modelValue","label","error","help"])]),t("div",G,[n(i,{id:"order",modelValue:e(r).order,"onUpdate:modelValue":s[3]||(s[3]=a=>e(r).order=a),label:e(l)("Weight"),error:e(r).errors.order,help:e(l)("Higher the weight, higher the priority. Eg: 1,3,10 etc. Can be left empty."),type:"number",name:"order"},null,8,["modelValue","label","error","help"])]),t("div",J,[n(i,{id:"ip_address",modelValue:e(r).ip_address,"onUpdate:modelValue":s[4]||(s[4]=a=>e(r).ip_address=a),label:e(l)("IP Address"),error:e(r).errors.ip_address,autocomplete:"ip_address",type:"text",name:"ip_address"},null,8,["modelValue","label","error"])]),t("div",O,[n(i,{id:"join_port",modelValue:e(r).join_port,"onUpdate:modelValue":s[5]||(s[5]=a=>e(r).join_port=a),label:e(l)("Join Port"),error:e(r).errors.join_port,type:"text",name:"join_port"},null,8,["modelValue","label","error"])]),t("div",K,[n(i,{id:"query_port",modelValue:e(r).query_port,"onUpdate:modelValue":s[6]||(s[6]=a=>e(r).query_port=a),label:e(l)("Query Port"),error:e(r).errors.query_port,type:"text",name:"query_port"},null,8,["modelValue","label","error"])]),t("div",X,[t("div",Y,[n(i,{id:"webquery_port",modelValue:e(r).webquery_port,"onUpdate:modelValue":s[7]||(s[7]=a=>e(r).webquery_port=a),label:e(l)("Webquery Port"),error:e(r).errors.webquery_port,type:"text",name:"webquery_port"},null,8,["modelValue","label","error"]),t("div",Z,_(e(l)("WebQuery port is a new port which MineTrax plugin will open for secure connection between server and web. Enter a port value which is available and can be open. Eg: 25569")),1)])]),t("div",ee,[n(V,{id:"type",modelValue:e(r).type,"onUpdate:modelValue":s[8]||(s[8]=a=>e(r).type=a),placeholder:e(l)("Select server type"),"disable-null":!0,required:!0,name:"type",error:e(r).errors.type,label:e(l)("Server Type"),"select-list":k},null,8,["modelValue","placeholder","error","label"])]),t("div",re,[n(V,{id:"minecraft_version",modelValue:e(r).minecraft_version,"onUpdate:modelValue":s[9]||(s[9]=a=>e(r).minecraft_version=a),name:"minecraft_version",error:e(r).errors.minecraft_version,label:e(l)("Version"),"select-list":m.versionsArray},null,8,["modelValue","error","label","select-list"])]),t("div",le,[n(d,{id:"is_server_intel_enabled",modelValue:e(r).is_server_intel_enabled,"onUpdate:modelValue":s[10]||(s[10]=a=>e(r).is_server_intel_enabled=a),label:e(l)("Enable Server Intel / Analytics"),help:e(l)("If enabled, server analytics data (performance metric, join activity etc) will be captured for this server via plugin."),name:"is_server_intel_enabled"},null,8,["modelValue","label","help"]),n(d,{id:"is_player_intel_enabled",modelValue:e(r).is_player_intel_enabled,"onUpdate:modelValue":s[11]||(s[11]=a=>e(r).is_player_intel_enabled=a),label:e(l)("Enable Player Intel / Analytics"),help:e(l)("If enabled, player intel & statistics data will be captured for this server via plugin."),name:"is_player_intel_enabled"},null,8,["modelValue","label","help"]),n(d,{id:"is_ingame_chat_enabled",modelValue:e(r).is_ingame_chat_enabled,"onUpdate:modelValue":s[12]||(s[12]=a=>e(r).is_ingame_chat_enabled=a),label:e(l)("Enable In-Game Chat"),help:e(l)("Enable in-game chat for this server, which allow users to view & chat to in-game players from website."),name:"is_ingame_chat_enabled"},null,8,["modelValue","label","help"]),n(d,{id:"is_skin_change_via_web_allowed",modelValue:e(r).settings.is_skin_change_via_web_allowed,"onUpdate:modelValue":s[13]||(s[13]=a=>e(r).settings.is_skin_change_via_web_allowed=a),label:e(l)("Enable Skin Change via Web (SkinsRestorer)"),help:e(l)("Allow user to change their linked players skin via web for this server. This will require SkinsRestorer plugin to be installed on the server."),name:"is_skin_change_via_web_allowed"},null,8,["modelValue","label","help"]),n(d,{id:"is_banwarden_enabled",modelValue:e(r).settings.is_banwarden_enabled,"onUpdate:modelValue":s[14]||(s[14]=a=>e(r).settings.is_banwarden_enabled=a),label:e(l)("Enable BanWarden"),help:e(l)("BanWarden allows you to manage all your punishments (bans, mutes, kicks etc) from the web. This requires a ban plugin to be installed on the server Eg: LiteBans, LibertyBans etc."),name:"is_banwarden_enabled"},null,8,["modelValue","label","help"])])])]),t("div",se,[n(e(w),{variant:"outline","as-child":""},{default:p(()=>[n(e(C),{href:q.route("admin.server.index")},{default:p(()=>[g(_(e(l)("Cancel")),1)]),_:1},8,["href"])]),_:1}),n(e(w),{type:"submit",disabled:e(r).processing},{default:p(()=>[e(r).processing?(h(),I("svg",ae,s[15]||(s[15]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):T("",!0),g(" "+_(e(l)("Update Server")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{je as default};
