import{h as w,m as h,o as x,d as v,a as i,r as C,b as o,w as a,j as r,i as m,t,a1 as $,q as k}from"./app-Ia0bJDXi.js";import{_ as P}from"./index-Bf3skjKm.js";import{_ as b,a as V,b as S,c as B,d as N}from"./DialogTitle-BCzPdtGj.js";import{_ as T}from"./XInput-Bx6aykrQ.js";import{L as j}from"./LoadingButton-BaSTJi40.js";const I={class:"space-y-4"},K={class:"text-sm text-muted-foreground"},L={class:"text-xs text-muted-foreground italic"},M={__name:"ConfirmsPassword",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(l,{emit:g}){const p=g,d=w(!1),s=h({password:"",error:"",processing:!1}),f=w(null),y=()=>{axios.get(route("password.confirmation")).then(e=>{e.data.confirmed?p("confirmed"):(d.value=!0,setTimeout(()=>f.value.focus(),250))})},_=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,c(),k().then(()=>p("confirmed"))}).catch(e=>{s.processing=!1,s.error=e.response.data.errors.password[0],f.value.focus()})},c=()=>{d.value=!1,s.password="",s.error=""};return(e,n)=>(x(),v("span",null,[i("span",{onClick:y},[C(e.$slots,"default")]),o(r(N),{open:d.value,"onUpdate:open":n[1]||(n[1]=u=>!u&&c())},{default:a(()=>[o(r(b),{class:"sm:max-w-md"},{default:a(()=>[o(r(V),null,{default:a(()=>[o(r(S),{class:"text-foreground"},{default:a(()=>[m(t(l.title),1)]),_:1})]),_:1}),i("div",I,[i("p",K,t(l.content),1),o(T,{ref_key:"passwordInput",ref:f,modelValue:s.password,"onUpdate:modelValue":n[0]||(n[0]=u=>s.password=u),type:"password",label:e.__("Password"),error:s.error,placeholder:e.__("Password"),onKeyup:$(_,["enter"])},null,8,["modelValue","label","error","placeholder"]),i("p",L,t(e.__("Continue with empty password if you have no password.")),1)]),o(r(B),{class:"flex-col-reverse sm:flex-row sm:justify-end gap-2"},{default:a(()=>[o(r(P),{variant:"outline",onClick:c},{default:a(()=>[m(t(e.__("Cancel")),1)]),_:1}),o(j,{loading:s.processing,onClick:_},{default:a(()=>[m(t(l.button),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"])]))}};export{M as _};
