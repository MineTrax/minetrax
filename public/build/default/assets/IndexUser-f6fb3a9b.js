import{_ as U}from"./AdminLayout-43c7bab8.js";import{u as $}from"./useAuthorizable-a6828ca6.js";import{u as B}from"./AppLayout-d0ce35cf.js";import{o as l,d,a,l as w,q as k,c as h,w as o,k as I,b as r,u as s,t as n,j as c,p as N,f as y,e as u}from"./app-cc9837a5.js";import{_ as E}from"./DataTable-370005b2.js";import{D as _}from"./DtRowItem-2d993376.js";import{_ as T}from"./UserDisplayname-76313f9e.js";import{r as V}from"./NoSymbolIcon-20d49508.js";import{r as C}from"./EyeIcon-7e2c7a36.js";import{r as L}from"./PencilSquareIcon-3831009e.js";import{r as M}from"./TrashIcon-65e5092e.js";import"./use-resolve-button-type-e1c4ae2b.js";import"./open-closed-923a379f.js";import"./CloudArrowDownIcon-d345c579.js";import"./index-bc1d8a81.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-ed12eab7.js";import"./vue-multiselect.esm-3e251579.js";import"./XMarkIcon-e8daf879.js";import"./hidden-7f2dac2e.js";function R(p,x){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 7.5h-.75A2.25 2.25 0 004.5 9.75v7.5a2.25 2.25 0 002.25 2.25h7.5a2.25 2.25 0 002.25-2.25v-7.5a2.25 2.25 0 00-2.25-2.25h-.75m0-3l-3-3m0 0l-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 012.25 2.25v7.5a2.25 2.25 0 01-2.25 2.25h-7.5a2.25 2.25 0 01-2.25-2.25v-.75"})])}function S(p,x){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 003.844.148m-3.844-.148a23.856 23.856 0 01-5.455-1.31 8.964 8.964 0 002.3-5.542m3.155 6.852a3 3 0 005.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 003.536-1.003A8.967 8.967 0 0118 9.75V9A6 6 0 006.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}const z={class:"px-10 py-8 mx-auto text-gray-400"},F={class:"flex justify-between mb-4"},O={class:"text-3xl font-bold text-gray-500 dark:text-gray-300"},q={class:"px-4 py-4 text-sm font-medium text-center text-gray-800 whitespace-nowrap dark:text-gray-200"},H=["src","title"],J={class:"flex items-center justify-center"},P=["src"],G={class:"px-4 whitespace-nowrap"},K={key:0,class:"text-xs whitespace-nowrap"},Q=["title"],W={class:"px-4 py-3 space-x-1 text-sm font-medium whitespace-nowrap"},X=["title"],Y=["title"],Z={key:2,class:"text-xs italic"},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ge={__name:"IndexUser",props:{countries:Array,users:Object,filters:Object},setup(p){const x=p,{can:b}=$(),{__:t}=I(),{formatTimeAgoToNow:g,formatToDayDateString:v}=B(),A=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"flag",label:t("Flag"),filterable:{key:"country.name",type:"multiselect",options:x.countries,searchable:!0}},{key:"avatar",label:t("Avatar")},{key:"name",label:t("Name"),class:"w-3/12",sortable:!0,filterable:{type:"text"}},{key:"username",label:t("Username"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"email",label:t("Email"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"created_at",label:t("Joined"),sortable:!0,class:"w-2/12"},{key:"role_id",label:t("Role"),class:"w-2/12",sortable:!1,filterable:{key:"roles.display_name",type:"text"}},{key:"flags",label:t("Flags"),sortable:!1,class:"w-1/12"},{key:"actions",label:t("Actions"),sortable:!1,class:"w-2/12 text-right"}];return(m,te)=>{const D=w("app-head"),f=w("InertiaLink"),i=k("tippy"),j=k("confirm");return l(),h(U,null,{default:o(()=>[r(D,{title:s(t)("Users Administration")},null,8,["title"]),a("div",z,[a("div",F,[a("h1",O,n(s(t)("Users")),1)]),r(E,{class:"bg-white rounded shadow dark:bg-gray-800",header:A,data:p.users,filters:p.filters},{default:o(({item:e})=>[a("td",q,n(e.id),1),a("td",null,[c(a("img",{class:"w-10 h-10 mx-auto",src:e.country.photo_path,alt:"Avatar",title:e.country.name},null,8,H),[[i]])]),a("td",null,[a("div",J,[a("img",{class:"w-10 h-10 rounded-full",src:e.profile_photo_url,alt:"Avatar"},null,8,P)])]),a("td",G,[a("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300",style:N([e.roles[0].color?{color:e.roles[0].color}:null])},[r(f,{href:m.route("user.public.get",e.username)},{default:o(()=>[r(T,{user:e,"icon-class":"w-4 h-4","text-class":"text-sm"},null,8,["user"])]),_:2},1032,["href"])],4)]),r(_,null,{default:o(()=>[y(n(e.username),1)]),_:2},1024),r(_,null,{default:o(()=>[a("div",null,n(e.email),1),e.discord_user_id?(l(),d("div",K,n(s(t)("Discord ID"))+": "+n(e.discord_user_id),1)):u("",!0)]),_:2},1024),r(_,{class:"whitespace-nowrap"},{default:o(()=>[c((l(),d("span",{title:s(v)(e.created_at)},[y(n(s(g)(e.created_at)),1)],8,Q)),[[i]])]),_:2},1024),r(_,null,{default:o(()=>[y(n(e.roles[0].display_name),1)]),_:2},1024),a("td",W,[e.muted_at?c((l(),d("span",{key:0,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-orange-100 text-orange-800 dark:bg-orange-700 dark:bg-opacity-25 dark:text-orange-400",title:s(t)("Muted")},[r(s(S),{class:"inline-block w-4 h-4"})],8,X)),[[i]]):u("",!0),e.banned_at?c((l(),d("span",{key:1,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-red-100 text-red-800 dark:bg-red-700 dark:bg-opacity-25 dark:text-red-400",title:s(t)("Banned")},[r(s(V),{class:"inline-block w-4 h-4"})],8,Y)),[[i]]):u("",!0),!e.muted_at&&!e.banned_at?(l(),d("span",Z,n(s(t)("None")),1)):u("",!0)]),a("td",ee,[c((l(),h(f,{as:"a",href:m.route("user.public.get",e.username),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:s(t)("View Profile")},{default:o(()=>[r(s(C),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]),c((l(),h(f,{as:"a",href:m.route("admin.impersonate.take",e.id),class:"inline-flex items-center justify-center text-orange-500 hover:text-orange-800",title:s(t)("Impersonate User")},{default:o(()=>[r(s(R),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]),s(b)("update users")?c((l(),h(f,{key:0,as:"a",href:m.route("admin.user.edit",e.id),class:"inline-flex items-center justify-center text-yellow-600 dark:text-yellow-500 hover:text-yellow-800 dark:hover:text-yellow-800",title:s(t)("Edit User")},{default:o(()=>[r(s(L),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[i]]):u("",!0),s(b)("delete users")?c((l(),h(f,{key:1,as:"button",method:"DELETE",href:m.route("admin.user.delete",e.id),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:s(t)("Delete User")},{default:o(()=>[r(s(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"Are you sure you want to delete this User permanently?"}],[i]]):u("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ge as default};
