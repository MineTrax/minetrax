import{u as $,A}from"./AppLayout-d-I9SvxN.js";import{o as r,d as l,a as t,T as B,s as D,z as I,c as x,w as i,q as L,b as c,u as a,_ as N,t as o,p as _,P as y,n as S,f as p,e as V}from"./app-kSkIihla.js";import{_ as T}from"./DataTable-DHc5K6NX.js";import{D as h}from"./DtRowItem-CA5bF9Um.js";import{_ as j}from"./CommonStatusBadge-Jy9vfo8l.js";import{r as O}from"./NoSymbolIcon-C4UXcYLq.js";import{r as E}from"./SpeakerXMarkIcon-C2U2FRRy.js";import{r as Z}from"./EyeIcon-C0eLo3r0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-CcRkSBTv.js";import"./useAuthorizable-BQqf7wpa.js";import"./vue-multiselect.esm-C5unvQeQ.js";import"./XMarkIcon-CctKu-mh.js";import"./hidden-B-mm076j.js";import"./keyboard-CVw2ZNfl.js";import"./open-closed-5Dj2TMlO.js";function H(n,s){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function R(n,s){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function U(n,s){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}const z={class:"py-4 px-2 md:py-12 md:px-10 max-w-screen-2xl mx-auto"},q={class:"grid-cols-5 gap-4 mb-4 hidden md:grid"},K={class:"col-span-full md:col-span-1"},W={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},F={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-light-blue-100 dark:bg-opacity-10 text-light-blue-500"},G={class:"flex flex-col flex-grow ml-4"},J={class:"text-sm text-gray-500 dark:text-gray-400"},Q={class:"font-bold dark:text-gray-200 text-lg"},X={class:"col-span-full md:col-span-1"},Y={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},tt={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-red-100 dark:bg-opacity-10 text-red-500"},et={class:"flex flex-col flex-grow ml-4"},st={class:"text-sm text-gray-500 dark:text-gray-400"},at={class:"font-bold text-lg dark:text-gray-200"},ot={class:"col-span-full md:col-span-1"},rt={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},lt={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-gray-100 dark:bg-opacity-10 text-gray-400"},nt={class:"flex flex-col flex-grow ml-4"},ct={class:"text-sm text-gray-500 dark:text-gray-400"},it={class:"font-bold text-lg dark:text-gray-200"},dt={class:"col-span-full md:col-span-1"},_t={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},ht={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-yellow-100 dark:bg-opacity-10 text-yellow-500"},ut={class:"flex flex-col flex-grow ml-4"},xt={class:"text-sm text-gray-500 dark:text-gray-400"},ft={class:"font-bold text-lg dark:text-gray-200"},pt={class:"col-span-full md:col-span-1"},yt={class:"flex flex-row bg-white dark:bg-cool-gray-800 shadow rounded p-4"},mt={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-orange-100 dark:bg-opacity-10 text-orange-500"},kt={class:"flex flex-col flex-grow ml-4"},gt={class:"text-sm text-gray-500 dark:text-gray-400"},wt={class:"font-bold text-lg dark:text-gray-200"},vt={class:"flex flex-col md:flex-row md:space-x-4"},bt={class:"px-4 py-3 whitespace-nowrap"},jt={class:"flex items-center"},Ct=["content"],Mt=["src"],Pt={class:"px-4 py-3 whitespace-nowrap"},$t={key:0},At={class:"flex items-center"},Bt={class:"flex-shrink-0 h-7 w-7"},Dt=["src"],It={class:"ml-2"},Lt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Nt={key:1,class:"text-red-500 italic"},St={key:1},Vt={class:"flex items-center"},Tt={class:"flex-shrink-0 h-7 w-7"},Ot=["src"],Et={class:"ml-2"},Zt=["content"],Ht={class:"text-red-500 italic"},Rt={key:2,class:"flex items-center space-x-2"},Ut={class:"text-gray-500 dark:text-gray-400 text-xs font-bold"},zt={key:0},qt=["href"],Kt={key:1,class:"text-gray-400 italic"},Wt={class:"px-4 py-3 whitespace-nowrap"},Ft={key:0},Gt={class:"flex items-center"},Jt={class:"flex-shrink-0 h-7 w-7"},Qt=["src"],Xt={class:"ml-2"},Yt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},te={key:1,class:"text-red-500 italic"},ee={key:1,class:"flex items-center space-x-2"},se={key:0,class:"text-gray-500 dark:text-gray-400 text-xs font-bold"},ae={key:1,class:"text-gray-500 dark:text-gray-400 text-xs font-bold"},oe=["title"],re=["title"],le=["title"],ne={key:1,class:"italic text-gray-400"},ce={class:"px-4 py-3 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ce={__name:"IndexPunishment",props:{punishments:Object,countries:Array,filters:Object,metrics:Object},setup(n){var w;const{__:s}=L(),{formatTimeAgoToNow:m,formatToDayDateString:k}=$(),C=n,g=(w=B().props.banwarden)==null?void 0:w.canShowMaskedIp,M=[{key:"id",label:s("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12",filterable:{key:"country.name",type:"multiselect",options:C.countries,searchable:!0}},{key:"type",sortable:!0,label:s("Type"),filterable:{type:"multiselect",options:["ban","mute","warn","kick"]},class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:s("Player"),filterable:{type:"text",key:"victimPlayer.username"}},...g?[{key:"ip_address",sortable:!1,label:s("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!1,label:s("Staff"),filterable:{type:"text"}},{key:"reason",sortable:!1,label:s("Reason"),filterable:{type:"text"}},{key:"start_at",sortable:!0,label:s("Date")},{key:"end_at",sortable:!0,label:s("Expires")},{key:"status",label:s("Status"),sortable:!1,class:"text-center",filterable:[{key:"status",label:s("Status"),type:"select",options:["active","inactive"]},{key:"evidence_attached",type:"select",options:["attached","missing"],searchable:!1,label:s("Evidence")}]},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}];return(u,f)=>{const P=D("InertiaLink"),d=I("tippy");return r(),x(A,null,{default:i(()=>[c(N,{title:a(s)("Punishments")},null,8,["title"]),t("div",z,[t("div",q,[t("div",K,[t("div",W,[t("div",F,[c(a(U),{class:"w-6 h-6 stroke-2"})]),t("div",G,[t("div",J,o(a(s)("Punishments")),1),t("div",Q,o(n.metrics.total_active_bans+n.metrics.total_active_mutes+n.metrics.total_active_warns)+" / "+o(n.metrics.total_bans+n.metrics.total_mutes+n.metrics.total_warns+n.metrics.total_kicks),1)])])]),t("div",X,[t("div",Y,[t("div",tt,[c(a(O),{class:"w-6 h-6 stroke-2"})]),t("div",et,[t("div",st,o(a(s)("Bans")),1),t("div",at,o(n.metrics.total_active_bans)+" / "+o(n.metrics.total_bans),1)])])]),t("div",ot,[t("div",rt,[t("div",lt,[c(a(E),{class:"w-6 h-6 stroke-2"})]),t("div",nt,[t("div",ct,o(a(s)("Mutes")),1),t("div",it,o(n.metrics.total_active_mutes)+" / "+o(n.metrics.total_mutes),1)])])]),t("div",dt,[t("div",_t,[t("div",ht,[c(a(R),{class:"w-6 h-6 stroke-2"})]),t("div",ut,[t("div",xt,o(a(s)("Warns")),1),t("div",ft,o(n.metrics.total_active_warns)+" / "+o(n.metrics.total_warns),1)])])]),t("div",pt,[t("div",yt,[t("div",mt,[c(a(H),{class:"w-6 h-6 stroke-2"})]),t("div",kt,[t("div",gt,o(a(s)("Kicks")),1),t("div",wt,o(n.metrics.total_kicks),1)])])])]),t("div",vt,[c(T,{class:"bg-white rounded shadow dark:bg-gray-800 w-full",header:M,data:n.punishments,filters:n.filters},{default:i(({item:e})=>[c(h,null,{default:i(()=>[_((r(),x(a(y),{as:"a",href:u.route("player.punishment.show",e.id),class:S(["focus:outline-none cursor-pointer hover:underline",e.is_active?"font-bold dark:text-gray-300":""]),content:a(s)("View details")},{default:i(()=>[p(o(e.id),1)]),_:2},1032,["href","class","content"])),[[d]])]),_:2},1024),t("td",bt,[t("div",jt,[_((r(),l("div",{class:"flex-shrink-0 h-8 w-8 focus:outline-none",content:e.country.name},[t("img",{class:"h-8 w-8",src:e.country.photo_path,alt:""},null,8,Mt)],8,Ct)),[[d]])])]),c(h,{class:"text-center"},{default:i(()=>[c(j,{status:e.type.value},null,8,["status"])]),_:2},1024),t("td",Pt,[e.uuid&&e.victim_player?(r(),l("div",$t,[t("div",At,[t("div",Bt,[t("img",{class:"h-7 w-7",src:e.victim_player.avatar_url,alt:""},null,8,Dt)]),t("div",It,[_((r(),x(a(y),{as:"a",href:u.route("player.show",e.victim_player.uuid),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.victim_player.uuid},{default:i(()=>[e.victim_player.username?(r(),l("span",Lt,o(e.victim_player.username),1)):(r(),l("span",Nt,o(a(s)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])])):e.uuid?(r(),l("div",St,[t("div",Vt,[t("div",Tt,[t("img",{class:"h-7 w-7",src:u.route("player.avatar.get",e.uuid),alt:""},null,8,Ot)]),t("div",Et,[_((r(),l("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-200",content:e.uuid},[t("span",Ht,o(a(s)("Unknown")),1)],8,Zt)),[[d]])])])])):(r(),l("div",Rt,[f[0]||(f[0]=t("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1)),t("span",Ut,o(a(s)("IP :punish",{punish:e.type.key})),1)]))]),a(g)?(r(),x(h,{key:0,class:"text-center"},{default:i(()=>[e.ip_address||e.masked_ip_address?(r(),l("span",zt,[t("a",{class:"hover:underline",target:"_blank",href:`https://check-host.net/ip-info?host=${e.ip_address||e.masked_ip_address}`},o(e.ip_address||e.masked_ip_address),9,qt)])):(r(),l("span",Kt,o(a(s)("None")),1))]),_:2},1024)):V("",!0),t("td",Wt,[e.creator_uuid?(r(),l("div",Ft,[t("div",Gt,[t("div",Jt,[t("img",{class:"h-7 w-7",src:e.creator_player?e.creator_player.avatar_url:u.route("player.avatar.get",e.creator_uuid),alt:""},null,8,Qt)]),t("div",Xt,[_((r(),x(a(y),{as:"a",href:e.creator_player?u.route("player.show",e.creator_player.uuid):"#",class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.creator_uuid},{default:i(()=>{var v,b;return[(v=e.creator_player)!=null&&v.username||e.creator_username?(r(),l("span",Yt,o(((b=e.creator_player)==null?void 0:b.username)||e.creator_username),1)):(r(),l("span",te,o(a(s)("Unknown")),1))]}),_:2},1032,["href","content"])),[[d]])])])])):(r(),l("div",ee,[f[1]||(f[1]=t("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1)),e.creator_username&&e.creator_username!=="Console"?(r(),l("span",se,o(e.creator_username),1)):(r(),l("span",ae,o(a(s)("CONSOLE")),1))]))]),c(h,null,{default:i(()=>[_((r(),l("p",{title:e.reason,class:"truncate w-32"},[p(o(e.reason),1)],8,oe)),[[d]])]),_:2},1024),c(h,{class:"whitespace-nowrap"},{default:i(()=>[_((r(),l("span",{title:a(k)(e.start_at)},[p(o(a(m)(e.start_at)),1)],8,re)),[[d]])]),_:2},1024),c(h,{class:"whitespace-nowrap"},{default:i(()=>[e.end_at?_((r(),l("span",{key:0,title:a(k)(e.end_at)},[p(o(a(m)(e.end_at)),1)],8,le)),[[d]]):(r(),l("span",ne,o(a(s)("None")),1))]),_:2},1024),c(h,{class:"text-center"},{default:i(()=>[c(j,{status:e.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),t("td",ce,[_((r(),x(P,{title:a(s)("View details"),as:"a",href:u.route("player.punishment.show",e.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:i(()=>[c(a(Z),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[d]])])]),_:1},8,["data","filters"])])])]),_:1})}}};export{Ce as default};
