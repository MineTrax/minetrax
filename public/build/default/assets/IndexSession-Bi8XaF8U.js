import{s as v,z as g,c as k,w as r,q as D,o as i,b as a,u as o,_ as S,a as t,t as l,p as d,d as p,f as _}from"./app-jpCRGzWE.js";import{u as I}from"./BaseLayout-sXkR-4Uw.js";import{_ as T}from"./DataTable-pHQxfe0U.js";import{D as u}from"./DtRowItem-ZEfbfaLY.js";import{_ as B}from"./AppLayout-n5uAlHVc.js";import{_ as j}from"./PlayerSubMenu-CibJ8OAa.js";import{r as N}from"./EyeIcon-C86KfWW7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-wreK45eH.js";import"./useAuthorizable-e--Skqmp.js";import"./vue-multiselect.esm-DnFUxAWZ.js";import"./XMarkIcon-B9z5I5uI.js";import"./hidden-DS7qYPlv.js";import"./keyboard-BsWWh6cB.js";import"./open-closed-7-ABnrJt.js";const P={class:"px-2 py-4 md:py-12 md:px-10 max-w-7xl mx-auto space-y-4"},V={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},$={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},q={class:"flex items-center"},A=["content"],O=["src"],C={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},E={class:"flex items-center"},H={class:"flex-shrink-0 h-10 w-10"},L=["src"],R={class:"ml-4"},z={class:"font-extrabold text-secondary-700 dark:text-secondary-300"},F=["title"],M=["title"],G={key:1,class:"text-secondary-400"},J={class:"whitespace-nowrap"},K={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},de={__name:"IndexSession",props:{player:{type:Object,required:!0},filters:{type:Object},sessions:{type:Object},canShowPlayerIntel:{type:Boolean,required:!0}},setup(n){const{__:s}=D(),{formatTimeAgoToNow:y,formatToDayDateString:m,secondsToHMS:h}=I(),b=[{key:"id",label:s("ID"),sortable:!0,class:"text-left"},{key:"country_id",label:s("Flag"),sortable:!0,class:"text-left"},{key:"player_displayname",label:s("Display name"),sortable:!0},{key:"session_started_at",label:s("Started"),sortable:!0},{key:"session_ended_at",label:s("Ended"),sortable:!0},{key:"server_id",label:s("Server"),sortable:!0},{key:"play_time",label:s("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:s("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:s("Actions"),sortable:!1,class:"text-right"}];return(f,Q)=>{const x=v("InertiaLink"),c=g("tippy");return i(),k(B,null,{default:r(()=>[a(S,{title:o(s)(":username's sessions - PlayerIntel",{username:n.player.username})},null,8,["title"]),t("div",P,[a(j,{player:n.player,"can-show-player-intel":n.canShowPlayerIntel},null,8,["player","can-show-player-intel"]),t("div",null,[a(T,{class:"bg-white rounded shadow dark:bg-surface-800",header:b,data:n.sessions,filters:n.filters,"route-params":{player:n.player.uuid}},{default:r(({item:e})=>{var w;return[t("td",V,l(e.id),1),t("td",$,[t("div",q,[d((i(),p("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[t("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,O)],8,A)),[[c]])])]),t("td",C,[t("div",E,[t("div",H,[t("img",{class:"h-10 w-10",src:(w=n.player)==null?void 0:w.avatar_url,alt:""},null,8,L)]),t("div",R,[a(x,{as:"a",href:f.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"text-sm font-medium text-secondary-900 dark:text-secondary-200 focus:outline-none cursor-pointer hover:underline"},{default:r(()=>[t("span",z,l(e.player_displayname)+" ("+l(e.player_username)+") ",1)]),_:2},1032,["href"])])])]),a(u,null,{default:r(()=>[d((i(),p("span",{class:"whitespace-nowrap",title:o(m)(e.session_started_at)},[_(l(o(y)(e.session_started_at)),1)],8,F)),[[c]])]),_:2},1024),a(u,null,{default:r(()=>[e.session_ended_at?d((i(),p("span",{key:0,class:"whitespace-nowrap",title:o(m)(e.session_ended_at)},[_(l(o(y)(e.session_ended_at)),1)],8,M)),[[c]]):(i(),p("span",G,"â€”"))]),_:2},1024),a(u,null,{default:r(()=>[d((i(),p("span",J,[_(l(e.server.name),1)])),[[c]])]),_:2},1024),a(u,{class:"text-right"},{default:r(()=>[_(l(o(h)(e.play_time,!0)),1)]),_:2},1024),a(u,{class:"text-right"},{default:r(()=>[_(l(o(h)(e.afk_time,!0)),1)]),_:2},1024),t("td",K,[d((i(),k(x,{as:"a",href:f.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"inline-flex items-center justify-center text-primary-500 hover:text-primary-800",title:o(s)("View Session Details")},{default:r(()=>[a(o(N),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]}),_:1},8,["data","filters","route-params"])])])]),_:1})}}};export{de as default};
