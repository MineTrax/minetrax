import{_ as T}from"./AdminLayout-CgKpHlNL.js";import{u as S}from"./useAuthorizable-CKY4A9EI.js";import{u as C}from"./AppLayout-nTzTLkcY.js";import{s as w,z as g,c as i,w as o,q as I,o as l,b as n,u as e,a,t as r,f as c,e as d,p,d as A}from"./app-aqw-n-C2.js";import{_ as E}from"./DataTable-BHD5r2G6.js";import{D as y}from"./DtRowItem-Ca68bKhw.js";import{_ as P}from"./AlertCard-pjpLYWej.js";import{a as j}from"./index-LiBbe_Xz.js";import{r as $}from"./PencilSquareIcon-CGtGYusE.js";import{r as B}from"./TrashIcon-CKOyuanZ.js";import"./keyboard-D9MjfX7e.js";import"./open-closed-BVqjHboy.js";import"./CloudArrowDownIcon-D455bD1C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-BHJIwx4L.js";import"./vue-multiselect.esm-Doco6gya.js";import"./XMarkIcon-Ck8A-WMF.js";import"./hidden-DyfrtWB5.js";const M={class:"px-10 py-8 mx-auto text-secondary-400"},V={class:"text-secondary-600 dark:text-secondary-400"},L={class:"text-secondary-600 list-disc list-inside dark:text-secondary-400"},z={class:"italic text-secondary-400 dark:text-secondary-500"},O={class:"flex justify-between mb-4"},Y={class:"text-3xl font-bold text-secondary-500 dark:text-secondary-300"},q={class:"flex"},H={class:"hidden md:inline"},W={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},F={class:"px-4"},G={class:""},J=["src","alt"],K={class:"px-4 whitespace-nowrap"},Q={class:"text-sm font-medium text-secondary-900 dark:text-secondary-300"},U={class:"text-sm text-secondary-500 dark:text-secondary-400"},X=["title"],Z={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ke={__name:"IndexRank",props:{ranks:Object,filters:Object},setup(h){const{can:u}=S(),{__:t}=I(),{formatTimeAgoToNow:v,formatToDayDateString:R}=C(),k=j("show-player-rank-sync-alert",!0),D=[{key:"id",label:t("ID"),sortable:!0},{key:"image",sortable:!1,label:t("Image")},{key:"name",sortable:!0,label:t("Name"),class:"w-2/12"},{key:"total_play_time_needed",label:t("Play Time Needed"),sortable:!0,class:"text-right"},{key:"total_score_needed",label:t("Score Needed"),sortable:!0,class:"text-right"},{key:"players_count",label:t("Player Count"),sortable:!1,class:"text-right"},{key:"created_at",sortable:!0,label:t("Created")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(m,x)=>{const N=w("app-head"),f=w("InertiaLink"),b=g("confirm"),_=g("tippy");return l(),i(T,null,{default:o(()=>[n(N,{title:e(t)("Manage Player Ranks")},null,8,["title"]),a("div",M,[e(k)?(l(),i(P,{key:0,"close-button":!0,"text-color":"text-primary-800 dark:text-primary-500","border-color":"border-primary-500",onClose:x[0]||(x[0]=s=>k.value=!1)},{body:o(()=>[a("p",V,r(e(t)("If you want to sync player rank from your minecraft server, follow the steps below:")),1),a("ul",L,[a("li",null,r(e(t)("Create a rank for each rank you have in your server and want to sync. Make sure Short Name matches the rank identifier in your server.")),1),a("li",null,r(e(t)("Enable the 'Sync Rank' option from Admin > Settings > Plugin > Enable Player Rank Sync.")),1),a("li",null,r(e(t)("Done! Wait for some time and your player ranks will be synced automatically.")),1)]),a("p",z,r(e(t)("Note: This is optional feature. You can safely close this alert if you don't want to use it. You can always do it later.")),1)]),default:o(()=>[c(r(e(t)("Do you know! MineTrax can also sync rank from server instead of calculating using algorithm."))+" ",1)]),_:1})):d("",!0),a("div",O,[a("h1",Y,r(e(t)("Manage Player Ranks")),1),a("div",q,[e(u)("update ranks")?p((l(),i(f,{key:0,method:"post",as:"button",href:m.route("admin.rank.reset"),class:"inline-flex items-center px-4 py-2 mr-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-error-600 border border-transparent rounded-md hover:bg-error-700 active:bg-error-900 focus:outline-none focus:border-error-900 focus:shadow-outline-red"},{default:o(()=>[c(r(e(t)("Reset to Default Ranks")),1)]),_:1},8,["href"])),[[b,{message:"Are you sure you want to Reset all Ranks? This will remove current rank of all players."}]]):d("",!0),e(u)("create ranks")?(l(),i(f,{key:1,href:m.route("admin.rank.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-surface-800 border border-transparent rounded-md hover:bg-surface-700 active:bg-surface-900 focus:outline-none focus:border-secondary-900 focus:shadow-outline-gray"},{default:o(()=>[a("span",null,r(e(t)("Create New")),1),a("span",H,"Â "+r(e(t)("Rank")),1)]),_:1},8,["href"])):d("",!0)])]),n(E,{class:"bg-white rounded shadow dark:bg-surface-800",header:D,data:h.ranks,filters:h.filters},{default:o(({item:s})=>[a("td",W,r(s.id),1),a("td",F,[a("div",G,[a("img",{class:"max-h-12 max-w-12",src:s.photo_url,alt:e(t)("Rank Image")},null,8,J)])]),a("td",K,[a("div",null,[a("div",Q,r(s.name),1),a("div",U,r(s.shortname),1)])]),n(y,{class:"text-right"},{default:o(()=>[c(r(s.total_play_time_needed),1)]),_:2},1024),n(y,{class:"text-right"},{default:o(()=>[c(r(s.total_score_needed),1)]),_:2},1024),n(y,{class:"text-right"},{default:o(()=>[c(r(s.players_count),1)]),_:2},1024),n(y,null,{default:o(()=>[p((l(),A("span",{title:e(R)(s.created_at)},[c(r(e(v)(s.created_at)),1)],8,X)),[[_]])]),_:2},1024),a("td",Z,[e(u)("update ranks")?p((l(),i(f,{key:0,as:"a",href:m.route("admin.rank.edit",s.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Edit Rank")},{default:o(()=>[n(e($),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[_]]):d("",!0),e(u)("delete ranks")?p((l(),i(f,{key:1,as:"button",method:"DELETE",href:m.route("admin.rank.delete",s.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Rank")},{default:o(()=>[n(e(B),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[b,{message:"Are you sure you want to delete this Rank permanently?"}],[_]]):d("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ke as default};
