import{h as V,k as C,p as N,y as E,c as U,w as n,s as k,o as p,b as a,j as e,a as s,f as $,t as d,v as B,x as M,d as b,g as f,P,i as w}from"./app-D9GuHpcZ.js";import{_ as T}from"./AdminLayout-DdnXiWbQ.js";import{_ as j}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as y}from"./index-B5if8pRS.js";import{_ as A}from"./XInput-Cvs-Jhqz.js";import{_ as D}from"./XSelect-C4vUI2IC.js";import{_ as u}from"./XSwitch-awdJ8Wzd.js";import{_ as S}from"./ImageUpload-Czo8mVE4.js";import{E as I}from"./easymde-QJYvmxHQ.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./BaseLayout-B3-iVEMv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./Input-17rNUrUJ.js";import"./Label-hpeRY5vg.js";import"./SelectValue-D9eI7XgB.js";import"./useFormControl-C0VJqXgZ.js";import"./Switch-DbKyFhTc.js";const z={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},O={class:"flex justify-between mb-4"},F={class:"mt-6"},G={class:"shadow rounded-lg"},H={class:"px-4 py-5 bg-card sm:p-6"},q={class:"grid grid-cols-6 gap-6"},J={class:"col-span-6 sm:col-span-3"},K={class:"col-span-6 sm:col-span-3"},L={class:"col-span-6"},Q={class:"col-span-6"},R={for:"body",class:"block text-sm font-medium text-foreground mb-2"},W={key:0,class:"text-xs text-destructive mt-2"},X={class:"col-span-6"},Y={class:"flex flex-wrap gap-6"},Z={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},ee={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ue={__name:"EditNews",props:{news:Object},setup(m){var _;const{__:o}=k(),i=m,h=[{text:o("Admin"),current:!1},{text:o("News"),url:route("admin.news.index"),current:!1},{text:o("Edit News"),current:!0},{text:"#"+i.news.id,current:!0}],c=V(null),t=C({title:i.news.title,body:i.news.body,type:String(((_=i.news.type)==null?void 0:_.value)??i.news.type),is_published:!!i.news.published_at,is_pinned:i.news.is_pinned,is_commentable:i.news.is_commentable,photo:null,_method:"PUT"});N(()=>{c.value=new I({element:document.getElementById("body"),previewClass:"editor-preview prose max-w-none"})});function x(){t.body=c.value.value(),t.post(route("admin.news.update",i.news.id),{preserveScroll:!0})}return(v,l)=>{const g=E("app-head");return p(),U(T,null,{default:n(()=>[a(g,{title:e(o)("Edit News - #:id",{id:m.news.id})},null,8,["title"]),s("div",z,[s("div",O,[a(j,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:h})]),s("div",F,[s("form",{onSubmit:$(x,["prevent"])},[s("div",G,[s("div",H,[s("div",q,[s("div",J,[a(D,{id:"type",modelValue:e(t).type,"onUpdate:modelValue":l[0]||(l[0]=r=>e(t).type=r),name:"type",error:e(t).errors.type,label:e(o)("News Category"),"select-list":{0:e(o)("General"),1:e(o)("Announcement"),2:e(o)("Event")},"disable-null":!0},null,8,["modelValue","error","label","select-list"])]),s("div",K,[a(S,{id:"photo",name:"photo",label:e(o)("Featured Image (Optional)"),"current-url":m.news.photo_url,modelValue:e(t).photo,"onUpdate:modelValue":l[1]||(l[1]=r=>e(t).photo=r),error:e(t).errors.photo,removable:!1,shape:"rect","preview-class":"h-64 w-full","upload-label":e(o)("Upload"),"change-label":e(o)("Change")},null,8,["label","current-url","modelValue","error","upload-label","change-label"])]),s("div",L,[a(A,{id:"title",modelValue:e(t).title,"onUpdate:modelValue":l[2]||(l[2]=r=>e(t).title=r),label:e(o)("Title"),error:e(t).errors.title,type:"text",name:"title"},null,8,["modelValue","label","error"])]),s("div",Q,[s("label",R,d(e(o)("Content")),1),B(s("textarea",{id:"body","onUpdate:modelValue":l[3]||(l[3]=r=>e(t).body=r),"aria-label":"body",name:"body"},null,512),[[M,e(t).body]]),e(t).errors.body?(p(),b("p",W,d(e(t).errors.body),1)):f("",!0)]),s("div",X,[s("div",Y,[a(u,{id:"is_published",modelValue:e(t).is_published,"onUpdate:modelValue":l[4]||(l[4]=r=>e(t).is_published=r),label:e(o)("Published"),name:"is_published",error:e(t).errors.is_published},null,8,["modelValue","label","error"]),a(u,{id:"is_pinned",modelValue:e(t).is_pinned,"onUpdate:modelValue":l[5]||(l[5]=r=>e(t).is_pinned=r),label:e(o)("Pinned"),name:"is_pinned",error:e(t).errors.is_pinned},null,8,["modelValue","label","error"]),a(u,{id:"is_commentable",modelValue:e(t).is_commentable,"onUpdate:modelValue":l[6]||(l[6]=r=>e(t).is_commentable=r),label:e(o)("Allow Comments"),name:"is_commentable",error:e(t).errors.is_commentable},null,8,["modelValue","label","error"])])])])]),s("div",Z,[a(e(y),{variant:"outline","as-child":""},{default:n(()=>[a(e(P),{href:v.route("admin.news.index")},{default:n(()=>[w(d(e(o)("Cancel")),1)]),_:1},8,["href"])]),_:1}),a(e(y),{type:"submit",disabled:e(t).processing},{default:n(()=>[e(t).processing?(p(),b("svg",ee,l[7]||(l[7]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):f("",!0),w(" "+d(e(o)("Update News")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{Ue as default};
