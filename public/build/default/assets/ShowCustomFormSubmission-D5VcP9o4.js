import{e as A,y as w,z as y,c as f,w as a,o as n,b,j as t,_ as C,a as e,i as g,t as o,d as l,g as d,v as m,L as D,N as T,s as j}from"./app-D9GuHpcZ.js";import{u as N}from"./BaseLayout-B3-iVEMv.js";import{_ as B}from"./AdminLayout-DdnXiWbQ.js";import{u as E}from"./useAuthorizable-jSLZg7XL.js";import{u as I}from"./useFormKit-DsPcY36i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./CloudArrowDownIcon-COtJdbQg.js";const K={class:"p-4 px-10 mx-auto space-y-4"},L={class:"py-3 flex justify-between"},V={class:"text-xl font-extrabold text-foreground dark:text-foreground"},z={key:0,class:"text-base text-orange-500 italic"},O={class:"flex gap-4"},P={class:"flex w-full gap-4"},R={class:"flex-grow px-3 py-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-surface-800 md:px-10 md:py-5 no-disabled-effect"},U={class:"w-1/3 p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-surface-800"},$={class:"flex flex-col mt-3"},H={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},q={class:"flex items-center justify-between w-full"},G={class:"flex-shrink-0 h-10 w-10 mr-2"},J=["src"],M={class:"flex-col"},Q={class:"text-sm text-foreground"},W={key:1,class:"flex items-center italic text-sm text-foreground dark:text-foreground"},X={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},Y={class:"flex items-center justify-between w-full"},Z={class:"flex items-center space-x-1"},ee=["content"],se=["src"],te={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},oe={class:"flex items-center justify-between w-full"},ie={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ne={class:"flex items-center justify-between w-full"},re=["title"],ae={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ue={class:"flex items-center justify-between w-full"},le=["title"],Ae={__name:"ShowCustomFormSubmission",props:{submission:{type:Object}},setup(s){const{can:x}=E(),{__:i}=j(),{formatTimeAgoToNow:p,formatToDayDateString:v}=N(),_=s,k=A(()=>_.submission.data.map(r=>({...r,value:r.data}))),S=I().generateSchemaFromFieldsArray(k.value,!0);return(r,de)=>{const c=w("InertiaLink"),F=w("FormKit"),h=y("confirm"),u=y("tippy");return n(),f(B,null,{default:a(()=>[b(C,{title:t(i)(":formtitle submission #:index - Custom Form Submissions",{index:s.submission.id,formtitle:s.submission.custom_form.title})},null,8,["title"]),e("div",K,[e("div",L,[e("h3",V,[g(o(t(i)(":formtitle - Submission #:index",{index:s.submission.id,formtitle:s.submission.custom_form.title}))+" ",1),s.submission.deleted_at?(n(),l("span",z,o(t(i)("(Archived)")),1)):d("",!0)]),e("div",O,[t(x)("archive custom_form_submissions")&&!s.submission.deleted_at?m((n(),f(c,{key:0,as:"button",method:"POST",href:r.route("admin.custom-form-submission.archive",s.submission.id),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-orange-500 border border-transparent rounded-md hover:bg-orange-700 active:bg-orange-900 focus:outline-none focus:border-orange-900 focus:shadow-outline-gray"},{default:a(()=>[e("span",null,o(t(i)("Archive")),1)]),_:1},8,["href"])),[[h,{message:"Archive this Custom Form Submission? It will move to archive section."}],[u]]):d("",!0),t(x)("delete custom_form_submissions")&&s.submission.deleted_at?m((n(),f(c,{key:1,as:"button",method:"POST",href:r.route("admin.custom-form-submission.restore",s.submission.id),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-success-500 border border-transparent rounded-md hover:bg-success-700 active:bg-success-900 focus:outline-none focus:border-success-900 focus:shadow-outline-gray"},{default:a(()=>[e("span",null,o(t(i)("Restore")),1)]),_:1},8,["href"])),[[h,{message:"Restore this Custom Form Submission? It will move back to submissions list."}],[u]]):d("",!0),t(x)("delete custom_form_submissions")?m((n(),f(c,{key:2,as:"button",method:"DELETE",href:r.route("admin.custom-form-submission.delete",s.submission.id),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-error-600 border border-transparent rounded-md hover:bg-error-700 active:bg-error-900 focus:outline-none focus:border-error-900 focus:shadow-outline-gray"},{default:a(()=>[e("span",null,o(t(i)("Delete")),1)]),_:1},8,["href"])),[[h,{message:"Delete this Custom Form Submission? This action cannot be undone."}],[u]]):d("",!0),b(c,{href:s.submission.deleted_at?r.route("admin.custom-form-submission.index-archived"):r.route("admin.custom-form-submission.index"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-surface-400 border border-transparent rounded-md hover:bg-surface-500 active:bg-surface-600 focus:outline-none focus:border-foreground focus:shadow-outline-gray dark:bg-surface-800 dark:hover:bg-surface-700 dark:active:bg-surface-900 dark:focus:border-foreground"},{default:a(()=>[e("span",null,o(t(i)("Back")),1)]),_:1},8,["href"])])]),e("div",P,[e("div",R,[b(F,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:a(()=>[b(t(D),{schema:t(S)},null,8,["schema"])]),_:1})]),e("div",U,[e("ul",$,[e("li",H,[e("div",q,[e("span",null,o(t(i)("User")),1),e("div",null,[s.submission.user?(n(),f(c,{key:0,href:r.route("user.public.get",s.submission.user.username),class:"flex items-center"},{default:a(()=>[e("div",G,[e("img",{class:"h-10 w-10 rounded-full",src:s.submission.user.profile_photo_url,alt:"Avatar"},null,8,J)]),e("div",M,[e("div",{class:"text-sm font-semibold text-foreground dark:text-foreground whitespace-nowrap truncate",style:T([s.submission.user.roles[0].color?{color:s.submission.user.roles[0].color}:null])},o(s.submission.user.name),5),e("div",Q," @"+o(s.submission.user.username),1)])]),_:1},8,["href"])):(n(),l("div",W,o(t(i)("Anonymous")),1))])])]),e("li",X,[e("div",Y,[e("span",null,o(t(i)("User's Country")),1),e("div",Z,[e("span",null,o(s.submission.country.name),1),s.submission.country?m((n(),l("div",{key:0,class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:s.submission.country.name},[e("img",{class:"h-10 w-10",src:s.submission.country.photo_path,alt:""},null,8,se)],8,ee)),[[u]]):d("",!0)])])]),e("li",te,[e("div",oe,[e("span",null,o(t(i)("Form")),1),e("span",null,o(s.submission.custom_form.title),1)])]),e("li",ie,[e("div",ne,[e("span",null,o(t(i)("Created At")),1),m((n(),l("span",{title:t(p)(s.submission.created_at)},[g(o(t(v)(s.submission.created_at)),1)],8,re)),[[u]])])]),s.submission.deleted_at?(n(),l("li",ae,[e("div",ue,[e("span",null,o(t(i)("Archived At")),1),m((n(),l("span",{title:t(p)(s.submission.deleted_at)},[g(o(t(v)(s.submission.deleted_at)),1)],8,le)),[[u]])])])):d("",!0)])])])])]),_:1})}}};export{Ae as default};
