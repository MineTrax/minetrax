import{_ as E}from"./AdminLayout-CxVM27ib.js";import{u as I}from"./useAuthorizable-Cf1MTXSt.js";import{u as N}from"./AppLayout-D09sHPWy.js";import{s as k,z as b,c as o,w as l,q as T,o as a,b as i,u as s,a as r,t as n,e as _,f,p as u,d as m}from"./app-B6MSbjiR.js";import{_ as j}from"./DataTable-hnP3yKY2.js";import{D as p}from"./DtRowItem-Cfc6QIWY.js";import{I as c}from"./Icon-DyYhHgsS.js";import{m as z}from"./millify-Bqi9XFSn.js";import{r as C}from"./CloudArrowDownIcon-CMU1uDwp.js";import{r as R}from"./PencilSquareIcon-BjbWkljD.js";import{r as q}from"./TrashIcon-C6bDJBBA.js";import"./keyboard-D8XalHIH.js";import"./open-closed-LifvgtoZ.js";import"./index-DwFICxA8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-multiselect.esm-Dtutmjl3.js";import"./XMarkIcon-o8SeIREM.js";import"./hidden-BChwjN3c.js";const L={class:"px-10 py-8 mx-auto text-secondary-400"},V={class:"flex justify-between mb-4"},$={class:"text-3xl font-bold text-secondary-500 dark:text-secondary-300"},O={class:"flex"},S={class:"hidden md:inline"},F={class:"px-4 py-4 text-sm font-medium text-center text-secondary-800 whitespace-nowrap dark:text-secondary-200"},M={class:"px-4"},U={class:"px-4"},G={class:"px-4"},H=["title"],K={key:0,class:"italic text-secondary-400"},W={key:1},J=["title"],P={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Q=["href","title"],he={__name:"IndexDownload",props:{downloads:Object,filters:Object},setup(y){const{can:x}=I(),{__:e}=T(),{formatTimeAgoToNow:g,formatToDayDateString:D}=N(),v=[{key:"id",label:e("ID"),sortable:!0,class:"text-center"},{key:"name",sortable:!0,label:e("Name"),filterable:{type:"text"}},{key:"is_active",label:e("Active"),sortable:!0},{key:"is_external",label:e("External"),sortable:!0},{key:"is_only_auth",label:e("Auth Only"),sortable:!0},{key:"file_name",sortable:!0,label:e("File Name")},{key:"file_size",sortable:!1,label:e("File Size")},{key:"download_count",sortable:!0,class:"text-center",label:e("Downloads")},{key:"created_at",label:e("Created"),sortable:!0,class:"w-1/12"},{key:"actions",label:e("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(h,X)=>{const B=k("app-head"),w=k("InertiaLink"),d=b("tippy"),A=b("confirm");return a(),o(E,null,{default:l(()=>[i(B,{title:s(e)("Downloads Administration")},null,8,["title"]),r("div",L,[r("div",V,[r("h1",$,n(s(e)("Downloads")),1),r("div",O,[s(x)("create downloads")?(a(),o(w,{key:0,href:h.route("admin.download.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-surface-800 border border-transparent rounded-md hover:bg-surface-700 active:bg-surface-900 focus:outline-none focus:border-secondary-900 focus:shadow-outline-gray"},{default:l(()=>[r("span",null,n(s(e)("Create")),1),r("span",S,"Â "+n(s(e)("Download")),1)]),_:1},8,["href"])):_("",!0)])]),i(j,{class:"bg-white rounded shadow dark:bg-surface-800",header:v,data:y.downloads,filters:y.filters},{default:l(({item:t})=>[r("td",F,n(t.id),1),i(p,null,{default:l(()=>[f(n(t.name),1)]),_:2},1024),r("td",M,[t.is_active?(a(),o(c,{key:0,class:"text-success-500",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"}))]),r("td",U,[t.is_external?(a(),o(c,{key:0,class:"text-success-500 inline",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"})),t.is_external_url_hidden?u((a(),o(c,{key:2,title:s(e)("External URL is protected from end users."),class:"text-warning-400 inline",name:"shield-check"},null,8,["title"])),[[d]]):_("",!0)]),r("td",G,[t.is_only_auth?(a(),o(c,{key:0,class:"text-success-500 inline",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"})),t.min_role_weight_required?u((a(),m("span",{key:2,title:s(e)("Minimum Role Weight Required to Download"),class:"text-xs"},[f("("+n(t.min_role_weight_required)+")",1)],8,H)),[[d]]):_("",!0)]),i(p,null,{default:l(()=>[f(n(t.is_external?t.file_name:t.file.file_name),1)]),_:2},1024),i(p,null,{default:l(()=>[t.is_external?(a(),m("span",K,n(s(e)("Unknown")),1)):(a(),m("span",W,n(s(z)(t.file.size,{units:["B","KB","MB","GB","TB"],space:!0})),1))]),_:2},1024),i(p,{class:"text-center"},{default:l(()=>[f(n(t.download_count),1)]),_:2},1024),i(p,{class:"whitespace-nowrap"},{default:l(()=>[u((a(),m("span",{title:s(D)(t.created_at)},[f(n(s(g)(t.created_at)),1)],8,J)),[[d]])]),_:2},1024),r("td",P,[u((a(),m("a",{href:h.route("download.download",t.slug),target:"_blank",class:"inline-flex items-center justify-center text-primary-500 hover:text-primary-800",title:s(e)("Download")},[i(s(C),{class:"inline-block w-5 h-5"})],8,Q)),[[d]]),s(x)("update downloads")?u((a(),o(w,{key:0,as:"a",href:h.route("admin.download.edit",t.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:s(e)("Edit Download")},{default:l(()=>[i(s(R),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):_("",!0),s(x)("delete downloads")?u((a(),o(w,{key:1,as:"button",method:"DELETE",href:h.route("admin.download.delete",t.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:s(e)("Delete Download")},{default:l(()=>[i(s(q),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[A,{message:"Are you sure you want to delete this Download permanently?"}],[d]]):_("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{he as default};
