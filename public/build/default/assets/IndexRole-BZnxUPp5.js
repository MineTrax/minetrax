import{_ as T}from"./AdminLayout-ChYp5Oxc.js";import{u as j}from"./useAuthorizable-BSHISSy0.js";import{u as C}from"./AppLayout-5FPtFZxB.js";import{q as g,y as k,c as d,w as l,p as E,o as r,b as n,u as s,a,t as o,e as _,d as i,x as w,P,f as x,m as y,g as B,F as L}from"./app-luBSUb-y.js";import{_ as S}from"./DataTable-DuW-yWfz.js";import{D as u}from"./DtRowItem-CR_o6c8K.js";import{I as v}from"./Icon-DeiOO_W9.js";import{r as V}from"./PencilSquareIcon-DuPPSRAp.js";import{r as $}from"./TrashIcon-DHN1UP5q.js";import"./keyboard-CdSDiPUN.js";import"./open-closed-D1_kXgls.js";import"./CloudArrowDownIcon-GSSk-rVh.js";import"./index-CE5LmwrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-multiselect.esm-CkysRNlb.js";import"./XMarkIcon-DPqCCpTC.js";import"./hidden-BF7pBHXO.js";const U={class:"px-10 py-8 mx-auto text-gray-400"},z={class:"flex justify-between mb-4"},F={class:"text-3xl font-bold text-gray-500 dark:text-gray-300"},O={class:"flex"},q={class:"hidden md:inline"},H={class:"px-4 py-4 text-sm font-medium text-center text-gray-800 whitespace-nowrap dark:text-gray-200"},W={class:"flex-shrink-0"},G=["src","alt"],J={class:"px-4 whitespace-nowrap"},K={class:"items-center"},M={class:"text-sm text-gray-500 dark:text-gray-400"},Q=["title"],X={class:"px-4 py-3 space-x-1 text-sm font-medium"},Y={key:0,class:"inline-flex px-2 mb-1 mr-1 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full dark:bg-opacity-10 dark:text-green-400"},Z={key:2,class:"italic text-gray-500"},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},be={__name:"IndexRole",props:{roles:Object,filters:Object},setup(h){const{can:m}=j(),{__:t}=E(),{formatTimeAgoToNow:D,formatToDayDateString:R}=C(),I=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"image",sortable:!1,label:t("Image")},{key:"name",sortable:!0,label:t("Name")},{key:"users_count",label:t("Users")},{key:"is_staff",label:t("Staff"),sortable:!0},{key:"created_at",label:t("Created"),sortable:!0,class:"w-1/12"},{key:"permissions",sortable:!1,label:t("Permissions"),class:"w-5/12"},{key:"weight",sortable:!0,label:t("Weight")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(c,te)=>{const N=g("app-head"),p=g("InertiaLink"),f=k("tippy"),A=k("confirm");return r(),d(T,null,{default:l(()=>[n(N,{title:s(t)("Users Roles Administration")},null,8,["title"]),a("div",U,[a("div",z,[a("h1",F,o(s(t)("User Roles & Permissions")),1),a("div",O,[s(m)("create roles")?(r(),d(p,{key:0,href:c.route("admin.role.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-800 border border-transparent rounded-md hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray"},{default:l(()=>[a("span",null,o(s(t)("Create New")),1),a("span",q,"Â "+o(s(t)("Role")),1)]),_:1},8,["href"])):_("",!0)])]),n(S,{class:"bg-white rounded shadow dark:bg-gray-800",header:I,data:h.roles,filters:h.filters},{default:l(({item:e})=>[a("td",H,o(e.id),1),a("td",null,[a("div",W,[e.photo_url?(r(),i("img",{key:0,class:"max-h-8",src:e.photo_url,alt:s(t)("Role Image")},null,8,G)):(r(),i("div",{key:1,class:"inline-flex font-bold uppercase leading-5 p-1.5 bg-sky-400 text-white rounded-sm",style:w(`background-color: ${e.color};`)},o(e.display_name),5))])]),a("td",J,[a("div",K,[a("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300",style:w([e.color?{color:e.color}:null])},o(e.display_name),5),a("div",M,o(e.name),1)])]),n(u,null,{default:l(()=>[n(s(P),{class:"hover:text-blue-400",href:c.route("admin.user.index",{filter:{"roles.display_name":e.display_name}})},{default:l(()=>[x(o(e.users_count),1)]),_:2},1032,["href"])]),_:2},1024),n(u,null,{default:l(()=>[e.is_staff?(r(),d(v,{key:0,class:"text-green-500",name:"check-circle"})):(r(),d(v,{key:1,class:"text-red-500",name:"cross-circle"}))]),_:2},1024),n(u,null,{default:l(()=>[y((r(),i("span",{title:s(R)(e.created_at)},[x(o(s(D)(e.created_at)),1)],8,Q)),[[f]])]),_:2},1024),a("td",X,[e.name==="superadmin"?(r(),i("span",Y,o(s(t)("All Permissions")),1)):e.permissions.length>0?(r(!0),i(L,{key:1},B(e.permissions,b=>(r(),i("span",{key:b.id,class:"inline-flex px-2 mb-1 mr-1 text-xs font-semibold leading-5 text-blue-800 bg-blue-100 rounded-full dark:bg-opacity-10 dark:text-light-blue-400"},o(b.name),1))),128)):(r(),i("span",Z,o(s(t)("No administration permissions for this role.")),1))]),n(u,null,{default:l(()=>[x(o(e.weight),1)]),_:2},1024),a("td",ee,[s(m)("update roles")?y((r(),d(p,{key:0,as:"a",href:c.route("admin.role.edit",e.id),class:"inline-flex items-center justify-center text-yellow-600 dark:text-yellow-500 hover:text-yellow-800 dark:hover:text-yellow-800",title:s(t)("Edit Role")},{default:l(()=>[n(s(V),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[f]]):_("",!0),s(m)("delete roles")?y((r(),d(p,{key:1,as:"button",method:"DELETE",href:c.route("admin.role.delete",e.id),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:s(t)("Delete Role")},{default:l(()=>[n(s($),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[A,{message:"Are you sure you want to delete this Role permanently?"}],[f]]):_("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{be as default};
