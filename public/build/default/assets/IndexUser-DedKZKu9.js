import{_ as $}from"./AdminLayout-y-VDq6pb.js";import{u as I}from"./useAuthorizable-BcHdws2r.js";import{u as U}from"./BaseLayout-EMqiVgMT.js";import{o,d as u,a,y as w,z as k,c as h,w as l,s as B,b as s,j as r,t as i,v as c,N as V,i as y,g as d}from"./app-CCKLH5ME.js";import{_ as E}from"./DataTable-BvOfxBKp.js";import{D as x}from"./DtRowItem-BcP8oFZC.js";import{_ as T}from"./UserDisplayname-CmytMFC0.js";import{_ as C}from"./AppBreadcrumb-B7ASgHLN.js";import{r as L}from"./NoSymbolIcon-fd0ZltlQ.js";import{r as M}from"./EyeIcon-CXqHQuqF.js";import{r as z}from"./PencilSquareIcon-D7dqjAT4.js";import{r as R}from"./TrashIcon-D1k4Jdhb.js";import"./CloudArrowDownIcon-C08Kt2Ph.js";import"./index-B_t7zORc.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DlyfKWQ8.js";import"./useForwardPropsEmits-Dm3zbijY.js";import"./chevron-down-BttFxFy5.js";import"./Teleport-EbLwDdUQ.js";import"./VisuallyHidden-GtrTMWr0.js";import"./x-DbrWVFCU.js";import"./SelectValue-hZz7TfPi.js";import"./useFormControl-z8lEV1m4.js";import"./vue-multiselect.esm-UWUue4pT.js";import"./XMarkIcon-BFJSCvQG.js";function S(m,p){return o(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m0-3-3-3m0 0-3 3m3-3v11.25m6-2.25h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})])}function F(m,p){return o(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.143 17.082a24.248 24.248 0 0 0 3.844.148m-3.844-.148a23.856 23.856 0 0 1-5.455-1.31 8.964 8.964 0 0 0 2.3-5.542m3.155 6.852a3 3 0 0 0 5.667 1.97m1.965-2.277L21 21m-4.225-4.225a23.81 23.81 0 0 0 3.536-1.003A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6.53 6.53m10.245 10.245L6.53 6.53M3 3l3.53 3.53"})])}const O={class:"px-10 py-8 mx-auto text-foreground"},H={class:"px-4 py-4 text-sm font-medium text-center text-foreground whitespace-nowrap dark:text-foreground"},J=["src","title"],P={class:"flex items-center justify-center"},q=["src"],G={class:"px-4 whitespace-nowrap"},K={key:0,class:"text-xs whitespace-nowrap"},Q=["title"],W={class:"px-4 py-3 space-x-1 text-sm font-medium whitespace-nowrap"},X=["title"],Y=["title"],Z={key:2,class:"text-xs italic"},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},$e={__name:"IndexUser",props:{countries:Array,roles:Array,users:Object,filters:Object},setup(m){const{can:p}=I(),{__:e}=B(),{formatTimeAgoToNow:g,formatToDayDateString:v}=U(),b=m,A=[{text:e("Admin"),current:!1},{text:e("Users"),current:!0}],D=[{key:"id",label:e("ID"),sortable:!0,class:"text-center"},{key:"flag",label:e("Flag"),filterable:{key:"country.name",type:"multiselect",options:b.countries,searchable:!0}},{key:"avatar",label:e("Avatar")},{key:"name",label:e("Name"),class:"w-3/12",sortable:!0,filterable:[{type:"text",key:"name",label:e("Name")},{key:"is_verified",type:"select",options:["true","false"],searchable:!1,label:e("Verified")}]},{key:"username",label:e("Username"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"email",label:e("Email"),class:"w-2/12",sortable:!0,filterable:{type:"text"}},{key:"created_at",label:e("Joined"),sortable:!0,class:"w-2/12"},{key:"role_id",label:e("Role"),class:"w-2/12",sortable:!1,filterable:{key:"roles.display_name",type:"multiselect",options:b.roles,searchable:!0}},{key:"flags",label:e("Flags"),sortable:!1,class:"w-1/12"},{key:"actions",label:e("Actions"),sortable:!1,class:"w-2/12 text-right"}];return(f,te)=>{const j=w("app-head"),_=w("InertiaLink"),n=k("tippy"),N=k("confirm");return o(),h($,null,{default:l(()=>[s(j,{title:r(e)("Users Administration")},null,8,["title"]),a("div",O,[s(C,{class:"mt-0 mb-4","breadcrumb-class":"max-w-none px-0 md:px-0",items:A}),s(E,{class:"bg-card rounded-lg shadow",header:D,data:m.users,filters:m.filters},{default:l(({item:t})=>[a("td",H,i(t.id),1),a("td",null,[c(a("img",{class:"w-10 h-10 mx-auto",src:t.country.photo_path,alt:"Avatar",title:t.country.name},null,8,J),[[n]])]),a("td",null,[a("div",P,[a("img",{class:"w-10 h-10 rounded-full",src:t.profile_photo_url,alt:"Avatar"},null,8,q)])]),a("td",G,[a("div",{class:"text-sm font-semibold text-foreground dark:text-foreground",style:V([t.roles[0].color?{color:t.roles[0].color}:null])},[s(_,{href:f.route("user.public.get",t.username)},{default:l(()=>[s(T,{user:t,"icon-class":"w-4 h-4","text-class":"text-sm"},null,8,["user"])]),_:2},1032,["href"])],4)]),s(x,null,{default:l(()=>[y(i(t.username),1)]),_:2},1024),s(x,null,{default:l(()=>[a("div",null,i(t.email),1),t.discord_user_id?(o(),u("div",K,i(r(e)("Discord ID"))+": "+i(t.discord_user_id),1)):d("",!0)]),_:2},1024),s(x,{class:"whitespace-nowrap"},{default:l(()=>[c((o(),u("span",{title:r(v)(t.created_at)},[y(i(r(g)(t.created_at)),1)],8,Q)),[[n]])]),_:2},1024),s(x,null,{default:l(()=>[y(i(t.roles[0].display_name),1)]),_:2},1024),a("td",W,[t.muted_at?c((o(),u("span",{key:0,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-orange-100 text-orange-800 dark:bg-orange-700 dark:bg-opacity-25 dark:text-orange-400",title:r(e)("Muted")},[s(r(F),{class:"inline-block w-4 h-4"})],8,X)),[[n]]):d("",!0),t.banned_at?c((o(),u("span",{key:1,class:"px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-lg bg-error-100 text-error-800 dark:bg-error-700 dark:bg-opacity-25 dark:text-error-400",title:r(e)("Banned")},[s(r(L),{class:"inline-block w-4 h-4"})],8,Y)),[[n]]):d("",!0),!t.muted_at&&!t.banned_at?(o(),u("span",Z,i(r(e)("None")),1)):d("",!0)]),a("td",ee,[c((o(),h(_,{as:"a",href:f.route("user.public.get",t.username),class:"inline-flex items-center justify-center text-primary hover:text-primary",title:r(e)("View Profile")},{default:l(()=>[s(r(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[n]]),r(p)("impersonate users")?c((o(),h(_,{key:0,as:"a",href:f.route("admin.impersonate.take",t.id),class:"inline-flex items-center justify-center text-orange-500 hover:text-orange-800",title:r(e)("Impersonate User")},{default:l(()=>[s(r(S),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[n]]):d("",!0),r(p)("update users")?c((o(),h(_,{key:1,as:"a",href:f.route("admin.user.edit",t.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:r(e)("Edit User")},{default:l(()=>[s(r(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[n]]):d("",!0),r(p)("delete users")?c((o(),h(_,{key:2,as:"button",method:"DELETE",href:f.route("admin.user.delete",t.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:r(e)("Delete User")},{default:l(()=>[s(r(R),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[N,{message:"Are you sure you want to delete this User permanently?"}],[n]]):d("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{$e as default};
