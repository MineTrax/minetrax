import{h as i,k as V,U as P,e as b,d as u,a as d,b as e,j as r,g as y,w as c,n as h,f as C,o as m,i as w,t as _}from"./app-D9GuHpcZ.js";import{_ as S}from"./ActionMessage-L7bMgVr1.js";import{L as k}from"./LoadingButton-_fqb0NWc.js";import{_ as n}from"./XInput-Cvs-Jhqz.js";import{P as B}from"./PasswordStrengthMeter-CO-9YYn2.js";import"./index-B5if8pRS.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-circle-Bf0wsS0z.js";import"./Input-17rNUrUJ.js";import"./Label-hpeRY5vg.js";const N={class:"grid grid-cols-6 gap-6"},U={key:0,class:"col-span-6 sm:col-span-4"},q={class:"col-span-6 sm:col-span-4"},j={class:"col-span-6 sm:col-span-4"},E={class:"col-span-6 sm:col-span-4"},L={class:"flex items-center justify-end pt-6 gap-4"},O={__name:"UpdatePasswordForm",setup(M){const p=i(null),l=i(null),s=V({current_password:"",password:"",password_confirmation:""}),f=P(),g=b(()=>f.props.authHasPassword??!0),v=()=>{s.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),p.value.focus()),s.errors.current_password&&(s.reset("current_password"),l.value.focus())}})};return(a,o)=>(m(),u("form",{onSubmit:C(v,["prevent"])},[d("div",N,[g.value?(m(),u("div",U,[e(n,{id:"current_password",ref_key:"current_password",ref:l,modelValue:r(s).current_password,"onUpdate:modelValue":o[0]||(o[0]=t=>r(s).current_password=t),label:a.__("Current Password"),error:r(s).errors.current_password,required:!0,autocomplete:"current-password",type:"password",name:"current_password"},null,8,["modelValue","label","error"])])):y("",!0),d("div",q,[e(n,{id:"password",ref_key:"password",ref:p,modelValue:r(s).password,"onUpdate:modelValue":o[1]||(o[1]=t=>r(s).password=t),label:a.__("New Password"),error:r(s).errors.password,required:!0,autocomplete:"new-password",type:"password",name:"password"},null,8,["modelValue","label","error"])]),d("div",j,[e(n,{id:"password_confirmation",modelValue:r(s).password_confirmation,"onUpdate:modelValue":o[2]||(o[2]=t=>r(s).password_confirmation=t),label:a.__("Confirm Password"),error:r(s).errors.password_confirmation,required:!0,autocomplete:"new-password",type:"password",name:"password_confirmation"},null,8,["modelValue","label","error"])]),d("div",E,[e(B,{value:r(s).password},null,8,["value"])])]),d("div",L,[e(S,{on:r(s).recentlySuccessful,class:"mr-3"},{default:c(()=>[w(_(a.__("Saved.")),1)]),_:1},8,["on"]),e(k,{class:h({"opacity-25":r(s).processing}),disabled:r(s).processing,loading:r(s).processing},{default:c(()=>[w(_(a.__("Change Password")),1)]),_:1},8,["class","disabled","loading"])])],32))}};export{O as default};
