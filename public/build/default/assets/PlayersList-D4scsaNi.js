import{o as a,d as i,a as o,s as w,z as v,c as _,w as r,q as C,b as n,u as s,_ as D,p as y,t as l,f as p,e as h}from"./app-B6MSbjiR.js";import{u as S}from"./AppLayout-D09sHPWy.js";import{u as L}from"./useAuthorizable-Cf1MTXSt.js";import{_ as B}from"./AdminLayout-CxVM27ib.js";import{_ as V}from"./ServerIntelServerSelector-CBIAg81w.js";import{_ as $}from"./DataTable-hnP3yKY2.js";import{D as u}from"./DtRowItem-Cfc6QIWY.js";import{m as N}from"./millify-Bqi9XFSn.js";import{r as E}from"./LockClosedIcon-haugpzUZ.js";import{r as I}from"./TrashIcon-C6bDJBBA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DyYhHgsS.js";import"./keyboard-D8XalHIH.js";import"./open-closed-LifvgtoZ.js";import"./CloudArrowDownIcon-CMU1uDwp.js";import"./index-DwFICxA8.js";import"./XSelect-u_rqq2TM.js";import"./vue-multiselect.esm-Dtutmjl3.js";import"./XMarkIcon-o8SeIREM.js";import"./hidden-BChwjN3c.js";function M(c,t){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"})])}const R={class:"p-4 mx-auto space-y-4 px-10"},U={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},O={class:"flex items-center"},z=["content"],F=["src"],H={class:"px-4 py-4 text-sm font-medium text-secondary-800 whitespace-nowrap dark:text-secondary-200"},q={class:"flex items-center"},J={class:"flex-shrink-0 h-10 w-10"},Z=["src"],G={class:"ml-4"},K={key:0,class:"font-extrabold text-secondary-700 dark:text-secondary-300"},Q={key:1,class:"text-error-500 italic"},W={key:0},X={key:1},Y={key:0},ee={key:1},te={key:0},se={key:1},ae={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ae={__name:"PlayersList",props:{serverList:{type:Object},countries:{type:Array},filters:{type:Object},data:{type:Object},canResetAnyPlayerPassword:{type:Boolean},canChangeAnyPlayerSkin:{type:Boolean}},setup(c){const{__:t}=C(),{can:g}=L(),{formatTimeAgoToNow:k,formatToDayDateString:x,secondsToHMS:b}=S(),P=c,A=[{key:"country_id",label:t("Flag"),sortable:!0,class:"text-left",filterable:{key:"country.name",type:"multiselect",options:P.countries,searchable:!0}},{key:"player_username",label:t("Username"),sortable:!0,class:"text-left",filterable:{type:"text"}},{key:"server_play_count",label:t("Servers Played"),sortable:!0},{key:"play_time",label:t("Play Time"),sortable:!0},{key:"afk_time",label:t("Afk Time"),sortable:!0},{key:"vault_balance",label:t("Vault Money"),sortable:!0},{key:"last_join_address",label:t("Join Address"),sortable:!0,filterable:{type:"text"}},{key:"last_minecraft_version",label:t("MC Version"),sortable:!0,filterable:{type:"multiselect",options:["1.20","1.19","1.18","1.17","1.16","1.15","1.14","1.13","1.12","1.11","1.10","1.9","1.8"]}},{key:"first_seen_at",label:t("First Seen"),sortable:!0},{key:"last_seen_at",label:t("Last Seen"),sortable:!0},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(f,re)=>{const T=w("inertia-link"),m=w("InertiaLink"),d=v("tippy"),j=v("confirm");return a(),_(B,null,{default:r(()=>[n(D,{title:s(t)("Players - PlayerIntel")},null,8,["title"]),o("div",R,[n(V,{title:s(t)("Players"),"server-list":c.serverList,filters:c.filters},null,8,["title","server-list","filters"]),o("div",null,[n($,{class:"bg-white rounded shadow dark:bg-surface-800",header:A,data:c.data,filters:c.filters},{default:r(({item:e})=>[o("td",U,[o("div",O,[y((a(),i("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[o("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,F)],8,z)),[[d]])])]),o("td",H,[o("div",q,[o("div",J,[o("img",{class:"h-10 w-10",src:e.player.avatar_url,alt:""},null,8,Z)]),o("div",G,[y((a(),_(T,{as:"a",href:f.route("player.show",e.player.uuid),class:"text-sm font-medium text-secondary-900 dark:text-secondary-200 focus:outline-none cursor-pointer hover:underline",content:e.player.uuid},{default:r(()=>[e.player_username?(a(),i("span",K,l(e.player_username),1)):(a(),i("span",Q,l(s(t)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])]),n(u,null,{default:r(()=>[p(l(e.server_play_count)+" "+l(s(t)("servers")),1)]),_:2},1024),n(u,null,{default:r(()=>[e.play_time?(a(),i("span",W,l(s(b)(e.play_time,!0)),1)):(a(),i("span",X," -- "))]),_:2},1024),n(u,null,{default:r(()=>[e.afk_time?(a(),i("span",Y,l(s(b)(e.afk_time,!0)),1)):(a(),i("span",ee," -- "))]),_:2},1024),n(u,null,{default:r(()=>[e.vault_balance?(a(),i("span",te,l(s(N)(e.vault_balance,{precision:2})),1)):(a(),i("span",se," -- "))]),_:2},1024),n(u,null,{default:r(()=>[p(l(e.last_join_address||s(t)("Unknown")),1)]),_:2},1024),n(u,null,{default:r(()=>[p(l(e.last_minecraft_version||s(t)("Unknown")),1)]),_:2},1024),y((a(),_(u,{content:s(x)(e.first_seen_at)},{default:r(()=>[p(l(s(k)(e.first_seen_at)),1)]),_:2},1032,["content"])),[[d]]),y((a(),_(u,{content:s(x)(e.last_seen_at)},{default:r(()=>[p(l(s(k)(e.last_seen_at)),1)]),_:2},1032,["content"])),[[d]]),o("td",ae,[c.canChangeAnyPlayerSkin?y((a(),_(m,{key:0,as:"a",href:f.route("change-player-skin.show",{player_uuid:e.player.uuid}),class:"inline-flex items-center justify-center text-primary-400 hover:text-primary-700 focus:outline-none",title:s(t)("Change Skin of this player.")},{default:r(()=>[n(s(M),{class:"w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),c.canResetAnyPlayerPassword?y((a(),_(m,{key:1,as:"a",href:f.route("reset-player-password.show",{player_uuid:e.player.uuid}),class:"inline-flex items-center justify-center text-secondary-500 hover:text-secondary-900 dark:text-secondary-300 dark:hover:text-secondary-100 focus:outline-none",title:s(t)("Change Password of this player.")},{default:r(()=>[n(s(E),{class:"w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),s(g)("delete players")?y((a(),_(m,{key:2,as:"button",method:"DELETE",href:f.route("admin.intel.player.delete",e.player.uuid),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:s(t)("Delete Player")},{default:r(()=>[n(s(I),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"This action will delete this player stats and unlink account if linked. Are you sure?"}],[d]]):h("",!0)])]),_:1},8,["data","filters"])])])]),_:1})}}};export{Ae as default};
