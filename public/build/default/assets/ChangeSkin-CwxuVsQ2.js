import{o as m,d as p,r as I,n as O,j as e,h as R,k as Y,e as L,y as J,c as x,w as a,b as o,a as t,t as r,B as G,g as _,i as d,l as P,F as B,f as h,v as N,bO as j,s as K}from"./app-Do9q-MyE.js";import{s as Q}from"./vue-multiselect.esm-Bll4-Ezs.js";import{_ as q}from"./XInput-CTxc_vGG.js";import{_ as X}from"./AppLayout-C5XjLoPT.js";import{_ as Z,a as ee,b as te}from"./TabsTrigger-Bn9FdNkn.js";import{_ as y}from"./TabsContent-Z7Gw0Gen.js";import{_ as g}from"./Card-L72ilMm5.js";import{_ as v}from"./CardContent-CXvCEuPJ.js";import{c as se}from"./utils-D-KgF5mV.js";import{_ as k}from"./CardHeader-BmESPdxY.js";import{_ as w}from"./CardTitle-BuHzZKh0.js";import{L as S}from"./LoadingButton-Cz_Frxmz.js";import{_ as C}from"./AlertCard-DEeIr4Ua.js";import{_ as le}from"./AppBreadcrumb-DZUMC8fH.js";import"./index-DlYoUYeQ.js";import"./Input-BsT2nuw1.js";import"./Label-MSuCJuMN.js";import"./BaseLayout-D4bLMm7A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DFL_HybF.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./useAuthorizable-CYy4Wh89.js";import"./index-oDi_KVMO.js";import"./loader-circle-8BF3k2wr.js";import"./XMarkIcon-BurOU1Wc.js";const U={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(c){const s=c;return(f,i)=>(m(),p("p",{class:O(e(se)("text-sm text-muted-foreground",s.class))},[I(f.$slots,"default")],2))}},ae={class:"max-w-screen-xl px-2 py-3 mx-auto space-y-4 md:py-12 md:px-10"},oe={class:"flex flex-col md:flex-row md:items-center md:justify-between"},re={key:0,class:"text-lg mb-2 md:mb-0 md:text-2xl font-bold text-foreground"},ne={key:1,class:"text-lg italic mb-2 md:mb-0 md:text-2xl font-bold text-foreground"},ie={key:0,class:"text-xs text-muted-foreground"},de={class:"text-sm"},ue={class:"text-foreground"},me={class:"text-sm text-foreground"},ce={class:"flex flex-col md:flex-row gap-4"},pe={class:"flex-1 min-w-0"},fe={class:"flex flex-col md:flex-row justify-between gap-4 mb-4"},_e={class:"text-sm text-muted-foreground mb-2"},be={class:"text-sm text-muted-foreground"},xe={class:"col-span-6 sm:col-span-6 space-y-3"},he={class:"text-sm text-foreground font-bold"},ye={class:"flex gap-6"},ge={class:"flex"},ve={class:"flex items-center h-5"},ke={class:"ml-2 text-sm"},we={for:"skin_type_steve",class:"font-medium text-foreground"},Se={class:"flex"},Ue={class:"flex items-center h-5"},Ce={class:"ml-2 text-sm"},Ve={for:"skin_type_alex",class:"font-medium text-foreground"},Fe={class:"col-span-6 sm:col-span-6 pt-4 space-y-3"},$e={class:"text-sm text-foreground font-bold"},Re={class:"flex gap-6"},Le={key:0,class:"text-xs text-error-500"},Pe={class:"mt-6"},Be={class:"text-sm mb-4"},Ne={class:"text-muted-foreground mb-2"},je={class:"list-disc list-inside text-muted-foreground"},qe={class:"col-span-6 sm:col-span-6"},Ae={class:"mt-6"},De={class:"text-sm text-muted-foreground mb-4"},Me={class:"col-span-6 sm:col-span-6"},Te={class:"mt-6"},He={class:"mt-6"},xt={__name:"ChangeSkin",props:{uuid:{type:String,required:!1},players:{type:Array,required:!0},hasServersWithFeature:{type:Boolean,required:!0},cooldown:{type:Number}},setup(c){const{__:s}=K(),f=c;let i=R(f.players[0]);const V=f.players.find($=>$.uuid===f.uuid);V&&(i.value=V);const A=[{value:"upload",label:"Upload Skin"},{value:"url",label:"From URL"},{value:"username",label:"From Username"},{value:"reset",label:"Reset"}],F=R(null),l=Y({action_type:"upload",player_uuid:null,skin_type:"steve",file:null,username:"",url:""}),D=()=>{l.action_type="upload",l.file=F.value.files[0],l.player_uuid=i.value.uuid,l.post(route("change-player-skin.update"),{onSuccess:()=>{l.reset()}})},M=()=>{l.action_type="url",l.username=null,l.player_uuid=i.value.uuid,l.post(route("change-player-skin.update"),{onSuccess:()=>{l.reset()}})},T=()=>{l.action_type="username",l.url=null,l.player_uuid=i.value.uuid,l.post(route("change-player-skin.update"),{onSuccess:()=>{l.reset()}})},H=()=>{l.action_type="reset",l.url=null,l.username=null,l.player_uuid=i.value.uuid,l.post(route("change-player-skin.update"),{onSuccess:()=>{l.reset()}})},W=["https://namemc.com/skin/a569a3e7aad87b3a","https://minesk.in/7a8d3a710c5b440a875d9b6fb4d7d9a3","http://novask.in/6673493202.png","http://textures.minecraft.net/texture/63741c4509672cc31e43750d5223d4b3099f851e8039651550e98719692dd028"],b=L(()=>!f.hasServersWithFeature||l.processing||!i.value),z=L(()=>[{text:s("Home"),url:route("home"),current:!1},{text:s("Change Player Skin"),current:!0}]);return($,u)=>{const E=J("AppHead");return m(),x(X,null,{default:a(()=>[o(E,{title:e(s)("Change Player Skin")},null,8,["title"]),o(le,{class:"max-w-screen-xl mx-auto",items:z.value},null,8,["items"]),t("div",ae,[t("div",oe,[e(i)?(m(),p("h2",re,r(e(s)("Change skin for :username",{username:e(i).username})),1)):(m(),p("h2",ne,r(e(s)("No Linked Players")),1)),o(e(Q),{id:"country",modelValue:e(i),"onUpdate:modelValue":u[0]||(u[0]=n=>G(i)?i.value=n:i=n),class:"w-full md:w-1/3 bg-background border-input rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:c.players,multiple:!1,placeholder:e(s)("Search")+"...",label:"username","allow-empty":!1,"deselect-label":e(s)("Can't remove"),"track-by":"id"},null,8,["modelValue","options","placeholder","deselect-label"])]),e(i)?(m(),p("p",ie,r(e(s)("Player Uuid"))+": "+r(e(i).uuid),1)):_("",!0),c.hasServersWithFeature?_("",!0):(m(),x(C,{key:1,"text-color":"text-error-800","border-color":"border-error-500"},{body:a(()=>[t("p",ue,r(e(s)("This feature is not enabled in any of the servers. Below form will be disabled. ")),1),t("p",me,r(e(s)("Please check back later or contact the server administrator.")),1)]),default:a(()=>[t("p",de,r(e(s)("Oh Jeez! No server support changing of skin yet!")),1)]),_:1})),c.cooldown?(m(),x(C,{key:2,"text-color":"text-warning-800","border-color":"border-warning-500"},{default:a(()=>[d(r(e(s)("You are on a cooldown! Please wait for :cooldown seconds before you can try again.",{cooldown:c.cooldown})),1)]),_:1})):_("",!0),e(i)?_("",!0):(m(),x(C,{key:3,"text-color":"text-error-800","border-color":"border-error-500"},{default:a(()=>[d(r(e(s)("No linked players found. Please link a player to your account.")),1)]),_:1})),o(e(te),{"default-value":"upload",class:"w-full"},{default:a(()=>[t("div",ce,[o(e(Z),{class:"flex flex-col h-fit w-full md:w-64 space-y-2 p-2 border shadow"},{default:a(()=>[(m(),p(B,null,P(A,n=>o(e(ee),{key:n.value,value:n.value,class:"w-full justify-start py-2 px-4 text-left font-medium rounded-lg transition-all duration-200 hover:bg-accent/10"},{default:a(()=>[d(r(e(s)(n.label)),1)]),_:2},1032,["value"])),64))]),_:1}),t("div",pe,[o(e(y),{value:"upload",class:"mt-0"},{default:a(()=>[o(e(g),{class:"shadow-sm"},{default:a(()=>[o(e(k),null,{default:a(()=>[o(e(w),null,{default:a(()=>[d(r(e(s)("Upload Skin")),1)]),_:1}),o(e(U),null,{default:a(()=>[d(r(e(s)("Please upload a valid skin image. ⚠️")),1)]),_:1})]),_:1}),o(e(v),null,{default:a(()=>[t("div",fe,[t("div",null,[t("p",_e,r(e(s)("Refer to the provided sample guide image to understand which image should be upload.")),1),t("p",be,[d(r(e(s)("A valid skin image should look like this: "))+" ",1),u[5]||(u[5]=t("a",{class:"text-primary hover:underline",href:"https://mc-heads.net/skin/xinecraft.png",target:"_blank"},"https://mc-heads.net/skin/xinecraft.png",-1))])]),u[6]||(u[6]=t("img",{src:"/images/valid-skin-format.png",alt:"Skin Sample",class:"w-48 h-40"},null,-1))]),t("form",{class:"w-full border-t pt-4 border-border",onSubmit:h(D,["prevent"])},[t("div",xe,[t("p",he,r(e(s)("Skin Type")),1),t("div",ye,[t("div",ge,[t("div",ve,[N(t("input",{id:"skin_type_steve","onUpdate:modelValue":u[1]||(u[1]=n=>e(l).skin_type=n),type:"radio",value:"steve",class:"w-4 h-4 text-primary bg-background border-input focus:ring-primary focus:ring-2",name:"skin_type"},null,512),[[j,e(l).skin_type]])]),t("div",ke,[t("label",we,r(e(s)("Steve")),1)])]),t("div",Se,[t("div",Ue,[N(t("input",{id:"skin_type_alex","onUpdate:modelValue":u[2]||(u[2]=n=>e(l).skin_type=n),type:"radio",value:"alex",class:"w-4 h-4 text-primary bg-background border-input focus:ring-primary focus:ring-2",name:"skin_type"},null,512),[[j,e(l).skin_type]])]),t("div",Ce,[t("label",Ve,r(e(s)("Alex")),1)])])])]),t("div",Fe,[t("p",$e,r(e(s)("Skin File")),1),t("div",Re,[t("input",{id:"file",ref_key:"file",ref:F,accept:".png",type:"file",class:"block p-2 w-full text-sm text-foreground border border-input rounded-lg cursor-pointer bg-background focus:outline-none placeholder:text-muted-foreground",required:""},null,512)]),e(l).errors.file?(m(),p("p",Le,r(e(l).errors.file),1)):_("",!0)]),t("div",Pe,[o(S,{loading:e(l).processing,disabled:b.value,type:"submit"},{default:a(()=>[d(r(e(s)("Change Skin")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})]),_:1})]),_:1}),o(e(y),{value:"url",class:"mt-0"},{default:a(()=>[o(e(g),{class:"shadow-sm"},{default:a(()=>[o(e(k),null,{default:a(()=>[o(e(w),null,{default:a(()=>[d(r(e(s)("From URL")),1)]),_:1}),o(e(U),null,{default:a(()=>[d(r(e(s)("Change your skin by providing a valid skin URL. You can find skin from namemc.com, mineskin.org and other skin websites.")),1)]),_:1})]),_:1}),o(e(v),null,{default:a(()=>[t("div",Be,[t("div",null,[t("p",Ne,r(e(s)("Here are some examples of valid skin url:")),1),t("ul",je,[(m(),p(B,null,P(W,n=>t("li",{key:n,class:"list-item break-all"},r(n),1)),64))])])]),t("form",{class:"w-full",onSubmit:h(M,["prevent"])},[t("div",qe,[o(q,{id:"url",modelValue:e(l).url,"onUpdate:modelValue":u[3]||(u[3]=n=>e(l).url=n),label:e(s)("Skin URL"),error:e(l).errors.url,type:"text",name:"url","help-error-flex":"flex-row"},null,8,["modelValue","label","error"])]),t("div",Ae,[o(S,{loading:e(l).processing,disabled:b.value,type:"submit"},{default:a(()=>[d(r(e(s)("Change Skin")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})]),_:1})]),_:1}),o(e(y),{value:"username",class:"mt-0"},{default:a(()=>[o(e(g),{class:"shadow-sm"},{default:a(()=>[o(e(k),null,{default:a(()=>[o(e(w),null,{default:a(()=>[d(r(e(s)("From Username")),1)]),_:1}),o(e(U),null,{default:a(()=>[d(r(e(s)("Change your skin by providing a valid Minecraft username (Premium account).")),1)]),_:1})]),_:1}),o(e(v),null,{default:a(()=>[t("p",De,r(e(s)("The skin will be fetched from Mojang server.")),1),t("form",{class:"w-full",onSubmit:h(T,["prevent"])},[t("div",Me,[o(q,{id:"username",modelValue:e(l).username,"onUpdate:modelValue":u[4]||(u[4]=n=>e(l).username=n),label:e(s)("Eg: xinecraft"),error:e(l).errors.username,type:"text",name:"username","help-error-flex":"flex-row"},null,8,["modelValue","label","error"])]),t("div",Te,[o(S,{loading:e(l).processing,disabled:b.value,type:"submit"},{default:a(()=>[d(r(e(s)("Change Skin")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})]),_:1})]),_:1}),o(e(y),{value:"reset",class:"mt-0"},{default:a(()=>[o(e(g),{class:"shadow-sm"},{default:a(()=>[o(e(k),null,{default:a(()=>[o(e(w),null,{default:a(()=>[d(r(e(s)("Reset")),1)]),_:1}),o(e(U),null,{default:a(()=>[d(r(e(s)("Reset your skin to default Minecraft skin. If you have premium minecraft account it will reset to your premium skin.")),1)]),_:1})]),_:1}),o(e(v),null,{default:a(()=>[t("form",{class:"w-full",onSubmit:h(H,["prevent"])},[t("div",He,[o(S,{loading:e(l).processing,variant:"destructive",disabled:b.value,type:"submit"},{default:a(()=>[d(r(e(s)("Reset to Default Skin")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})]),_:1})]),_:1})])])]),_:1})])]),_:1})}}};export{xt as default};
