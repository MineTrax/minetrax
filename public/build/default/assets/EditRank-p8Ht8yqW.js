import{k,y,c as x,w as d,s as w,o as c,b as n,j as e,a,f as v,t as i,P as V,i as u,d as C,g as E}from"./app-Do9q-MyE.js";import{_ as N}from"./AdminLayout-BwN0mh-k.js";import{_ as R}from"./AppBreadcrumb-DZUMC8fH.js";import{_}from"./index-oDi_KVMO.js";import{_ as m}from"./XInput-CTxc_vGG.js";import{_ as U}from"./XTextarea-B_CIg63F.js";import{_ as S}from"./ImageUpload-BcSmE2fL.js";import"./useAuthorizable-CYy4Wh89.js";import"./CloudArrowDownIcon-BPF7BCYT.js";import"./BaseLayout-D4bLMm7A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DFL_HybF.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./index-DlYoUYeQ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./Input-BsT2nuw1.js";import"./Label-MSuCJuMN.js";import"./Textarea-7mc2PQEx.js";const P={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},$={class:"flex justify-between mb-4"},j={class:"mt-6"},B={class:"shadow rounded-lg"},T={class:"px-4 py-5 bg-card sm:p-6"},M={class:"grid grid-cols-6 gap-6"},A={class:"col-span-6"},I={class:"col-span-6 sm:col-span-4"},z={class:"col-span-6 sm:col-span-2"},D={class:"col-span-6 sm:col-span-3"},L={class:"col-span-6 sm:col-span-3"},H={class:"col-span-6"},K={class:"col-span-6"},O={class:"text-sm text-muted-foreground"},W={class:"mt-2 text-sm text-muted-foreground"},q={class:"mt-2 text-sm text-muted-foreground"},F={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},G={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},be={__name:"EditRank",props:{rank:Object},setup(p){const{__:t}=w(),l=p,h=[{text:t("Admin"),current:!1},{text:t("Player Ranks"),url:route("admin.rank.index"),current:!1},{text:t("Edit Player Rank"),current:!0},{text:l.rank.shortname,current:!0}],o=k({name:l.rank.name,shortname:l.rank.shortname,description:l.rank.description,total_score_needed:l.rank.total_score_needed,total_play_time_needed:l.rank.total_play_time_needed,photo:null,_method:"PUT"});function f(){o.post(route("admin.rank.update",l.rank.id),{preserveScroll:!0})}return(b,r)=>{const g=y("app-head");return c(),x(N,null,{default:d(()=>[n(g,{title:e(t)("Edit Rank - :name",{name:p.rank.name})},null,8,["title"]),a("div",P,[a("div",$,[n(R,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:h})]),a("div",j,[a("form",{onSubmit:v(f,["prevent"])},[a("div",B,[a("div",T,[a("div",M,[a("div",A,[n(S,{id:"photo",name:"photo",label:e(t)("Rank Image"),hint:e(t)("A small image (Eg: 50x50) is recommended"),"current-url":p.rank.photo_url,modelValue:e(o).photo,"onUpdate:modelValue":r[0]||(r[0]=s=>e(o).photo=s),error:e(o).errors.photo,removable:!1,shape:"rect","preview-class":"h-32 w-32","upload-label":e(t)("Upload"),"change-label":e(t)("Change"),"object-fit":"contain"},null,8,["label","hint","current-url","modelValue","error","upload-label","change-label"])]),a("div",I,[n(m,{id:"name",modelValue:e(o).name,"onUpdate:modelValue":r[1]||(r[1]=s=>e(o).name=s),label:e(t)("Rank Name"),help:e(t)("Eg: Knight"),error:e(o).errors.name,type:"text",name:"name"},null,8,["modelValue","label","help","error"])]),a("div",z,[n(m,{id:"shortname",modelValue:e(o).shortname,"onUpdate:modelValue":r[2]||(r[2]=s=>e(o).shortname=s),label:e(t)("Short Name"),help:e(t)("Eg: knight"),error:e(o).errors.shortname,type:"text",name:"shortname"},null,8,["modelValue","label","help","error"])]),a("div",D,[n(m,{id:"total_score_needed",modelValue:e(o).total_score_needed,"onUpdate:modelValue":r[3]||(r[3]=s=>e(o).total_score_needed=s),label:e(t)("Score Needed"),error:e(o).errors.total_score_needed,type:"number",name:"total_score_needed"},null,8,["modelValue","label","error"])]),a("div",L,[n(m,{id:"total_play_time_needed",modelValue:e(o).total_play_time_needed,"onUpdate:modelValue":r[4]||(r[4]=s=>e(o).total_play_time_needed=s),label:e(t)("Play Time Needed"),help:e(t)("Time in seconds. Eg: 60 for 1 minute"),error:e(o).errors.total_play_time_needed,type:"number",name:"total_play_time_needed"},null,8,["modelValue","label","help","error"])]),a("div",H,[n(U,{id:"description",modelValue:e(o).description,"onUpdate:modelValue":r[5]||(r[5]=s=>e(o).description=s),rows:5,label:e(t)("Description"),error:e(o).errors.description,name:"description"},null,8,["modelValue","label","error"])]),a("div",K,[a("p",O,i(e(t)("Ranks are assigned to players when a given criteria is matched, eg: play time, score etc.")),1),a("p",W,i(e(t)("Each rank is sorted according to its weight. More the score and time is more the weight.")),1),a("p",q,i(e(t)("If you instead want to sync player rank from server to web, you can do that too from Settings -> Player Settings. Currently Luckperms is supported. Make sure to have same Short Name for rank name what you have chosen in Luckperms. While rank sync is enabled the criteria like score and time will be ignored but while adding ranks it is recommended to enter something in them so web know which rank has more weight.")),1)])])]),a("div",F,[n(e(_),{variant:"outline","as-child":""},{default:d(()=>[n(e(V),{href:b.route("admin.rank.index")},{default:d(()=>[u(i(e(t)("Cancel")),1)]),_:1},8,["href"])]),_:1}),n(e(_),{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(c(),C("svg",G,r[6]||(r[6]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):E("",!0),u(" "+i(e(t)("Update Rank")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{be as default};
