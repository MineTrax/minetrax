import{e as p,y as k,z as S,c as x,w as r,o as n,b as l,j as t,_ as j,a as e,i as d,t as o,d as u,g as c,v as f,D as T,G as z,s as I}from"./app-Bh5uq5T2.js";import{u as N}from"./BaseLayout-DfXV1WNK.js";import{_ as B}from"./AdminLayout-CjagHNcW.js";import{u as E}from"./useAuthorizable-B2TCKEv8.js";import{u as K}from"./useFormKit-DsPcY36i.js";import{_ as V}from"./AppBreadcrumb-CEuU89zV.js";import{_ as v}from"./index-Bvduyk2Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B54a8he6.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./CloudArrowDownIcon-peUI9MxF.js";const $={class:"px-10 py-8 mx-auto max-w-screen-2xl space-y-4"},L={class:"flex items-center justify-between"},O={class:"flex justify-between items-center"},P={class:"text-xl font-extrabold text-foreground dark:text-foreground"},R={key:0,class:"text-base text-orange-500 italic"},U={class:"flex gap-2"},G={class:"flex flex-col md:flex-row gap-4"},H={class:"flex-grow md:w-2/3"},q={class:"bg-card text-card-foreground border rounded-lg shadow p-4 md:p-6 no-disabled-effect"},J={class:"md:w-1/3"},M={class:"bg-card text-card-foreground border rounded-lg shadow p-4"},Q={class:"flex flex-col mt-3"},W={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},X={class:"flex items-center justify-between w-full"},Y={class:"flex-shrink-0 h-10 w-10 mr-2"},Z=["src"],ee={class:"flex-col"},se={class:"text-sm text-muted-foreground"},te={key:1,class:"flex items-center italic text-sm text-foreground dark:text-foreground"},ie={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},oe={class:"flex items-center justify-between w-full"},ne={class:"flex items-center space-x-1"},re=["content"],me=["src"],le={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ae={class:"flex items-center justify-between w-full"},de={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ue={class:"flex items-center justify-between w-full"},ce=["title"],fe={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},xe={class:"flex items-center justify-between w-full"},be=["title"],Be={__name:"ShowCustomFormSubmission",props:{submission:{type:Object}},setup(s){const{can:_}=E(),{__:i}=I(),{formatTimeAgoToNow:y,formatToDayDateString:w}=N(),b=s,A=p(()=>b.submission.data.map(m=>({...m,value:m.data}))),F=K().generateSchemaFromFieldsArray(A.value,!0),C=p(()=>[{text:i("Admin"),current:!1},{text:i("Custom Forms"),url:route("admin.custom-form.index"),current:!1},{text:b.submission.deleted_at?i("Archived Submissions"):i("Submissions"),url:b.submission.deleted_at?route("admin.custom-form-submission.index-archived"):route("admin.custom-form-submission.index"),current:!1},{text:i("Submission #")+b.submission.id,current:!0}]);return(m,he)=>{const h=k("InertiaLink"),D=k("FormKit"),g=S("confirm"),a=S("tippy");return n(),x(B,null,{default:r(()=>[l(j,{title:t(i)(":formtitle submission #:index - Custom Form Submissions",{index:s.submission.id,formtitle:s.submission.custom_form.title})},null,8,["title"]),e("div",$,[e("div",L,[l(V,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:C.value},null,8,["items"])]),e("div",O,[e("h3",P,[d(o(t(i)(":formtitle - Submission #:index",{index:s.submission.id,formtitle:s.submission.custom_form.title}))+" ",1),s.submission.deleted_at?(n(),u("span",R,o(t(i)("(Archived)")),1)):c("",!0)]),e("div",U,[t(_)("archive custom_form_submissions")&&!s.submission.deleted_at?f((n(),x(t(v),{key:0,size:"sm",class:"bg-orange-500 hover:bg-orange-600 text-white","as-child":""},{default:r(()=>[l(h,{method:"POST",href:m.route("admin.custom-form-submission.archive",s.submission.id)},{default:r(()=>[d(o(t(i)("Archive")),1)]),_:1},8,["href"])]),_:1})),[[g,{message:"Archive this Custom Form Submission? It will move to archive section."}],[a]]):c("",!0),t(_)("delete custom_form_submissions")&&s.submission.deleted_at?f((n(),x(t(v),{key:1,size:"sm",class:"bg-success-500 hover:bg-success-600 text-white","as-child":""},{default:r(()=>[l(h,{method:"POST",href:m.route("admin.custom-form-submission.restore",s.submission.id)},{default:r(()=>[d(o(t(i)("Restore")),1)]),_:1},8,["href"])]),_:1})),[[g,{message:"Restore this Custom Form Submission? It will move back to submissions list."}],[a]]):c("",!0),t(_)("delete custom_form_submissions")?f((n(),x(t(v),{key:2,variant:"destructive",size:"sm","as-child":""},{default:r(()=>[l(h,{method:"DELETE",href:m.route("admin.custom-form-submission.delete",s.submission.id)},{default:r(()=>[d(o(t(i)("Delete")),1)]),_:1},8,["href"])]),_:1})),[[g,{message:"Delete this Custom Form Submission? This action cannot be undone."}],[a]]):c("",!0)])]),e("div",G,[e("div",H,[e("div",q,[l(D,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:r(()=>[l(t(T),{schema:t(F)},null,8,["schema"])]),_:1})])]),e("div",J,[e("div",M,[e("ul",Q,[e("li",W,[e("div",X,[e("span",null,o(t(i)("User")),1),e("div",null,[s.submission.user?(n(),x(h,{key:0,href:m.route("user.public.get",s.submission.user.username),class:"flex items-center"},{default:r(()=>[e("div",Y,[e("img",{class:"h-10 w-10 rounded-full",src:s.submission.user.profile_photo_url,alt:"Avatar"},null,8,Z)]),e("div",ee,[e("div",{class:"text-sm font-semibold text-foreground dark:text-foreground whitespace-nowrap truncate",style:z([s.submission.user.roles[0].color?{color:s.submission.user.roles[0].color}:null])},o(s.submission.user.name),5),e("div",se," @"+o(s.submission.user.username),1)])]),_:1},8,["href"])):(n(),u("div",te,o(t(i)("Anonymous")),1))])])]),e("li",ie,[e("div",oe,[e("span",null,o(t(i)("User's Country")),1),e("div",ne,[e("span",null,o(s.submission.country.name),1),s.submission.country?f((n(),u("div",{key:0,class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:s.submission.country.name},[e("img",{class:"h-10 w-10",src:s.submission.country.photo_path,alt:""},null,8,me)],8,re)),[[a]]):c("",!0)])])]),e("li",le,[e("div",ae,[e("span",null,o(t(i)("Form")),1),e("span",null,o(s.submission.custom_form.title),1)])]),e("li",de,[e("div",ue,[e("span",null,o(t(i)("Created At")),1),f((n(),u("span",{title:t(y)(s.submission.created_at)},[d(o(t(w)(s.submission.created_at)),1)],8,ce)),[[a]])])]),s.submission.deleted_at?(n(),u("li",fe,[e("div",xe,[e("span",null,o(t(i)("Archived At")),1),f((n(),u("span",{title:t(y)(s.submission.deleted_at)},[d(o(t(w)(s.submission.deleted_at)),1)],8,be)),[[a]])])])):c("",!0)])])])])])]),_:1})}}};export{Be as default};
