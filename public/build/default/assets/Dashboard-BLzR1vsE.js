import{J as N,o as l,d as i,a as s,c as L,n as m,Q as re,t as r,f as g,e as $,u as e,r as x,j as K,b as c,N as Z,z as ne,p as _,w as oe,_ as le}from"./app-aqw-n-C2.js";import{_ as ie}from"./AdminLayout-CgKpHlNL.js";import{m as v}from"./millify-BGY90T_n.js";import{_ as W}from"./Chart-Ca-vqKXO.js";import{_ as ce,a as de,b as ue}from"./PlayersMinecraftVersionMetricBox-BPIpw1S_.js";import{L as pe}from"./LoadingSpinner-Cy3RwXw2.js";import{n as H,u as he}from"./index-LiBbe_Xz.js";import{u as G}from"./AppLayout-nTzTLkcY.js";import{r as R,a as me}from"./UserGroupIcon-D4XrM7BT.js";import{u as xe}from"./useAuthorizable-CKY4A9EI.js";import{r as fe}from"./UserIcon-C0S82jds.js";import"./keyboard-D9MjfX7e.js";import"./open-closed-BVqjHboy.js";import"./CloudArrowDownIcon-D455bD1C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-BHJIwx4L.js";const{Axios:Wt,AxiosError:z,CanceledError:Gt,isCancel:Qt,CancelToken:Yt,VERSION:Xt,all:es,Cancel:ts,isAxiosError:ss,spread:as,toFormData:rs,AxiosHeaders:ns,HttpStatusCode:os,formToJSON:ls,getAdapter:is,mergeConfig:cs}=N;function ye(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function ge(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function _e(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function ve(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}const we={class:"p-4 bg-white dark:bg-surface-800 rounded shadow"},be={class:"flex"},ke={class:"mb-3 font-bold text-secondary-600 dark:text-secondary-400 text-md"},Ce={class:"flex items-end justify-between space-x-4"},$e={class:"text-4xl font-bold dark:text-secondary-300 text-secondary-800"},Pe={key:0,class:"text-end"},Te={class:"text-xs text-secondary-400 whitespace-nowrap"},Q={__name:"KpiOverviewCard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-secondary-500 bg-surface-100 dark:bg-surface-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},subValueClass:{type:[Array,String],required:!1,default:"text-secondary-400"},description:{type:[String,Number],required:!1,default:null},descriptionClass:{type:[Array,String],required:!1,default:"text-secondary-400"},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeClass:{type:[Array,String],required:!1,default:"text-secondary-500 dark:text-secondary-400 bg-surface-100"},changeDesc:{type:[String,Number],required:!1,default:null}},setup(t){return(n,a)=>(l(),i("div",we,[s("div",be,[(l(),L(re(t.icon),{class:m(["w-6 h-6 p-1 mr-1 rounded-full",t.iconClass])},null,8,["class"])),s("h3",ke,r(n.__(t.title)),1)]),s("div",Ce,[s("div",null,[s("p",$e,[g(r(t.value)+" ",1),t.subValue?(l(),i("span",{key:0,class:m(["text-sm font-semibold",t.subValueClass])},r(t.subValue),3)):$("",!0)]),t.description?(l(),i("p",{key:0,class:m(["text-xs",t.descriptionClass])},r(n.__(t.description)),3)):$("",!0)]),t.change?(l(),i("div",Pe,[s("span",{class:m(["text-sm w-12 font-bold dark:bg-opacity-10 rounded-full px-2 py-0.5",t.changeClass])},r(t.change),3),s("p",Te,r(n.__(t.changeDesc)),1)])):$("",!0)])]))}};function Ne(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z","clip-rule":"evenodd"})])}function Ae(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z","clip-rule":"evenodd"})])}function Se(t,n){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"})])}const q={__name:"KpiOverviewCardForDashboard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-secondary-500 bg-surface-100 dark:bg-surface-500 dark:text-white"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},description:{type:[String,Number],required:!1,default:null},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeDesc:{type:[String,Number],required:!1,default:null}},setup(t){return(n,a)=>(l(),L(Q,{class:"flex-1",title:t.title,value:e(v)(t.value),"sub-value":`(+${t.subValue})`,"sub-value-class":[t.subValue>0?"text-success-500":"text-secondary-400"],change:`+${e(v)(t.change,{precision:2})}%`,"change-class":[t.change>0?"text-success-500 bg-success-100":"text-secondary-400 bg-surface-100"],"change-desc":t.changeDesc,icon:t.icon,"icon-class":t.iconClass,description:t.description},null,8,["title","value","sub-value","sub-value-class","change","change-class","change-desc","icon","icon-class","description"]))}},Fe={class:"bg-white dark:bg-surface-800 rounded w-full h-full space-y-2 p-3 shadow"},Me={class:"font-extrabold text-secondary-800 dark:text-secondary-200 flex items-center"},Ve={__name:"PlayersOverTimeMetricBox",setup(t){let n=x({}),a=x(null),u=x(!0);return K(async()=>{const p=await N.get(route("admin.graph.online-players"));u.value=!1,a.value=p.data,n.value={tooltip:{trigger:"axis",position:function(h){return[h[0],"10%"]}},legend:{},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"time"},yAxis:{type:"value",boundaryGap:[0,"10%"]},dataZoom:[{type:"inside",start:90,end:100,zoomLock:!0},{start:90,end:100}],series:a.value.servers.map((h,o)=>({name:h,type:"line",smooth:!0,symbol:"none",seriesLayoutBy:"column",encode:{y:o+1},emphasis:{focus:"series"}})),dataset:{source:a.value.data}}}),(p,h)=>(l(),i("div",Fe,[s("h3",Me,r(p.__("Online Players")),1),c(W,{options:e(n),height:"350px",loading:e(u),autoresize:!0},null,8,["options","loading"])]))}},Ze={class:"bg-white dark:bg-surface-800 rounded w-full h-full space-y-2 p-3 shadow"},qe={class:"font-extrabold text-secondary-800 dark:text-secondary-200 flex items-center"},Le={__name:"PlayersPerServerMetricBox",setup(t){let n=x({}),a=x(null),u=x(!0);return K(async()=>{const p=await N.get(route("admin.graph.players-per-server"));u.value=!1,a.value=p.data,n.value={tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{}}},legend:{top:"2%",left:"center"},series:[{name:"Unique Players",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:window.colorMode==="dark"?"#1f2937":"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:a.value}]}}),(p,h)=>(l(),i("div",Ze,[s("h3",qe,r(p.__("Players per server")),1),c(W,{options:e(n),height:"350px",loading:e(u),autoresize:!0},null,8,["options","loading"])]))}};function De(...t){const n=typeof t[0]=="string"?t[0]:void 0,a=typeof n=="string"?1:0,u={immediate:!!a,shallow:!0,abortPrevious:!0};let p={},h=N,o=u;const w=d=>!!(d!=null&&d.request);t.length>0+a&&(w(t[0+a])?h=t[0+a]:p=t[0+a]),t.length>1+a&&w(t[1+a])&&(h=t[1+a]),(t.length===2+a&&!w(t[1+a])||t.length===3+a)&&(o=t[t.length-1]||u);const{shallow:f,onSuccess:Y=H,onError:X=H,immediate:ee,resetOnExecute:te=!1}=o,D=o.initialData,I=Z(),A=(f?Z:x)(D),b=x(!1),P=x(!1),C=x(!1),k=Z();let S=new AbortController;const F=d=>{b.value||!P.value||(S.abort(d),S=new AbortController,C.value=!0,P.value=!1,b.value=!1)},B=d=>{P.value=d,b.value=!d},se=()=>{te&&(A.value=D)},j=()=>new Promise((d,T)=>{he(b).toBe(!0).then(()=>k.value?T(k.value):d(J))}),M={then:(...d)=>j().then(...d),catch:(...d)=>j().catch(...d)};let V=0;const O=(d=n,T={})=>{k.value=void 0;const E=typeof d=="string"?d:n??T.url;if(E===void 0)return k.value=new z(z.ERR_INVALID_URL),b.value=!0,M;se(),o.abortPrevious!==!1&&F(),B(!0),V+=1;const ae=V;return C.value=!1,h(E,{...p,...typeof d=="object"?d:T,signal:S.signal}).then(y=>{if(C.value)return;I.value=y;const U=y.data;A.value=U,Y(U)}).catch(y=>{k.value=y,X(y)}).finally(()=>{var y;(y=o.onFinish)==null||y.call(o),ae===V&&B(!1)}),M};ee&&n&&O();const J={response:I,data:A,error:k,isFinished:b,isLoading:P,cancel:F,isAborted:C,isCanceled:C,abort:F,execute:O};return{...J,...M}}const Ie={class:"bg-white dark:bg-surface-800 rounded w-full shadow"},Be={class:"p-3 font-extrabold text-secondary-800 dark:text-secondary-200 flex items-center"},je={class:"flex flex-col"},Oe={key:0,class:"p-3 text-center bg-error-100 dark:bg-error-800/20 text-error-500 dark:text-error-400"},Je={class:"overflow-x-auto"},Ee={class:"inline-block min-w-full align-middle"},Ue={class:"overflow-hidden shadow-lg shadow-secondary-200"},He={key:0,class:"min-w-full divide-y divide-secondary-200 dark:divide-secondary-700"},Re={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-secondary-500 dark:text-secondary-400 uppercase whitespace-nowrap"},ze={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-secondary-500 dark:text-secondary-400 uppercase whitespace-nowrap"},Ke={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-secondary-500 dark:text-secondary-400 uppercase whitespace-nowrap"},We={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-secondary-500 dark:text-secondary-400 uppercase whitespace-nowrap"},Ge={class:"divide-y divide-secondary-200 dark:divide-secondary-700"},Qe={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},Ye=["title"],Xe={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},et={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},tt={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},st=["title"],at={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},rt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},nt={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},ot=["title"],lt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},it={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},ct={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},dt=["title"],ut={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},pt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},ht={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},mt=["title"],xt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},ft={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},yt={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},gt=["title"],_t={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},vt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},wt={class:"flex items-center p-4 text-sm font-normal text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},bt=["title"],kt={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},Ct={class:"p-4 text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap"},$t={__name:"NetworkTrendsMetricBox",setup(t){const{secondsToHMS:n}=G(),{data:a,isFinished:u,isLoading:p,error:h}=De(route("admin.graph.network-trends-vs-month"));return(o,w)=>{const f=ne("tippy");return l(),i("div",Ie,[s("h3",Be,r(o.__("Network Trends")),1),s("div",je,[c(pe,{class:"w-full mt-10",loading:e(p)&&!e(u)},null,8,["loading"]),e(h)?(l(),i("div",Oe,r(e(h).message),1)):$("",!0),s("div",Je,[s("div",Ee,[s("div",Ue,[!e(p)&&e(u)&&!e(h)?(l(),i("table",He,[s("thead",null,[s("tr",null,[s("th",Re,r(o.__("Metric")),1),s("th",ze,r(o.__("Last Month")),1),s("th",Ke,r(o.__("This Month")),1),s("th",We,r(o.__("Trend")),1)])]),s("tbody",Ge,[s("tr",null,[s("td",Qe,[c(e(R),{class:"w-5 h-5 text-primary-400"}),_((l(),i("span",{title:o.__("All players including old and new who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300 sm:flex-none"},[g(r(o.__("Total Players")),1)],8,Ye)),[[f,{trigger:"click"}]])]),s("td",Xe,r(e(a).total_players.previous_month),1),s("td",et,r(e(a).total_players.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-error-500 font-semibold":e(a).total_players.change<0,"text-success-500 font-semibold":e(a).total_players.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).total_players.change==0}])},r(e(a).total_players.change)+"% ",3)]),s("tr",null,[s("td",tt,[c(e(R),{class:"w-5 h-5 text-success-400"}),_((l(),i("span",{title:o.__("New players who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300 sm:flex-none"},[g(r(o.__("New Players")),1)],8,st)),[[f,{trigger:"click"}]])]),s("td",at,r(e(a).total_new_players.previous_month),1),s("td",rt,r(e(a).total_new_players.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-error-500 font-semibold":e(a).total_new_players.change<0,"text-success-500 font-semibold":e(a).total_new_players.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).total_new_players.change==0}])},r(e(a).total_new_players.change)+"% ",3)]),s("tr",null,[s("td",nt,[c(e(ve),{class:"w-5 h-5 text-orange-400"}),_((l(),i("span",{title:o.__("Total sessions of players. One session is counted when player join server and then leave. A player can have multiple sessions."),class:"flex-none mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300"},[g(r(o.__("Total Sessions")),1)],8,ot)),[[f,{trigger:"click"}]])]),s("td",lt,r(e(a).total_player_sessions.previous_month),1),s("td",it,r(e(a).total_player_sessions.current_month),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-error-500 font-semibold":e(a).total_player_sessions.change<0,"text-success-500 font-semibold":e(a).total_player_sessions.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).total_player_sessions.change==0}])},r(e(a).total_player_sessions.change)+"% ",3)]),s("tr",null,[s("td",ct,[c(e(_e),{class:"w-5 h-5 text-success-400"}),_((l(),i("span",{title:o.__("Average playtime player played during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300"},[g(r(o.__("Avg Session Time")),1)],8,dt)),[[f,{trigger:"click"}]])]),s("td",ut,r(e(n)(e(a).avg_playtime.previous_month,!0)),1),s("td",pt,r(e(n)(e(a).avg_playtime.current_month,!0)),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-error-500 font-semibold":e(a).avg_playtime.change<0,"text-success-500 font-semibold":e(a).avg_playtime.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).avg_playtime.change==0}])},r(e(a).avg_playtime.change)+"% ",3)]),s("tr",null,[s("td",ht,[c(e(ge),{class:"w-5 h-5 text-error-400"}),_((l(),i("span",{title:o.__("Average afktime player spent during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300"},[g(r(o.__("Avg AFK Time")),1)],8,mt)),[[f,{trigger:"click"}]])]),s("td",xt,r(e(n)(e(a).avg_afktime.previous_month,!0)),1),s("td",ft,r(e(n)(e(a).avg_afktime.current_month,!0)),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-success-500 font-semibold":e(a).avg_afktime.change<0,"text-error-500 font-semibold":e(a).avg_afktime.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).avg_afktime.change==0}])},r(e(a).avg_afktime.change)+"% ",3)]),s("tr",null,[s("td",yt,[c(e(ye),{class:"w-5 h-5 text-warning-400"}),_((l(),i("span",{title:o.__("Average ping players getting on your servers."),class:"flex-none mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300"},[g(r(o.__("Avg Player Ping")),1)],8,gt)),[[f,{trigger:"click"}]])]),s("td",_t,r(e(v)(e(a).avg_player_ping.previous_month))+" ms ",1),s("td",vt,r(e(v)(e(a).avg_player_ping.current_month))+" ms ",1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-success-500 font-semibold":e(a).avg_player_ping.change<0,"text-error-500 font-semibold":e(a).avg_player_ping.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).avg_player_ping.change==0}])},r(e(a).avg_player_ping.change)+"% ",3)]),s("tr",null,[s("td",wt,[c(e(me),{class:"w-5 h-5 text-primary-400"}),_((l(),i("span",{title:o.__("Peek Online player reached on one server."),class:"flex-none mx-5 ml-3 w-32 font-medium text-secondary-900 dark:text-secondary-300"},w[0]||(w[0]=[g("Peek Online Players")]),8,bt)),[[f,{trigger:"click"}]])]),s("td",kt,r(o.__(":players players",{players:e(a).peek_online_players.previous_month})),1),s("td",Ct,r(o.__(":players players",{players:e(a).peek_online_players.current_month})),1),s("td",{class:m(["p-4 text-sm whitespace-nowrap",{"text-error-500 font-semibold":e(a).peek_online_players.change<0,"text-success-500 font-semibold":e(a).peek_online_players.change>0,"text-secondary-500 dark:text-secondary-400 font-normal":e(a).peek_online_players.change==0}])},r(e(a).peek_online_players.change)+"% ",3)])])])):$("",!0)])])])])])}}},Pt={key:0,class:"p-4 flex"},Tt={class:"flex-1 bg-white dark:bg-surface-800 p-4 rounded text-error-400 text-center italic"},Nt={key:1,class:"p-4 space-y-4"},At={id:"row1",class:"flex justify-between flex-1 space-x-4"},St={id:"row2",class:"flex justify-between flex-1 space-x-4"},Ft={id:"row3",class:"flex justify-between flex-1 space-x-4"},Mt={id:"row4",class:"flex justify-between flex-1 space-x-4"},ds={__name:"Dashboard",props:{kpiTotalUsers:Number,kpiTotalVerifiedUsers:Number,kpiUserCreatedForInterval:Number,kpiTotalUserPercent:Number,kpiTotalPlayers:Number,kpiTotalLinkedPlayers:Number,kpiPlayerCreatedForInterval:Number,kpiTotalPlayersPercent:Number,kpiTotalFailedJobs:Number,kpiFailedJobsForInterval:Number,kpiTotalFailedJobPercent:Number,kpiTotalPosts:Number,kpiPostCreatedForInterval:Number,kpiTotalPostsPercent:Number,kpiTotalComments:Number,queueLastProcessed:String},setup(t){const{can:n}=xe(),{formatTimeAgoToNow:a}=G();return(u,p)=>(l(),L(ie,null,{default:oe(()=>[c(le,{title:u.__("Admin Dashboard")},null,8,["title"]),e(n)("view admin_dashboard")?(l(),i("div",Nt,[s("div",At,[c(q,{class:"flex-1",title:"Registered Users",value:t.kpiTotalUsers,"sub-value":t.kpiUserCreatedForInterval,change:t.kpiTotalUserPercent,"change-desc":"in last 7 days",icon:e(Se),"icon-class":"text-primary-500 bg-primary-100 dark:bg-primary-500 dark:text-white",description:`Total Verified: ${t.kpiTotalVerifiedUsers} users`},null,8,["value","sub-value","change","icon","description"]),c(q,{class:"flex-1",title:"Total Players",value:t.kpiTotalPlayers,"sub-value":t.kpiPlayerCreatedForInterval,change:t.kpiTotalPlayersPercent,"change-desc":"in last 7 days",icon:e(fe),"icon-class":"text-success-500 bg-success-100 dark:bg-success-500 dark:text-white",description:`Total Linked: ${t.kpiTotalLinkedPlayers} players`},null,8,["value","sub-value","change","icon","description"]),c(q,{class:"flex-1",title:"Total Posts",value:t.kpiTotalPosts,"sub-value":t.kpiPostCreatedForInterval,change:t.kpiTotalPostsPercent,"change-desc":"in last 7 days",icon:e(Ne),"icon-class":"text-amber-500 bg-amber-100 dark:bg-amber-500 dark:text-white",description:`Total comments: ${t.kpiTotalComments}`},null,8,["value","sub-value","change","icon","description"]),c(Q,{class:"flex-1",title:"Failed Jobs",value:e(v)(t.kpiTotalFailedJobs),"sub-value":`(${t.kpiFailedJobsForInterval>0?"+":""}${e(v)(t.kpiFailedJobsForInterval)})`,"sub-value-class":[t.kpiFailedJobsForInterval>0?"text-error-500":"text-success-500"],change:`${t.kpiTotalFailedJobPercent>0?"+":""}${e(v)(t.kpiTotalFailedJobPercent,{precision:2})}%`,"change-class":[t.kpiTotalFailedJobPercent>0?"text-error-500 bg-error-100":"text-success-500 bg-success-100"],"change-desc":"in last 7 days",icon:e(Ae),"icon-class":"text-error-500 bg-error-100 dark:bg-error-500 dark:text-white",description:`Last Run: ${t.queueLastProcessed?e(a)(t.queueLastProcessed):u.__("not yet")}`},null,8,["value","sub-value","sub-value-class","change","change-class","icon","description"])]),s("div",St,[c(Ve,{class:"basis-8/12"}),c(Le,{class:"basis-4/12"})]),s("div",Ft,[c(ce,{class:"basis-1/2"}),c($t,{class:"basis-1/2"})]),s("div",Mt,[c(de,{"top-count":10,class:"basis-1/2"}),c(ue,{"top-count":10,class:"basis-1/2"})])])):(l(),i("div",Pt,[s("div",Tt,r(u.__("Sorry! You are not allowed to view Admin Dashboard Statistics.")),1)]))]),_:1}))}};export{ds as default};
