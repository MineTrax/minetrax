import{k as X,s as $,z as S,c as R,w as x,o as d,b as c,u as e,a as s,t,p as m,f as u,m as B,x as k,d as _,g as V,F as C,e as y,q as F,v as U}from"./app-aqw-n-C2.js";import{_ as O}from"./AdminLayout-CgKpHlNL.js";import{L as K}from"./LoadingButton-BK0dHmqX.js";import{_ as q}from"./CopyToClipboard-o78WAkIw.js";import{X as g}from"./XInput-DNS1lJmC.js";import{X as h}from"./XCheckbox-0UxYju6b.js";import{X as z}from"./XSelect-DOma4F-T.js";import{I as A}from"./Icon-BHJIwx4L.js";import{s as P}from"./vue-multiselect.esm-Doco6gya.js";import"./AppLayout-nTzTLkcY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuthorizable-CKY4A9EI.js";import"./keyboard-D9MjfX7e.js";import"./open-closed-BVqjHboy.js";import"./CloudArrowDownIcon-D455bD1C.js";import"./index-LiBbe_Xz.js";const G={class:"py-12 px-10 max-w-6xl mx-auto flex"},H={class:"flex-1"},J={class:"flex flex-col w-full"},Q={class:"bg-white dark:bg-surface-800 shadow w-full rounded"},Z={class:"px-6 py-4 border-b dark:border-secondary-700 dark:text-secondary-300 font-bold"},ee={class:"mt-10 sm:mt-0"},se={class:"md:grid md:grid-cols-3 md:gap-6"},oe={class:"mt-5 md:mt-0 md:col-span-3"},re={class:"flex items-center justify-end col-span-6 sm:col-span-2 px-6 py-2"},ne={class:"shadow overflow-hidden sm:rounded-md"},te={class:"px-4 py-5 bg-white dark:bg-surface-800 sm:p-6"},le={class:"grid grid-cols-6 gap-6"},ae={class:"flex items-center col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-6"},ce={class:"col-span-6 sm:col-span-6"},de={class:"flex items-center col-span-6 sm:col-span-2"},_e={class:"col-span-6 sm:col-span-4"},ue={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},me={class:"text-sm text-secondary-700 font-bold dark:font-semibold dark:text-secondary-300"},pe={class:"text-xs font-light text-secondary-400"},ye={class:"w-full space-y-2"},fe={class:"flex flex-col items-end"},be={class:"text-secondary-700 dark:text-secondary-300 text-sm font-semibold"},he={class:"text-sm text-right text-secondary-600 dark:text-secondary-400"},ke={class:"flex space-x-4"},xe={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},ge={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},ve={class:"flex space-x-4"},we=["onClick"],Ve={class:"grid grid-cols-2 gap-2 w-full"},Ce={class:"flex-1"},Ue=["onUpdate:modelValue","placeholder"],Ae={key:0,class:"text-error-500 text-sm"},Pe={class:"flex-1"},$e={class:"text-sm text-error-500 mt-0.5"},Se={class:"flex-1 flex col-span-2 space-x-2"},Re={key:0,class:"text-secondary-500 text-sm italic text-center pt-2"},qe={key:1,class:"text-sm text-error-400 text-center"},Ee={class:"flex justify-center pt-5"},Le={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},Ie={class:"text-sm text-secondary-700 font-bold dark:font-semibold dark:text-secondary-300"},Ne={class:"text-xs font-light text-secondary-400"},Te={class:"w-full space-y-2"},We={class:"flex flex-col items-end"},je={class:"text-secondary-700 dark:text-secondary-300 text-sm font-semibold"},De={class:"text-sm text-right text-secondary-600 dark:text-secondary-400"},Me={class:"flex space-x-4"},Ye={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},Xe={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},Be={class:"flex space-x-4"},Fe=["onClick"],Oe={class:"grid grid-cols-2 gap-2 w-full"},Ke={class:"flex-1"},ze=["onUpdate:modelValue","placeholder"],Ge={key:0,class:"text-error-500 text-sm"},He={class:"flex-1"},Je={class:"text-sm text-error-500 mt-0.5"},Qe={class:"flex-1 flex col-span-2 space-x-2"},Ze={key:0,class:"text-secondary-500 text-sm italic text-center pt-2"},es={key:1,class:"text-sm text-error-400 text-center"},ss={class:"flex justify-center pt-5"},os={class:"flex items-center col-span-6 sm:col-span-6"},rs={class:"col-span-6 sm:col-span-6"},ns={class:"flex items-center col-span-6 sm:col-span-3"},ts={class:"col-span-6 sm:col-span-3"},ls={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},as={class:"text-sm text-secondary-700 font-bold dark:font-semibold dark:text-secondary-300"},is={class:"text-xs font-light text-secondary-400"},cs={class:"w-full space-y-2"},ds={class:"flex flex-col items-end"},_s={class:"text-secondary-700 dark:text-secondary-300 text-sm font-semibold"},us={class:"text-sm text-right text-secondary-600 dark:text-secondary-400"},ms={class:"flex space-x-4"},ps={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},ys={class:"flex-1 block text-sm font-medium text-secondary-700 dark:text-secondary-400"},fs={class:"flex space-x-4"},bs=["onClick"],hs={class:"grid grid-cols-2 gap-2 w-full"},ks={class:"flex-1"},xs=["onUpdate:modelValue","placeholder"],gs={key:0,class:"text-error-500 text-sm"},vs={class:"flex-1"},ws={class:"text-sm text-error-500 mt-0.5"},Vs={class:"flex-1 flex col-span-2 space-x-2"},Cs={key:0,class:"text-error-500 text-sm italic text-center pt-2"},Us={key:1,class:"text-secondary-500 text-sm italic text-center pt-2"},As={key:2,class:"text-sm text-error-400 text-center"},Ps={class:"flex justify-center pt-5"},$s={class:"px-4 py-3 bg-surface-50 dark:bg-surface-800 sm:px-6 flex justify-end"},Os={__name:"PluginSetting",props:{settings:Object,settingsAccountLinkAfterSuccessCommands:Array,settingsAccountUnlinkAfterSuccessCommands:Array,settingsPlayerPasswordResetCommands:Array,serversForRankSync:Object,serversWithWebquery:Object},setup(f){const{__:o}=F(),p=f,r=X({enable_api:p.settings.enable_api,enable_account_link:p.settings.enable_account_link,max_players_link_per_account:p.settings.max_players_link_per_account,enable_sync_player_ranks_from_server:p.settings.enable_sync_player_ranks_from_server,sync_player_ranks_from_server_id:p.settings.sync_player_ranks_from_server_id,account_link_after_success_commands:p.settingsAccountLinkAfterSuccessCommands,account_unlink_after_success_commands:p.settingsAccountUnlinkAfterSuccessCommands,enable_player_password_reset:p.settings.enable_player_password_reset,player_password_reset_cooldown_in_seconds:p.settings.player_password_reset_cooldown_in_seconds,player_password_reset_commands:p.settingsPlayerPasswordResetCommands});function E(){r.account_link_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_link:!1}})}function L(b){r.account_link_after_success_commands.splice(b,1)}function v({name:b,hostname:l}){return`${b} - ${l}`}function I(){r.account_unlink_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_unlink:!1}})}function N(b){r.account_unlink_after_success_commands.splice(b,1)}function T(){r.player_password_reset_commands.push({command:"",servers:[],config:{is_player_online_required:!1}})}function W(b){r.player_password_reset_commands.splice(b,1)}const j=()=>{r.post(route("admin.setting.plugin.update"),{preserveScroll:!0,onSuccess:()=>{this.$inertia.get(route("admin.setting.plugin.show"),{preserveState:!1,preserveScroll:!0,replace:!0})}})};return(b,l)=>{const D=$("app-head"),M=$("inertia-link"),Y=S("confirm"),w=S("tippy");return d(),R(O,null,{default:x(()=>[c(D,{title:e(o)("Plugin Settings")},null,8,["title"]),s("div",G,[s("div",H,[s("div",J,[s("div",Q,[s("div",Z,t(e(o)("Plugin Settings")),1),s("div",ee,[s("div",se,[s("div",oe,[s("div",re,[m((d(),R(M,{title:e(o)("Warning: This will Regenerate your API and Secret Key."),as:"button",method:"post",href:b.route("admin.setting.plugin.keygen"),class:"inline-flex justify-center py-2 px-4 border border-2 border-error-500 shadow-sm text-sm font-bold rounded-md text-error-500 hover:bg-error-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-error-500 disabled:opacity-50"},{default:x(()=>[u(t(e(o)("Regenerate API Credentials")),1)]),_:1},8,["title","href"])),[[Y,{message:e(o)("Are you sure? This will regenerate new API Key and Secret and you will have to change in your Plugin config.yml")}],[w]])]),s("form",{autocomplete:"off",onSubmit:B(j,["prevent"])},[s("div",ne,[s("div",te,[s("div",le,[s("div",ae,[c(h,{id:"enable_api",modelValue:e(r).enable_api,"onUpdate:modelValue":l[0]||(l[0]=n=>e(r).enable_api=n),label:e(o)("Enable Plugin"),help:e(o)("Enable this if you are having MineTrax plugin installed in your server."),name:"enable_api",error:e(r).errors.enable_api},null,8,["modelValue","label","help","error"])]),s("div",ie,[c(q,null,{default:x(n=>[m(c(g,{id:"plugin_api_key",title:e(o)("Click to Copy"),"model-value":n.status==="copied"?e(o)("Copied to Clipboard!"):f.settings.plugin_api_key,label:e(o)("API Key"),type:"text",name:"plugin_api_key","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>n.copy(f.settings.plugin_api_key)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",ce,[c(q,null,{default:x(n=>[m(c(g,{id:"plugin_api_secret",title:e(o)("Click to Copy"),"model-value":n.status==="copied"?e(o)("Copied to Clipboard!"):f.settings.plugin_api_secret,label:e(o)("API Secret"),type:"text",name:"plugin_api_secret","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>n.copy(f.settings.plugin_api_secret)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",de,[c(h,{id:"enable_account_link",modelValue:e(r).enable_account_link,"onUpdate:modelValue":l[1]||(l[1]=n=>e(r).enable_account_link=n),label:e(o)("Enable Account Link"),help:e(o)("Enable user to link their players to account"),name:"enable_account_link",error:e(r).errors.enable_account_link},null,8,["modelValue","label","help","error"])]),m(s("div",_e,[c(g,{id:"max_players_link_per_account",modelValue:e(r).max_players_link_per_account,"onUpdate:modelValue":l[2]||(l[2]=n=>e(r).max_players_link_per_account=n),label:e(o)("Max Players Per Account"),help:e(o)("Number of players that can be linked to one account in website."),type:"number",name:"max_players_link_per_account",error:e(r).errors.max_players_link_per_account,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[k,e(r).enable_account_link]]),m(s("div",ue,[s("legend",me,[u(t(e(o)("Account Link Success Commands"))+" ",1),s("span",pe,t(e(o)("(runs when a player is linked to account)")),1)]),s("div",ye,[s("div",fe,[s("h3",be,t(e(o)("Available Placeholders")),1),s("ol",he,[s("li",null,[l[7]||(l[7]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player which is linked.")),1)]),s("li",null,[l[8]||(l[8]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player which is linked.")),1)])])]),s("div",ke,[l[9]||(l[9]=s("div",{class:"w-5"},null,-1)),s("label",xe,t(e(o)("Command")),1),s("label",ge,t(e(o)("Run on servers")),1)]),(d(!0),_(C,null,V(e(r).account_link_after_success_commands,(n,a)=>(d(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",ve,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>L(a)},[c(A,{class:"w-5 h-5 text-secondary-300 group-hover:text-error-500",name:"trash"})],8,we),s("div",Ve,[s("div",Ce,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-secondary-300 w-full dark:border-secondary-700 border-secondary-200 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,Ue),[[U,n.command]]),e(r).errors[`account_link_after_success_commands.${a}.command`]?(d(),_("span",Ae,t(e(r).errors[`account_link_after_success_commands.${a}.command`]),1)):y("",!0)]),s("div",Pe,[c(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-secondary-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",$e,t(e(r).errors[`account_link_after_success_commands.${a}.servers`]),1)]),s("div",Se,[c(h,{id:`link.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(r).errors[`account_link_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),c(h,{id:`link.is_run_only_first_link_${a}`,modelValue:n.config.is_run_only_first_link,"onUpdate:modelValue":i=>n.config.is_run_only_first_link=i,name:`link.is_run_only_first_link_${a}`,label:e(o)("Run on first link only"),help:e(o)("This command should only run if given player is getting linked for first time. (Eg: This wont run if player get unlinked and then linked again)"),error:e(r).errors[`account_link_after_success_commands.${a}.config.is_run_only_first_link`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(r).account_link_after_success_commands.length<=0?(d(),_("div",Re,t(e(o)("No commands on account link.")),1)):y("",!0),e(r).errors.account_link_after_success_commands?(d(),_("p",qe,t(e(r).errors.account_link_after_success_commands),1)):y("",!0),s("div",Ee,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary-500 rounded border border-primary-500 focus:outline-none hover:text-primary-300 hover:border-primary-300 transition ease-in-out duration-150",onClick:E},t(e(o)("Add New Link Command")),1)])])],512),[[k,e(r).enable_account_link]]),m(s("div",Le,[s("legend",Ie,[u(t(e(o)("Account Unlink Success Commands"))+" ",1),s("span",Ne,t(e(o)("(runs when a player is unlinked from account)")),1)]),s("div",Te,[s("div",We,[s("h3",je,t(e(o)("Available Placeholders")),1),s("ol",De,[s("li",null,[l[10]||(l[10]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player which is unlinked.")),1)]),s("li",null,[l[11]||(l[11]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player which is unlinked.")),1)])])]),s("div",Me,[l[12]||(l[12]=s("div",{class:"w-5"},null,-1)),s("label",Ye,t(e(o)("Command")),1),s("label",Xe,t(e(o)("Run on servers")),1)]),(d(!0),_(C,null,V(e(r).account_unlink_after_success_commands,(n,a)=>(d(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",Be,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>N(a)},[c(A,{class:"w-5 h-5 text-secondary-300 group-hover:text-error-500",name:"trash"})],8,Fe),s("div",Oe,[s("div",Ke,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-secondary-300 w-full dark:border-secondary-700 border-secondary-200 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,ze),[[U,n.command]]),e(r).errors[`account_unlink_after_success_commands.${a}.command`]?(d(),_("span",Ge,t(e(r).errors[`account_unlink_after_success_commands.${a}.command`]),1)):y("",!0)]),s("div",He,[c(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-secondary-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",Je,t(e(r).errors[`account_unlink_after_success_commands.${a}.servers`]),1)]),s("div",Qe,[c(h,{id:`unlink.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`unlink.is_player_online_required_${a}`,error:e(r).errors[`account_unlink_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),c(h,{id:`unlink.is_run_only_first_unlink_${a}`,modelValue:n.config.is_run_only_first_unlink,"onUpdate:modelValue":i=>n.config.is_run_only_first_unlink=i,name:`unlink.is_run_only_first_unlink_${a}`,label:e(o)("Run on first unlink only"),help:e(o)("This command should only run if given player is getting unlinked for first time. (Eg: This wont run if player was linked and unlinked before)"),error:e(r).errors[`account_unlink_after_success_commands.${a}.config.is_run_only_first_unlink`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(r).account_unlink_after_success_commands.length<=0?(d(),_("div",Ze,t(e(o)("No commands on account unlink.")),1)):y("",!0),e(r).errors.account_unlink_after_success_commands?(d(),_("p",es,t(e(r).errors.account_unlink_after_success_commands),1)):y("",!0),s("div",ss,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary-500 rounded border border-primary-500 focus:outline-none hover:text-primary-300 hover:border-primary-300 transition ease-in-out duration-150",onClick:I},t(e(o)("Add New Unlink Command")),1)])])],512),[[k,e(r).enable_account_link]]),s("div",os,[c(h,{id:"enable_sync_player_ranks_from_server",modelValue:e(r).enable_sync_player_ranks_from_server,"onUpdate:modelValue":l[3]||(l[3]=n=>e(r).enable_sync_player_ranks_from_server=n),label:e(o)("Enable Player Rank Sync"),help:e(o)("Enable this if you want to sync your player rank from server instead of website calculated rank. you must create a rank for each group you have in server making sure rank shortname matches the name of your player group in server."),name:"enable_sync_player_ranks_from_server",error:e(r).errors.enable_sync_player_ranks_from_server},null,8,["modelValue","label","help","error"])]),m(s("div",rs,[c(z,{id:"sync_player_ranks_from_server_id",modelValue:e(r).sync_player_ranks_from_server_id,"onUpdate:modelValue":l[4]||(l[4]=n=>e(r).sync_player_ranks_from_server_id=n),name:"sync_player_ranks_from_server_id",error:e(r).errors.sync_player_ranks_from_server_id,label:e(o)("Rank Sync From Server"),placeholder:e(o)("Choose a server from which we should sync the rank.."),"disable-null":!1,"select-list":f.serversForRankSync},null,8,["modelValue","error","label","placeholder","select-list"])],512),[[k,e(r).enable_sync_player_ranks_from_server]]),s("div",ns,[c(h,{id:"enable_player_password_reset",modelValue:e(r).enable_player_password_reset,"onUpdate:modelValue":l[5]||(l[5]=n=>e(r).enable_player_password_reset=n),label:e(o)("Enable Player Password Reset"),help:e(o)("Enable this to allow user to reset their linked players password from website."),name:"enable_player_password_reset",error:e(r).errors.enable_player_password_reset},null,8,["modelValue","label","help","error"])]),m(s("div",ts,[c(g,{id:"player_password_reset_cooldown_in_seconds",modelValue:e(r).player_password_reset_cooldown_in_seconds,"onUpdate:modelValue":l[6]||(l[6]=n=>e(r).player_password_reset_cooldown_in_seconds=n),label:e(o)("Password Reset Cooldown (in seconds)"),help:e(o)("Number of seconds player have to wait before resetting password again."),type:"number",name:"player_password_reset_cooldown_in_seconds",error:e(r).errors.player_password_reset_cooldown_in_seconds,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[k,e(r).enable_player_password_reset]]),m(s("div",ls,[s("legend",as,[u(t(e(o)("Player Password Reset Commands"))+" ",1),s("span",is,t(e(o)("(run when user try to reset his linked player password)")),1)]),s("div",cs,[s("div",ds,[s("h3",_s,t(e(o)("Available Placeholders")),1),s("ol",us,[s("li",null,[l[13]||(l[13]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player whose password is being reset.")),1)]),s("li",null,[l[14]||(l[14]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player whose password is being reset.")),1)]),s("li",null,[l[15]||(l[15]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-secondary-300 p-1 rounded-md"},"{PASSWORD}",-1)),u(" - "+t(e(o)("New validated password entered by user.")),1)])])]),s("div",ms,[l[16]||(l[16]=s("div",{class:"w-5"},null,-1)),s("label",ps,t(e(o)("Command")),1),s("label",ys,t(e(o)("Run on servers")),1)]),(d(!0),_(C,null,V(e(r).player_password_reset_commands,(n,a)=>(d(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",fs,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>W(a)},[c(A,{class:"w-5 h-5 text-secondary-300 group-hover:text-error-500",name:"trash"})],8,bs),s("div",hs,[s("div",ks,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-secondary-300 w-full dark:border-secondary-700 border-secondary-200 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,xs),[[U,n.command]]),e(r).errors[`player_password_reset_commands.${a}.command`]?(d(),_("span",gs,t(e(r).errors[`player_password_reset_commands.${a}.command`]),1)):y("",!0)]),s("div",vs,[c(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-secondary-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",options:f.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",ws,t(e(r).errors[`player_password_reset_commands.${a}.servers`]),1)]),s("div",Vs,[c(h,{id:`link.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(r).errors[`player_password_reset_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"])])])])]))),128)),e(r).errors.player_password_reset_commands&&e(r).player_password_reset_commands.length<=0?(d(),_("div",Cs,t(e(r).errors.player_password_reset_commands),1)):y("",!0),e(r).player_password_reset_commands.length<=0?(d(),_("div",Us,[u(t(e(o)("No commands added. Please add at least one command, as required by your authentication plugin, for password reset functionality."))+" ",1),l[17]||(l[17]=s("br",null,null,-1)),u(" "+t(e(o)("Eg: nlogin changepass {PLAYER_USERNAME} {PASSWORD}")),1)])):y("",!0),e(r).errors.account_link_after_success_commands?(d(),_("p",As,t(e(r).errors.account_link_after_success_commands),1)):y("",!0),s("div",Ps,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary-500 rounded border border-primary-500 focus:outline-none hover:text-primary-300 hover:border-primary-300 transition ease-in-out duration-150",onClick:T},t(e(o)("Add Password Reset Command")),1)])])],512),[[k,e(r).enable_player_password_reset]])])]),s("div",$s,[c(K,{loading:e(r).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-bold rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 dark:bg-surface-700 dark:hover:bg-surface-600",type:"submit"},{default:x(()=>[u(t(e(o)("Save Plugin Settings")),1)]),_:1},8,["loading"])])])],32)])])])])])])])]),_:1})}}};export{Os as default};
