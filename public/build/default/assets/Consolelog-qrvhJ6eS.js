import{z as D,c as S,w as o,s as k,o as c,b as s,j as n,_ as I,a as r,t as i,v as f,d as u,i as v}from"./app-D9GuHpcZ.js";import{u as $}from"./BaseLayout-B3-iVEMv.js";import{_ as j}from"./AdminLayout-DdnXiWbQ.js";import{_ as C}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as T}from"./ServerIntelServerSelector-BbbFGLex.js";import{_ as B}from"./DataTable-CargCGHc.js";import{D as x}from"./DtRowItem-ClEJpXXp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./XSelect-C4vUI2IC.js";import"./Label-hpeRY5vg.js";import"./SelectValue-D9eI7XgB.js";import"./useFormControl-C0VJqXgZ.js";import"./vue-multiselect.esm-BzlgdUyi.js";import"./XMarkIcon-CwP4vCZW.js";const L={class:"px-10 py-8 mx-auto space-y-4"},N={class:"flex justify-between items-center"},A={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap"},H={class:"px-4"},O={class:"text-sm text-foreground"},V={class:"whitespace-pre-wrap font-mono text-xs bg-muted p-2 rounded"},R=["title"],z=["title"],de={__name:"Consolelog",props:{serverList:{type:Object},filters:{type:Object},consoleHistory:{type:Object}},setup(a){var m,p,d;const{__:e}=k(),{formatTimeAgoToNow:b,formatToDayDateString:h}=$(),l=a;let w=(p=(m=l.filters)==null?void 0:m.servers)!=null&&p.length?(d=l.filters)==null?void 0:d.servers[0]:null;const y=[{text:e("Admin"),current:!1},{text:e("Server Intel"),current:!1},{text:e("Consolelog"),current:!0},{text:l.serverList[w]??e("All Servers"),current:!0}],g=[{key:"id",label:e("ID"),sortable:!0,class:"text-left"},{key:"data",label:e("Data"),sortable:!1},{key:"server_id",label:e("Server"),sortable:!0},{key:"created_at",label:e("Created"),sortable:!0}];return(E,q)=>{const _=D("tippy");return c(),S(j,null,{default:o(()=>[s(I,{title:n(e)("ConsoleLog - ServerIntel")},null,8,["title"]),r("div",L,[r("div",N,[s(C,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:y}),s(T,{"server-list":a.serverList,filters:a.filters},null,8,["server-list","filters"])]),s(B,{class:"bg-card rounded-lg shadow",header:g,data:a.consoleHistory,filters:a.filters},{default:o(({item:t})=>[r("td",A,i(t.id),1),r("td",H,[r("div",O,[r("pre",V,i(t.data),1)])]),s(x,null,{default:o(()=>[f((c(),u("span",{class:"whitespace-nowrap",title:`Server ID: ${t.server.id}`},[v(i(t.server.name),1)],8,R)),[[_]])]),_:2},1024),s(x,null,{default:o(()=>[f((c(),u("span",{class:"whitespace-nowrap",title:n(h)(t.created_at)},[v(i(n(b)(t.created_at)),1)],8,z)),[[_]])]),_:2},1024)]),_:1},8,["data","filters"])])]),_:1})}}};export{de as default};
