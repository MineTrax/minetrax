import{z as k,c as D,w as l,s as S,o as i,b as r,j as c,_ as T,a,t as s,d,g as j,i as m,v as y}from"./app-D9GuHpcZ.js";import{u as C}from"./BaseLayout-B3-iVEMv.js";import{_ as I}from"./AdminLayout-DdnXiWbQ.js";import{_ as $}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as H}from"./ServerIntelServerSelector-BbbFGLex.js";import{_ as L}from"./DataTable-CargCGHc.js";import{D as p}from"./DtRowItem-ClEJpXXp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./XSelect-C4vUI2IC.js";import"./Label-hpeRY5vg.js";import"./SelectValue-D9eI7XgB.js";import"./useFormControl-C0VJqXgZ.js";import"./vue-multiselect.esm-BzlgdUyi.js";import"./XMarkIcon-CwP4vCZW.js";const N={class:"px-10 py-8 mx-auto space-y-4"},B={class:"flex justify-between items-center"},V={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap"},A={class:"px-4 invert dark:invert-0"},O={class:"text-sm text-foreground"},M=["innerHTML"],R={key:0,class:"text-xs text-muted-foreground italic"},z=["title"],E=["title"],_e={__name:"Chatlog",props:{serverList:{type:Object},filters:{type:Object},chatHistory:{type:Object}},setup(o){var u,_,f;const{__:e}=S(),{formatTimeAgoToNow:x,formatToDayDateString:h}=C(),n=o;let b=(_=(u=n.filters)==null?void 0:u.servers)!=null&&_.length?(f=n.filters)==null?void 0:f.servers[0]:null;const g=[{text:e("Admin"),current:!1},{text:e("Server Intel"),current:!1},{text:e("Chatlog"),current:!0},{text:n.serverList[b]??e("All Servers"),current:!0}],w=[{key:"id",label:e("ID"),sortable:!0,class:"text-left"},{key:"data",label:e("Data"),sortable:!1},{key:"type",label:e("Type"),sortable:!0,filterable:{type:"multiselect",options:["player-leave","server-broadcast","join-join","player-chat"]}},{key:"server_id",label:e("Server"),sortable:!0},{key:"created_at",label:e("Created"),sortable:!0}];return(q,F)=>{const v=k("tippy");return i(),D(I,null,{default:l(()=>[r(T,{title:c(e)("Chatlog - ServerIntel")},null,8,["title"]),a("div",N,[a("div",B,[r($,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:g}),r(H,{"server-list":o.serverList,filters:o.filters},null,8,["server-list","filters"])]),r(L,{class:"bg-card rounded-lg shadow",header:w,data:o.chatHistory,filters:o.filters},{default:l(({item:t})=>[a("td",V,s(t.id),1),a("td",A,[a("div",O,[a("p",{innerHTML:t.data},null,8,M),t.causer_uuid?(i(),d("p",R,s(c(e)("Causer"))+": "+s(t.causer_uuid)+" ("+s(t.causer_username)+") ",1)):j("",!0)])]),r(p,null,{default:l(()=>[m(s(t.type),1)]),_:2},1024),r(p,null,{default:l(()=>[y((i(),d("span",{title:`Server ID: ${t.server.id}`},[m(s(t.server.name),1)],8,z)),[[v]])]),_:2},1024),r(p,null,{default:l(()=>[y((i(),d("span",{title:c(h)(t.created_at)},[m(s(c(x)(t.created_at)),1)],8,E)),[[v]])]),_:2},1024)]),_:1},8,["data","filters"])])]),_:1})}}};export{_e as default};
