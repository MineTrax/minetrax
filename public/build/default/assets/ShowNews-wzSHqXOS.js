import{_ as N}from"./AppLayout-C5XjLoPT.js";import{_ as C}from"./AppBreadcrumb-DZUMC8fH.js";import{N as S}from"./NewsBox-9HwxR8ES.js";import{S as $}from"./ServerStatusBox-Dyxzk3_3.js";import{u as T}from"./BaseLayout-D4bLMm7A.js";import{o as a,d as u,a as t,y as _,z as B,c as f,w as s,b as r,j as o,i as m,t as n,g as p,n as v,G as j,v as A,s as y,R as H,e as D,E as M}from"./app-Do9q-MyE.js";import{C as L}from"./Comments-qrko0V8r.js";import{_ as V}from"./AlertCard-DEeIr4Ua.js";import{_ as b}from"./Card-L72ilMm5.js";import{_ as g}from"./CardContent-CXvCEuPJ.js";import"./Icon-DFL_HybF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-D-KgF5mV.js";import"./index-DlYoUYeQ.js";import"./CopyToClipboard-o78WAkIw.js";import"./index-oDi_KVMO.js";import"./LoadingSpinner-BrCnd5ws.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./useAuthorizable-CYy4Wh89.js";import"./UserDisplayname-BvJDm5gQ.js";import"./Input-BsT2nuw1.js";import"./XMarkIcon-BurOU1Wc.js";function q(e,i){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}const z={class:"space-y-6"},E={key:0,class:"relative mb-6 -mx-6 sm:-mx-8 -mt-6 sm:-mt-8 overflow-hidden"},O={class:"aspect-video relative"},P=["src","alt"],G={class:"mb-4"},I={class:"mb-6"},R={class:"text-3xl sm:text-4xl font-bold leading-tight text-card-foreground mb-2"},F={class:"flex items-center justify-between mb-6 pb-6 border-b border-border/30"},J={class:"flex items-center space-x-3"},K=["src"],Q={class:"text-sm text-muted-foreground"},U=["content"],W=["innerHTML"],X={class:"mb-4"},Y={class:"text-xl font-semibold text-card-foreground"},Z={__name:"ShowNewsCard",props:{news:{type:Object,required:!0}},setup(e){const{__:i}=y(),{formatTimeAgoToNow:w,formatToDayDateString:c}=T();return(l,d)=>{const h=_("inertia-link"),x=B("tippy");return a(),u("div",z,[e.news.published_at?p("",!0):(a(),f(V,{key:0,variant:"warning"},{icon:s(()=>[r(o(q),{class:"h-6 w-6 mr-4 text-yellow-500"})]),body:s(()=>[m(n(o(i)("Only administrators can see this preview. Publish it to make it visible to everyone.")),1)]),default:s(()=>[m(" "+n(o(i)("This news is not published"))+" ",1)]),_:1})),r(o(b),{class:"group relative overflow-hidden transition-shadow duration-300 hover:shadow-lg"},{default:s(()=>[r(o(g),{class:"p-6 sm:p-8"},{default:s(()=>[e.news.photo_url?(a(),u("div",E,[t("div",O,[t("img",{class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:e.news.photo_url,alt:e.news.title},null,8,P),d[0]||(d[0]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))])])):p("",!0),t("div",G,[t("span",{class:v(["inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",{"bg-primary/10 text-primary border border-primary/20":e.news.type.value===0,"bg-orange-100 text-orange-700 border border-orange-200 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-800":e.news.type.value===1,"bg-green-100 text-green-700 border border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800":e.news.type.value===2}])},n(e.news.type.key),3)]),t("div",I,[t("h1",R,n(e.news.title),1)]),t("div",F,[t("div",J,[t("img",{src:e.news.creator.profile_photo_url,alt:"Profile",class:"h-12 w-12 rounded-full border-2 border-border/20"},null,8,K),t("div",null,[r(h,{href:l.route("user.public.get",e.news.creator.username),class:"font-semibold text-card-foreground hover:text-primary transition-colors cursor-pointer block",style:j([e.news.creator.roles[0].color?{color:e.news.creator.roles[0].color}:null])},{default:s(()=>[m(n(e.news.creator.name),1)]),_:1},8,["href","style"]),t("div",Q,[A((a(),u("span",{content:o(w)(e.news.created_at),class:"cursor-help"},[m(n(o(c)(e.news.published_at)),1)],8,U)),[[x]])])])])]),t("div",{class:"prose max-w-none text-card-foreground/90 prose-headings:text-card-foreground prose-p:text-card-foreground/90 prose-strong:text-card-foreground prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-blockquote:border-primary/30 prose-blockquote:text-card-foreground/70 prose-code:text-primary prose-code:bg-muted prose-code:rounded prose-code:px-1 prose-pre:bg-muted prose-img:rounded-lg",innerHTML:e.news.body_html},null,8,W)]),_:1})]),_:1}),e.news.is_commentable?(a(),f(o(b),{key:1,class:"transition-shadow duration-300 hover:shadow-md"},{default:s(()=>[r(o(g),{class:"p-6 sm:p-8"},{default:s(()=>[t("div",X,[t("h3",Y,n(o(i)("Comments")),1)]),r(L,{commentable:e.news,"commentable-type":"news"},null,8,["commentable"])]),_:1})]),_:1})):p("",!0)])}}},ee={class:"py-4 px-2 md:px-10 max-w-screen-2xl mx-auto"},te={class:"flex flex-col md:flex-row md:space-x-4"},oe={class:"md:w-9/12 flex-1"},Be={__name:"ShowNews",props:{news:Object,newslist:Array},setup(e){const i=e,c=H().props.generalSettings.enable_sticky_header_menu,{__:l}=y(),d=D(()=>[{text:l("Home"),url:route("home"),current:!1},{text:l("News"),url:route("news.index"),current:!1},{text:M.truncate(i.news.title,{length:20}),current:!0}]);return(h,x)=>{const k=_("AppHead");return a(),f(N,null,{default:s(()=>[r(k,{title:o(l)(":title - News",{title:e.news.title})},null,8,["title"]),r(C,{items:d.value},null,8,["items"]),t("div",ee,[t("div",te,[t("div",oe,[r(Z,{news:e.news},null,8,["news"])]),t("div",{class:v(["hidden md:flex flex-col md:w-3/12 flex-none space-y-4 h-screen sticky",{"top-16":o(c),"top-5":!o(c)}])},[r($),r(S,{newslist:e.newslist},null,8,["newslist"])],2)])])]),_:1})}}};export{Be as default};
