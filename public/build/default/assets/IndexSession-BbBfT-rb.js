import{s as g,z as v,c as b,w as r,q as D,o as i,b as a,u as l,_ as S,a as t,t as o,p as d,d as p,f as _}from"./app-Cue287CJ.js";import{u as I,A as T}from"./AppLayout-Bad1xh2T.js";import{_ as A}from"./DataTable-jY5BhpAe.js";import{D as u}from"./DtRowItem-D45ZMqHh.js";import{_ as B}from"./PlayerSubMenu-BW1OF-t4.js";import{r as j}from"./EyeIcon-_8z0bz2k.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-BRyGKuy3.js";import"./useAuthorizable-EXRySIfj.js";import"./vue-multiselect.esm-D0oDpaBR.js";import"./XMarkIcon-D4-JWr79.js";import"./hidden-CPHkDd5q.js";import"./keyboard-BHhOTWdc.js";import"./open-closed-4H-Jyfu8.js";const N={class:"px-2 py-4 md:py-12 md:px-10 max-w-7xl mx-auto space-y-4"},P={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},V={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},q={class:"flex items-center"},L=["content"],O=["src"],$={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},C={class:"flex items-center"},E={class:"flex-shrink-0 h-10 w-10"},H=["src"],R={class:"ml-4"},z={class:"font-extrabold text-gray-700 dark:text-gray-300"},F=["title"],M=["title"],G={key:1,class:"text-gray-400"},J={class:"whitespace-nowrap"},K={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},ce={__name:"IndexSession",props:{player:{type:Object,required:!0},filters:{type:Object},sessions:{type:Object},canShowPlayerIntel:{type:Boolean,required:!0}},setup(n){const{__:s}=D(),{formatTimeAgoToNow:y,formatToDayDateString:m,secondsToHMS:h}=I(),k=[{key:"id",label:s("ID"),sortable:!0,class:"text-left"},{key:"country_id",label:s("Flag"),sortable:!0,class:"text-left"},{key:"player_displayname",label:s("Display name"),sortable:!0},{key:"session_started_at",label:s("Started"),sortable:!0},{key:"session_ended_at",label:s("Ended"),sortable:!0},{key:"server_id",label:s("Server"),sortable:!0},{key:"play_time",label:s("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:s("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:s("Actions"),sortable:!1,class:"text-right"}];return(f,Q)=>{const x=g("InertiaLink"),c=v("tippy");return i(),b(T,null,{default:r(()=>[a(S,{title:l(s)(":username's sessions - PlayerIntel",{username:n.player.username})},null,8,["title"]),t("div",N,[a(B,{player:n.player,"can-show-player-intel":n.canShowPlayerIntel},null,8,["player","can-show-player-intel"]),t("div",null,[a(A,{class:"bg-white rounded shadow dark:bg-gray-800",header:k,data:n.sessions,filters:n.filters,"route-params":{player:n.player.uuid}},{default:r(({item:e})=>{var w;return[t("td",P,o(e.id),1),t("td",V,[t("div",q,[d((i(),p("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[t("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,O)],8,L)),[[c]])])]),t("td",$,[t("div",C,[t("div",E,[t("img",{class:"h-10 w-10",src:(w=n.player)==null?void 0:w.avatar_url,alt:""},null,8,H)]),t("div",R,[a(x,{as:"a",href:f.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline"},{default:r(()=>[t("span",z,o(e.player_displayname)+" ("+o(e.player_username)+") ",1)]),_:2},1032,["href"])])])]),a(u,null,{default:r(()=>[d((i(),p("span",{class:"whitespace-nowrap",title:l(m)(e.session_started_at)},[_(o(l(y)(e.session_started_at)),1)],8,F)),[[c]])]),_:2},1024),a(u,null,{default:r(()=>[e.session_ended_at?d((i(),p("span",{key:0,class:"whitespace-nowrap",title:l(m)(e.session_ended_at)},[_(o(l(y)(e.session_ended_at)),1)],8,M)),[[c]]):(i(),p("span",G,"â€”"))]),_:2},1024),a(u,null,{default:r(()=>[d((i(),p("span",J,[_(o(e.server.name),1)])),[[c]])]),_:2},1024),a(u,{class:"text-right"},{default:r(()=>[_(o(l(h)(e.play_time,!0)),1)]),_:2},1024),a(u,{class:"text-right"},{default:r(()=>[_(o(l(h)(e.afk_time,!0)),1)]),_:2},1024),t("td",K,[d((i(),b(x,{as:"a",href:f.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:l(s)("View Session Details")},{default:r(()=>[a(l(j),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]}),_:1},8,["data","filters","route-params"])])])]),_:1})}}};export{ce as default};
