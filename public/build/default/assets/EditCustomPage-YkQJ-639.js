import{h as f,k as L,H as E,y as N,c as $,w as p,s as A,o as m,b as r,j as e,a,f as B,d as u,t as n,g as c,v as _,I as b,P as H,i as k}from"./app-CKqa03ai.js";import{_ as j}from"./AdminLayout-DlC2W12Q.js";import{_ as z}from"./AppBreadcrumb-xm79qTMp.js";import{_ as U}from"./index-s8bxsPUj.js";import{_ as y}from"./XInput-w0FxFMT9.js";import{_ as D}from"./XSelect-BZc1JjD3.js";import{_ as h}from"./XSwitch-Dr0K1B6v.js";import{b as O,h as I,T as G,o as q}from"./darkTheme-C5Ux5V8C.js";import{_ as F}from"./TipTapEditor-D-BQu6KA.js";import"./useAuthorizable-C3hyZrBu.js";import"./CloudArrowDownIcon-Ba9dDFea.js";import"./BaseLayout-CbEnUUda.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-yp24RCPW.js";import"./useForwardPropsEmits-oMML2ssv.js";import"./chevron-down-C5aVEVJv.js";import"./Teleport-BzeA4ril.js";import"./index-C1xLcZ71.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-B8DQXMOS.js";import"./x-BvgAlvXN.js";import"./Input-ByO3GjMj.js";import"./Label-CSyFC4dL.js";import"./SelectValue-D-GmGA0M.js";import"./useFormControl-BdLrMG8I.js";import"./Switch-o3iWtbu9.js";const J={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},K={class:"flex justify-between mb-4"},Q={class:"mt-6"},W={class:"shadow overflow-hidden rounded-lg"},X={class:"px-4 py-5 bg-card sm:p-6"},Y={class:"grid grid-cols-6 gap-6"},Z={class:"col-span-6 sm:col-span-6"},ee={class:"col-span-6 sm:col-span-6"},te={class:"col-span-6 sm:col-span-6"},se={key:0,class:"text-sm mt-4 p-4 border border-warning-600 rounded bg-warning-100 text-warning-700 dark:bg-warning-900/25 dark:text-warning-400"},oe={class:"col-span-6 sm:col-span-6"},ae={class:"col-span-6 sm:col-span-6"},le={key:0,class:"text-xs text-destructive mt-2 text-right"},ie={class:"col-span-6 sm:col-span-6"},re={key:0,class:"text-xs text-destructive mt-2 text-right"},de={class:"col-span-6 sm:col-span-6"},ne={class:"text-sm font-medium text-foreground mb-4"},me={class:"flex flex-wrap gap-6"},pe={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},ue={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},je={__name:"EditCustomPage",props:{customPage:Object},setup(w){const{__:s}=A(),i=w,C=[{text:s("Admin"),current:!1},{text:s("Custom Pages"),url:route("admin.custom-page.index"),current:!1},{text:s("Edit Custom Page"),current:!0},{text:"#"+i.customPage.id,current:!0}],d=f(i.customPage.is_redirect?"redirect":i.customPage.is_html_page?"html":"markdown"),g=f(i.customPage.body),S={markdown:"Markdown - Add your content in markdown format",html:"HTML - Add your content in code using HTML/CSS",redirect:"Redirect - This page will redirect to another URL"},t=L({title:i.customPage.title,body:i.customPage.body,path:i.customPage.path,is_visible:i.customPage.is_visible,is_in_navbar:i.customPage.is_in_navbar,is_redirect:i.customPage.is_redirect,redirect_url:i.customPage.redirect_url,is_html_page:i.customPage.is_html_page,is_sidebar_visible:i.customPage.is_sidebar_visible,is_open_in_new_tab:i.customPage.is_open_in_new_tab,_method:"PUT"}),x=E(),V=[O,I()];window.colorMode==="dark"&&V.push(q);const P=f(i.customPage.body),T=v=>{x.value=v.view},M=()=>{d.value==="markdown"?t.body=g.value:d.value==="html"&&(t.body=x.value.state.doc.toString()),t.is_redirect=d.value==="redirect",t.is_html_page=d.value==="html",t.post(route("admin.custom-page.update",i.customPage.id),{})};return(v,o)=>{const R=N("app-head");return m(),$(j,null,{default:p(()=>[r(R,{title:e(s)("Edit Custom Page: :title",{title:w.customPage.title})},null,8,["title"]),a("div",J,[a("div",K,[r(z,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:C})]),a("div",Q,[a("form",{onSubmit:B(M,["prevent"])},[a("div",W,[a("div",X,[a("div",Y,[a("div",Z,[r(y,{id:"title",modelValue:e(t).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).title=l),label:e(s)("Title of Page"),help:e(s)("Eg: Privacy & Policy"),error:e(t).errors.title,type:"text",name:"title"},null,8,["modelValue","label","help","error"])]),a("div",ee,[r(y,{id:"path",modelValue:e(t).path,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).path=l),label:e(s)("URL Path"),help:e(s)("Eg: privacy-policy"),error:e(t).errors.path,type:"text",name:"path"},null,8,["modelValue","label","help","error"])]),a("div",te,[r(D,{id:"page_type",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),name:"page_type",label:e(s)("Page Type"),placeholder:e(s)("Select a type of page.."),"disable-null":!0,"select-list":S},null,8,["modelValue","label","placeholder"]),d.value==="html"?(m(),u("div",se,n(e(s)("Please be careful with this option, adding malicious code can expose your website to security risks. Make sure you know what you are doing.")),1)):c("",!0)]),_(a("div",oe,[r(y,{id:"redirect_url",modelValue:e(t).redirect_url,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).redirect_url=l),label:e(s)("Redirect URL"),help:e(s)("Eg: https://my-custom-shop.com"),error:e(t).errors.redirect_url,type:"text",name:"redirect_url"},null,8,["modelValue","label","help","error"])],512),[[b,d.value==="redirect"]]),_(a("div",ae,[r(e(G),{modelValue:P.value,"onUpdate:modelValue":o[4]||(o[4]=l=>P.value=l),placeholder:"Paste your HTML/CSS code here...",style:{height:"400px"},"indent-with-tab":!0,"tab-size":2,extensions:V,onReady:T},null,8,["modelValue"]),e(t).errors.body?(m(),u("p",le,n(e(t).errors.body),1)):c("",!0)],512),[[b,d.value==="html"]]),_(a("div",ie,[r(F,{id:"body",modelValue:g.value,"onUpdate:modelValue":o[5]||(o[5]=l=>g.value=l)},null,8,["modelValue"]),e(t).errors.body?(m(),u("p",re,n(e(t).errors.body),1)):c("",!0)],512),[[b,d.value==="markdown"]]),a("div",de,[a("fieldset",null,[a("legend",ne,n(e(s)("Options")),1),a("div",me,[r(h,{id:"is_visible",modelValue:e(t).is_visible,"onUpdate:modelValue":o[6]||(o[6]=l=>e(t).is_visible=l),label:e(s)("Visible"),help:e(s)("General public can access this URL via link"),name:"is_visible",error:e(t).errors.is_visible},null,8,["modelValue","label","help","error"]),r(h,{id:"is_in_navbar",modelValue:e(t).is_in_navbar,"onUpdate:modelValue":o[7]||(o[7]=l=>e(t).is_in_navbar=l),label:e(s)("Add to Navbar"),help:e(s)("Add this page link to the top Navigation bar"),name:"is_in_navbar",error:e(t).errors.is_in_navbar},null,8,["modelValue","label","help","error"]),r(h,{id:"is_open_in_new_tab",modelValue:e(t).is_open_in_new_tab,"onUpdate:modelValue":o[8]||(o[8]=l=>e(t).is_open_in_new_tab=l),label:e(s)("Open in New Tab"),help:e(s)("Should this page open in new tab"),name:"is_open_in_new_tab"},null,8,["modelValue","label","help"]),_(r(h,{id:"is_sidebar_visible",modelValue:e(t).is_sidebar_visible,"onUpdate:modelValue":o[9]||(o[9]=l=>e(t).is_sidebar_visible=l),label:e(s)("Sidebar Visible"),help:e(s)("Should right sidebar be visible when user open this page"),name:"is_sidebar_visible",error:e(t).errors.is_sidebar_visible},null,8,["modelValue","label","help","error"]),[[b,d.value!=="redirect"&&d.value!=="html"]])])])])])]),a("div",pe,[r(e(U),{variant:"outline","as-child":""},{default:p(()=>[r(e(H),{href:v.route("admin.custom-page.index")},{default:p(()=>[k(n(e(s)("Back")),1)]),_:1},8,["href"])]),_:1}),r(e(U),{type:"submit",disabled:e(t).processing},{default:p(()=>[e(t).processing?(m(),u("svg",ue,o[10]||(o[10]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):c("",!0),k(" "+n(e(s)("Update Page")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{je as default};
