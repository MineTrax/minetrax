import{r as _,k as E,N as L,j as R,s as V,c as N,w as b,o as P,b as i,a as s,t as d,f as g,m as X,u as o,d as j,e as B,p as m,x as p,v as D}from"./app-jpCRGzWE.js";import{_ as u}from"./InputError-vHKksLGQ.js";import{L as A}from"./LoadingButton-CCqBkqqR.js";import{X as h}from"./XInput-osMTEq4a.js";import{X as c}from"./XCheckbox-Ynps9OhP.js";import{E as O}from"./easymde-B5GKkrm2.js";import{X as H}from"./XSelect-We86Hyyh.js";import{b as $,h as z,T as G,o as I}from"./darkTheme-DDj1e8RK.js";import{_ as q}from"./AdminLayout-C3c7ijIe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-BsWWh6cB.js";import"./open-closed-7-ABnrJt.js";import"./useAuthorizable-e--Skqmp.js";import"./CloudArrowDownIcon-Dg55l3VV.js";import"./index--8hIBfIm.js";import"./BaseLayout-sXkR-4Uw.js";import"./Icon-wreK45eH.js";const F={class:"py-12 px-10 max-w-7xl mx-auto"},J={class:"flex justify-between mb-8"},K={class:"font-bold text-3xl text-secondary-500 dark:text-secondary-300"},Q={class:"mt-10 sm:mt-0"},W={class:"md:grid md:grid-cols-4 md:gap-6"},Y={class:"md:col-span-1"},Z={class:"px-4 sm:px-0"},ee={class:"text-lg font-medium leading-6 text-secondary-900 dark:text-secondary-400"},se={class:"mt-1 text-sm text-secondary-600 dark:text-secondary-500"},ae={class:"mt-5 md:mt-0 md:col-span-3"},oe={class:"shadow overflow-hidden sm:rounded-md"},te={class:"px-4 py-5 bg-white dark:bg-surface-800 sm:p-6"},le={class:"grid grid-cols-6 gap-6"},ie={class:"col-span-6 sm:col-span-6"},re={class:"col-span-6 sm:col-span-6"},ne={class:"col-span-6 sm:col-span-6"},de={key:0,class:"text-sm mt-4 p-4 border border-orange-700 rounded bg-orange-200 text-orange-700 dark:bg-orange-700 dark:bg-opacity-25 dark:text-orange-400"},me={class:"col-span-6 sm:col-span-6"},ue={class:"col-span-6 sm:col-span-6"},pe={class:"col-span-6 sm:col-span-6"},ce={class:"flex items-center col-span-6 sm:col-span-6"},_e={class:"text-base font-medium text-secondary-900 dark:text-secondary-300"},be={class:"mt-4 flex space-x-4"},ge={class:"px-4 py-3 bg-surface-50 dark:bg-surface-800 sm:px-6 flex justify-end"},Ne={__name:"EditCustomPage",props:{customPage:Object},setup(v){const r=v,n=_(r.customPage.is_redirect?"redirect":r.customPage.is_html_page?"html":"markdown"),f=_(r.customPage.body),U={markdown:"Markdown - Add your content in markdown format",html:"HTML - Add your content in code using HTML/CSS",redirect:"Redirect - This page will redirect to another URL"},e=E({title:r.customPage.title,body:r.customPage.body,path:r.customPage.path,is_visible:r.customPage.is_visible,is_in_navbar:r.customPage.is_in_navbar,is_redirect:r.customPage.is_redirect,redirect_url:r.customPage.redirect_url,is_html_page:r.customPage.is_html_page,is_sidebar_visible:r.customPage.is_sidebar_visible,is_open_in_new_tab:r.customPage.is_open_in_new_tab,_method:"PUT"}),y=L(),w=[$,z()];window.colorMode==="dark"&&w.push(I);const x=_(r.customPage.body),S=a=>{y.value=a.view};let k=null;const T=()=>{n.value==="markdown"?e.body=k.value():n.value==="html"&&(e.body=y.value.state.doc.toString()),e.is_redirect=n.value==="redirect",e.is_html_page=n.value==="html",e.post(route("admin.custom-page.update",r.customPage.id),{})};return R(()=>{k=new O({previewClass:"editor-preview prose max-w-none"})}),(a,t)=>{const C=V("app-head"),M=V("inertia-link");return P(),N(q,null,{default:b(()=>[i(C,{title:`Edit Custom Page: ${v.customPage.title}`},null,8,["title"]),s("div",F,[s("div",J,[s("h1",K,d(a.__("Edit Custom Page")),1),i(M,{href:a.route("admin.custom-page.index"),class:"inline-flex items-center px-4 py-2 bg-surface-400 dark:bg-surface-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-surface-500 active:bg-surface-600 focus:outline-none focus:border-secondary-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:b(()=>[s("span",null,d(a.__("Cancel")),1)]),_:1},8,["href"])]),s("div",Q,[s("div",W,[s("div",Y,[s("div",Z,[s("h3",ee,d(a.__("Overview")),1),s("p",se,[g(d(a.__("Using custom pages you can create a page based on markdown to show information like privacy, rules etc."))+" ",1),t[10]||(t[10]=s("br",null,null,-1)),g(" "+d(a.__("Using custom pages you can also redirect to some external links.")),1)])])]),s("div",ae,[s("form",{onSubmit:X(T,["prevent"])},[s("div",oe,[s("div",te,[s("div",le,[s("div",ie,[i(h,{id:"title",modelValue:o(e).title,"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).title=l),label:a.__("Title of Page"),help:a.__("Eg: Privacy & Policy"),error:o(e).errors.title,type:"text",name:"title","help-error-flex":"flex-row"},null,8,["modelValue","label","help","error"])]),s("div",re,[i(h,{id:"path",modelValue:o(e).path,"onUpdate:modelValue":t[1]||(t[1]=l=>o(e).path=l),label:a.__("URL Path"),help:a.__("Eg: privacy-policy"),error:o(e).errors.path,type:"text",name:"path","help-error-flex":"flex-row"},null,8,["modelValue","label","help","error"])]),s("div",ne,[i(H,{id:"page_type",modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=l=>n.value=l),name:"page_type",label:a.__("Page Type"),placeholder:a.__("Select a type of page.."),"disable-null":!0,"select-list":U},null,8,["modelValue","label","placeholder"]),n.value==="html"?(P(),j("div",de,d(a.__("Please be careful with this option, adding malicious code can expose your website to security risks. Make sure you know what you are doing.")),1)):B("",!0)]),m(s("div",me,[i(h,{id:"redirect_url",modelValue:o(e).redirect_url,"onUpdate:modelValue":t[3]||(t[3]=l=>o(e).redirect_url=l),label:a.__("Redirect URL"),help:a.__("Eg: https://my-custom-shop.com"),error:o(e).errors.redirect_url,type:"text",name:"redirect_url","help-error-flex":"flex-row"},null,8,["modelValue","label","help","error"])],512),[[p,n.value==="redirect"]]),m(s("div",ue,[i(o(G),{modelValue:x.value,"onUpdate:modelValue":t[4]||(t[4]=l=>x.value=l),placeholder:"Paste your HTML/CSS code here...",style:{height:"400px"},"indent-with-tab":!0,"tab-size":2,extensions:w,onReady:S},null,8,["modelValue"]),i(u,{message:o(e).errors.body,class:"mt-2 text-right"},null,8,["message"])],512),[[p,n.value==="html"]]),m(s("div",pe,[m(s("textarea",{id:"body","onUpdate:modelValue":t[5]||(t[5]=l=>f.value=l),"aria-label":"body",name:"body",class:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-secondary-300 rounded-md"},null,512),[[D,f.value]]),i(u,{message:o(e).errors.body,class:"mt-2"},null,8,["message"])],512),[[p,n.value==="markdown"]]),s("div",ce,[s("fieldset",null,[s("legend",_e,d(a.__("Options")),1),s("div",be,[i(c,{id:"is_visible",modelValue:o(e).is_visible,"onUpdate:modelValue":t[6]||(t[6]=l=>o(e).is_visible=l),label:a.__("Visible"),help:a.__("General public can access this URL via link"),name:"is_visible"},null,8,["modelValue","label","help"]),i(c,{id:"is_in_navbar",modelValue:o(e).is_in_navbar,"onUpdate:modelValue":t[7]||(t[7]=l=>o(e).is_in_navbar=l),label:a.__("Add to Navbar"),help:a.__("Add this page link to the top Navigation bar"),name:"is_in_navbar"},null,8,["modelValue","label","help"]),i(c,{id:"is_open_in_new_tab",modelValue:o(e).is_open_in_new_tab,"onUpdate:modelValue":t[8]||(t[8]=l=>o(e).is_open_in_new_tab=l),label:a.__("Open in New Tab"),help:a.__("Should this page open in new tab"),name:"is_open_in_new_tab"},null,8,["modelValue","label","help"]),m(i(c,{id:"is_sidebar_visible",modelValue:o(e).is_sidebar_visible,"onUpdate:modelValue":t[9]||(t[9]=l=>o(e).is_sidebar_visible=l),label:a.__("Sidebar Visible"),help:a.__("Should right sidebar be visible when user open this page"),name:"is_sidebar_visible"},null,8,["modelValue","label","help"]),[[p,n.value!=="redirect"&&n.value!=="html"]])]),i(u,{message:o(e).errors.is_in_navbar,class:"mt-2"},null,8,["message"]),i(u,{message:o(e).errors.is_visible,class:"mt-2"},null,8,["message"]),i(u,{message:o(e).errors.is_sidebar_visible,class:"mt-2"},null,8,["message"])])])])]),s("div",ge,[i(A,{loading:o(e).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",type:"submit"},{default:b(()=>[g(d(a.__("Update Page")),1)]),_:1},8,["loading"])])])],32)])])])])]),_:1})}}};export{Ne as default};
