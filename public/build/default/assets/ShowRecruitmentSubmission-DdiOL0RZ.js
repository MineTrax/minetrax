import{i as F,r as B,C as L,q as y,y as T,c as w,w as a,o as l,b as n,u as e,_ as V,a as t,t as i,P as D,f,e as x,m as _,d as u,L as K,x as N,K as P,p as W}from"./app-luBSUb-y.js";import{u as q,A as R}from"./AppLayout-5FPtFZxB.js";import{u as E}from"./useFormKit-DsPcY36i.js";import{_ as H}from"./RecruitmentMessagesBox-DwsGPPKL.js";import{_ as v}from"./CommonStatusBadge-BOjW9g7r.js";import{_ as I}from"./DialogModal-Bn0l3SyQ.js";import{_ as M}from"./SecondaryButton-BWejpyEv.js";import{X as U}from"./XTextarea-St001MKZ.js";import{L as X}from"./LoadingButton-IVXnvI8w.js";import{_ as Y}from"./AlertCard-lEu7eGhK.js";import{r as z}from"./CheckCircleIcon-BBOaKXdd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DeiOO_W9.js";import"./useAuthorizable-BSHISSy0.js";import"./LoadingSpinner-CVw1YAXh.js";import"./UserDisplayname-CfGTzz_p.js";import"./Modal-F_Enun8f.js";import"./XMarkIcon-DPqCCpTC.js";const O={class:"py-4 px-2 md:py-12 md:px-10 max-w-7xl mx-auto"},G={class:"flex justify-between mb-8"},J={class:"font-bold text-xl text-gray-500 dark:text-gray-300"},Q={class:"mr-3"},Z={class:"flex space-x-2"},tt={class:"flex flex-col md:flex-row md:space-x-4"},et={class:"flex w-full gap-4 flex-col md:flex-row"},st={class:"md:w-1/2 space-y-4"},it={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},ot={class:"flex flex-col mt-3"},nt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},at={class:"flex items-center justify-between w-full"},rt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},lt={class:"flex items-center justify-between w-full"},dt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ut={class:"flex items-center justify-between w-full"},ct=["title"],mt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ft={class:"flex items-center justify-between w-full"},xt=["title"],bt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},pt={class:"flex items-center justify-between w-full"},gt={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ht={class:"flex items-center justify-between w-full"},yt={class:"w-1/2 whitespace-pre-line text-right"},wt={key:1,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},_t={class:"flex items-center justify-between w-full"},vt={class:"flex-shrink-0 h-10 w-10 mr-2"},kt=["src"],At={class:"flex-col"},Ct={class:"text-sm text-gray-500"},St={class:"button-group flex space-x-4 justify-end p-4"},jt={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},$t={class:"md:w-1/2 px-3 py-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800 md:px-10 md:py-5 no-disabled-effect"},Ft={class:"text-lg font-bold"},Bt={key:0,class:"text-xs text-gray-500"},Ot={__name:"ShowRecruitmentSubmission",props:{submission:{type:Object}},setup(s){const{__:o}=W(),{formatTimeAgoToNow:p,formatToDayDateString:g,secondsToHMS:k}=q(),A=s,C=F(()=>A.submission.data.map(d=>({...d,value:d.data}))),S=E().generateSchemaFromFieldsArray(C.value,!0),c=B(!1),m=L({reason:""});return(d,r)=>{const j=y("InertiaLink"),$=y("FormKit"),h=T("tippy");return l(),w(R,null,{default:a(()=>[n(V,{title:e(o)("Your application request for :recruitmenttitle #:index - Applications",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})},null,8,["title"]),t("div",O,[t("div",G,[t("h1",J,[t("span",Q,i(e(o)("Application for :recruitmenttitle #:index",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})),1),n(v,{status:s.submission.status.value},null,8,["status"])]),t("div",Z,[n(e(D),{href:d.route("recruitment-submission.index"),class:"inline-flex items-center px-4 py-2 bg-gray-400 dark:bg-cool-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:a(()=>[t("span",null,i(e(o)("Back")),1)]),_:1},8,["href"])])]),s.submission.status.value==="pending"?(l(),w(Y,{key:0,"title-class":"flex items-center","text-color":"text-green-600 dark:text-green-400","border-color":"border-green-500"},{icon:a(()=>[n(e(z),{class:"h-6 w-6 text-green-500 mr-2"})]),default:a(()=>[f(i(e(o)("Success! A staff will soon review your application. Please be patience."))+" ",1)]),_:1})):x("",!0),t("div",tt,[t("div",et,[t("div",st,[t("div",it,[t("ul",ot,[t("li",nt,[t("div",at,[t("span",null,i(e(o)("Applicant")),1),t("div",null,i(e(o)("You")),1)])]),t("li",rt,[t("div",lt,[t("span",null,i(e(o)("Application")),1),t("span",null,i(s.submission.recruitment.title),1)])]),t("li",dt,[t("div",ut,[t("span",null,i(e(o)("Created At")),1),_((l(),u("span",{title:e(p)(s.submission.created_at)},[f(i(e(g)(s.submission.created_at)),1)],8,ct)),[[h]])])]),t("li",mt,[t("div",ft,[t("span",null,i(e(o)("Last Updated At")),1),_((l(),u("span",{title:e(p)(s.submission.updated_at)},[f(i(e(g)(s.submission.updated_at)),1)],8,xt)),[[h]])])]),t("li",bt,[t("div",pt,[t("span",null,i(e(o)("Request Status")),1),n(v,{status:s.submission.status.value},null,8,["status"])])]),s.submission.last_act_reason?(l(),u("li",gt,[t("div",ht,[t("span",null,i(e(o)("Reason")),1),t("span",yt,i(s.submission.last_act_reason),1)])])):x("",!0),s.submission.last_act_by?(l(),u("li",wt,[t("div",_t,[t("span",null,i(e(o)("Marked :status By",{status:e(K.startCase)(s.submission.status.value)})),1),t("span",null,[n(j,{href:d.route("user.public.get",s.submission.last_actor.username),class:"flex items-center"},{default:a(()=>[t("div",vt,[t("img",{class:"h-10 w-10 rounded-full",src:s.submission.last_actor.profile_photo_url,alt:"Avatar"},null,8,kt)]),t("div",At,[t("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap truncate",style:N([s.submission.last_actor.roles[0].color?{color:s.submission.last_actor.roles[0].color}:null])},i(s.submission.last_actor.name),5),t("div",Ct," @"+i(s.submission.last_actor.username),1)])]),_:1},8,["href"])])])])):x("",!0)]),t("div",St,[s.submission.i_can_withdraw?(l(),u("button",{key:0,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:r[0]||(r[0]=b=>c.value=!0)},[t("span",null,i(e(o)("Withdraw")),1)])):x("",!0)])]),t("div",jt,[n(H,{submission:s.submission,"for-admin":!1},null,8,["submission"])])]),t("div",$t,[n($,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:a(()=>[n(e(P),{schema:e(S)},null,8,["schema"])]),_:1})])])])]),n(I,{show:c.value,onClose:r[4]||(r[4]=b=>c.value=!1)},{title:a(()=>[t("h3",Ft,i(e(o)("Withdraw & Cancel Application")),1),s.submission.recruitment.submission_cooldown_in_seconds?(l(),u("p",Bt,i(e(o)("Please note that you won't be apply again for a given cooldown period of :hms.",{hms:e(k)(s.submission.recruitment.submission_cooldown_in_seconds,!0)})),1)):x("",!0)]),content:a(()=>[n(U,{modelValue:e(m).reason,"onUpdate:modelValue":r[1]||(r[1]=b=>e(m).reason=b),label:e(o)("Please provide a reason for withdrawing."),error:e(m).errors.reason},null,8,["modelValue","label","error"])]),footer:a(()=>[n(M,{class:"mr-2",onClick:r[2]||(r[2]=b=>c.value=!1)},{default:a(()=>[f(i(e(o)("Cancel")),1)]),_:1}),n(X,{loading:e(m).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:r[3]||(r[3]=()=>{e(m).post(d.route("recruitment-submission.withdraw",{submission:s.submission.id,recruitment:s.submission.recruitment.slug}),{onSuccess:()=>{c.value=!1}})})},{default:a(()=>[f(i(e(o)("Withdraw")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]),_:1})}}};export{Ot as default};
