import{_ as j}from"./AdminLayout-D8GEwtQf.js";import{u as E}from"./useAuthorizable-CBLWtNMn.js";import{u as N}from"./BaseLayout-DEET2uXb.js";import{y as T,z as k,c as o,w as l,s as I,o as a,b as r,j as e,a as i,i as _,t as n,P as w,g as u,v as m,d as f}from"./app-U7F8fpli.js";import{_ as $}from"./DataTable-BSZ3gxD8.js";import{D as p}from"./DtRowItem-CcaMsJcS.js";import{_ as z}from"./AppBreadcrumb-BPQO0NRQ.js";import{_ as C}from"./index-BIDzpq-S.js";import{I as c}from"./Icon-B7smHmqf.js";import{m as R}from"./millify-ebNsUx0O.js";import{r as V}from"./CloudArrowDownIcon-ChdPVNs0.js";import{r as q}from"./PencilSquareIcon-BgcwwY9r.js";import{r as O}from"./TrashIcon-B0b7AU_v.js";import"./index-DJrfnRDw.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-Cna_72YH.js";import"./chevron-down-DD1FIYC6.js";import"./Teleport-BxlbW6xz.js";import"./VisuallyHidden-ZQVZzJuH.js";import"./x-CG4zJPiG.js";import"./SelectValue-IEdi3iNm.js";import"./useFormControl-Dc8lgYxH.js";import"./vue-multiselect.esm-fyPdVgV3.js";import"./XMarkIcon-CqHHbBCc.js";const S={class:"px-10 py-8 mx-auto text-foreground"},F={class:"flex justify-between mb-4"},L={class:"flex"},M={class:"px-4 py-4 text-sm font-medium text-center text-foreground whitespace-nowrap dark:text-foreground"},P={class:"px-4"},U={class:"px-4"},G={class:"px-4"},H=["title"],K={key:0,class:"italic text-foreground"},W={key:1},J=["title"],Q={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},X=["href","title"],ve={__name:"IndexDownload",props:{downloads:Object,filters:Object},setup(y){const{can:x}=E(),{__:t}=I(),{formatTimeAgoToNow:b,formatToDayDateString:g}=N(),D=[{text:t("Admin"),current:!1},{text:t("Downloads"),current:!0}],v=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"name",sortable:!0,label:t("Name"),filterable:{type:"text"}},{key:"is_active",label:t("Active"),sortable:!0},{key:"is_external",label:t("External"),sortable:!0},{key:"is_only_auth",label:t("Auth Only"),sortable:!0},{key:"file_name",sortable:!0,label:t("File Name")},{key:"file_size",sortable:!1,label:t("File Size")},{key:"download_count",sortable:!0,class:"text-center",label:t("Downloads")},{key:"created_at",label:t("Created"),sortable:!0,class:"w-1/12"},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(h,Y)=>{const B=T("app-head"),d=k("tippy"),A=k("confirm");return a(),o(j,null,{default:l(()=>[r(B,{title:e(t)("Downloads Administration")},null,8,["title"]),i("div",S,[i("div",F,[r(z,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:D}),i("div",L,[e(x)("create downloads")?(a(),o(e(C),{key:0,"as-child":""},{default:l(()=>[r(e(w),{href:h.route("admin.download.create")},{default:l(()=>[_(n(e(t)("Create Download")),1)]),_:1},8,["href"])]),_:1})):u("",!0)])]),r($,{class:"bg-card rounded-lg shadow",header:v,data:y.downloads,filters:y.filters},{default:l(({item:s})=>[i("td",M,n(s.id),1),r(p,null,{default:l(()=>[_(n(s.name),1)]),_:2},1024),i("td",P,[s.is_active?(a(),o(c,{key:0,class:"text-success-500",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"}))]),i("td",U,[s.is_external?(a(),o(c,{key:0,class:"text-success-500 inline",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"})),s.is_external_url_hidden?m((a(),o(c,{key:2,title:e(t)("External URL is protected from end users."),class:"text-warning-400 inline",name:"shield-check"},null,8,["title"])),[[d]]):u("",!0)]),i("td",G,[s.is_only_auth?(a(),o(c,{key:0,class:"text-success-500 inline",name:"check-circle"})):(a(),o(c,{key:1,class:"text-error-500",name:"cross-circle"})),s.min_role_weight_required?m((a(),f("span",{key:2,title:e(t)("Minimum Role Weight Required to Download"),class:"text-xs"},[_("("+n(s.min_role_weight_required)+")",1)],8,H)),[[d]]):u("",!0)]),r(p,null,{default:l(()=>[_(n(s.is_external?s.file_name:s.file.file_name),1)]),_:2},1024),r(p,null,{default:l(()=>[s.is_external?(a(),f("span",K,n(e(t)("Unknown")),1)):(a(),f("span",W,n(e(R)(s.file.size,{units:["B","KB","MB","GB","TB"],space:!0})),1))]),_:2},1024),r(p,{class:"text-center"},{default:l(()=>[_(n(s.download_count),1)]),_:2},1024),r(p,{class:"whitespace-nowrap"},{default:l(()=>[m((a(),f("span",{title:e(g)(s.created_at)},[_(n(e(b)(s.created_at)),1)],8,J)),[[d]])]),_:2},1024),i("td",Q,[m((a(),f("a",{href:h.route("download.download",s.slug),target:"_blank",class:"inline-flex items-center justify-center text-primary hover:text-primary",title:e(t)("Download")},[r(e(V),{class:"inline-block w-5 h-5"})],8,X)),[[d]]),e(x)("update downloads")?m((a(),o(e(w),{key:0,as:"a",href:h.route("admin.download.edit",s.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Edit Download")},{default:l(()=>[r(e(q),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):u("",!0),e(x)("delete downloads")?m((a(),o(e(w),{key:1,as:"button",method:"DELETE",href:h.route("admin.download.delete",s.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Download")},{default:l(()=>[r(e(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[A,{message:"Are you sure you want to delete this Download permanently?"}],[d]]):u("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ve as default};
