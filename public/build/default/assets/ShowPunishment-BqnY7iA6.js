import{u as J,A as ee}from"./AppLayout-BWWjK4BG.js";import{o,d as i,a as e,r as A,j as te,Q as se,i as B,T as G,F as V,g as N,n as z,f,t as a,c as v,e as y,b as d,U as ne,C as K,q as ae,y as Q,w as r,p as le,u as t,_ as oe,P,m as u}from"./app-Dki4Xgqc.js";import{D as g}from"./DtRowItem-DfQlpmuP.js";import{_ as I}from"./CommonStatusBadge-BxfgqTwL.js";import{I as ie}from"./Icon-BkRJZ2lS.js";import{L as W}from"./LoadingSpinner-CROdtz6T.js";import{_ as re}from"./Chart-SO0efPV7.js";import{_ as de}from"./DialogModal-DIlXOnwr.js";import{_ as ce}from"./SecondaryButton-DsnrElhc.js";import{X as ue}from"./XInput-ClmD4Rbm.js";import{L as he}from"./LoadingButton-CZ4Kq2io.js";import{r as M}from"./EyeIcon-D1q9Xm8s.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuthorizable-BmwA-JR-.js";import"./Modal-DIpZCZ87.js";function ye(n,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function _e(n,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})])}function me(n,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})])}const fe={class:"flex flex-col"},pe={id:"tableSection",class:"flex flex-col"},ge={class:"overflow-x-auto"},xe={class:"inline-block min-w-full align-middle"},ve={class:"overflow-hidden"},ke={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},be={class:"bg-gray-100 dark:bg-gray-700"},we={class:"inline-flex items-center"},Se=["onClick"],Pe={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},$e={key:0},Ce=["colspan"],De={key:1},Le=["colspan"],Ie={key:0,class:"flex items-center justify-center"},O={__name:"ArrayTable",props:{data:{required:!1,default:()=>[],type:Array},url:{required:!1,type:String},header:{required:!0,type:Array}},setup(n){const l=n,k=A(!0),b=A([]);te(()=>{l.url?(k.value=!0,se.get(l.url).then(_=>{b.value=_.data.data}).catch(_=>{console.error("Error fetching data",_)}).finally(()=>{k.value=!1})):b.value=l.data});const w=A(""),$=A(""),D=B(()=>{let _=[...b.value];return w.value&&_.sort((E,p)=>{let x=T(E,w.value),S=T(p,w.value);if(x===void 0&&S===void 0)return 0;if(x===void 0)return 1;if(S===void 0)return-1;let L=0;return typeof x=="string"?L=x.localeCompare(S):(x<S&&(L=-1),x>S&&(L=1)),$.value==="desc"?-L:L}),_});function T(_,E){return E.split(".").reduce((p,x)=>(p||{})[x],_)}function U(_){w.value===_?$.value==="asc"?$.value="desc":(w.value="",$.value=""):(w.value=_,$.value="asc")}const F=B(()=>w.value?w.value.replace("-",""):""),j=B(()=>$.value==="desc"?"desc":"asc");return(_,E)=>(o(),i("div",fe,[e("div",pe,[e("div",ge,[e("div",xe,[e("div",ve,[e("table",ke,[e("thead",be,[e("tr",null,[G(_.$slots,"header",{},()=>[(o(!0),i(V,null,N(n.header,p=>(o(),i("th",{key:p.key,scope:"col",class:z(["px-4 py-3 text-xs font-semibold text-left text-gray-400 dark:text-gray-300",[p.class?p.class:""]])},[e("div",we,[e("div",{class:"inline-flex items-center uppercase cursor-pointer",onClick:x=>p.sortable?U(p.key):null},[f(a(p.label)+" ",1),p.sortable?(o(),v(ie,{key:0,name:F.value===p.key?j.value==="asc"?"sort-up":"sort-down":"sort-updown",class:z(["inline-block w-3 h-3 ml-1 text-gray-400 dark:text-gray-300",[F.value===p.key?"text-light-blue-500 dark:text-light-blue-400":""]])},null,8,["name","class"])):y("",!0)],8,Se)])],2))),128))])])]),k.value?y("",!0):(o(),i("tbody",Pe,[(o(!0),i(V,null,N(D.value,p=>(o(),i("tr",{key:p.id},[G(_.$slots,"default",{item:p,data:D.value},()=>[(o(!0),i(V,null,N(n.header,x=>(o(),i("td",{key:x.key,class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-gray-100"},a(p[x.key]),1))),128))])]))),128)),D.value.length<=0?(o(),i("tr",$e,[e("td",{colspan:n.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},a(_.__("No data found")),9,Ce)])):y("",!0)])),k.value?(o(),i("tfoot",De,[e("tr",null,[e("td",{colspan:n.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},[k.value?(o(),i("div",Ie,[d(W,{class:"w-6 h-6",loading:k.value},null,8,["loading"])])):y("",!0)],8,Le)])])):y("",!0)])])])])])]))}},Ee={class:"px-2 py-4 mx-auto md:py-12 md:px-10 max-w-7xl"},Ae={class:"flex flex-col md:flex-row justify-between mb-8"},Ve={class:"flex items-center"},Ne={class:"text-lg font-bold text-gray-500 md:text-3xl dark:text-gray-300"},Te={class:"ml-3 text-lg"},Fe={class:"flex space-x-2"},je={class:"flex flex-col space-y-8 text-gray-800 dark:text-gray-300"},Ue={class:"grid w-full gap-2 md:grid-cols-3"},He={class:"w-full grid-cols-3 gap-6 p-2 leading-8 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-2 md:grid"},Be={class:"col-span-3 -mb-4 text-lg font-bold text-gray-500 dark:text-gray-400"},Me={class:"font-semibold text-gray-500 dark:text-gray-400"},Oe={class:"font-bold"},ze={class:"font-semibold text-gray-500"},Re={class:"font-bold"},qe={class:"font-semibold text-gray-500"},Ze={class:"font-bold"},Xe={class:"font-semibold text-gray-500"},Ge={key:0},Ke={class:"flex items-center"},Qe={class:"flex-shrink-0 w-8 h-8"},We=["src"],Ye={class:"ml-2"},Je={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},et={key:1,class:"italic text-red-500"},tt={key:1},st={class:"flex items-center"},nt={class:"flex-shrink-0 w-8 h-8"},at=["src"],lt={class:"ml-2"},ot=["content"],it={class:"italic text-red-500"},rt={key:2,class:"flex items-center space-x-2"},dt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},ct={class:"font-semibold text-gray-500"},ut={class:"font-bold"},ht={key:0},yt={class:"font-semibold text-gray-500"},_t={class:"font-bold"},mt={class:"font-semibold text-gray-500"},ft={class:"flex items-center font-bold"},pt=["src","alt"],gt={class:"font-semibold text-gray-500"},xt={class:"flex flex-col font-bold"},vt={class:"text-xs text-gray-500 dark:text-gray-400"},kt={class:"font-semibold text-gray-500"},bt={key:0,class:"flex flex-col font-bold"},wt={class:"text-xs text-gray-500 dark:text-gray-400"},St={key:1,class:"font-bold"},Pt={class:"font-semibold text-gray-500"},$t={class:"mt-1 font-bold leading-normal"},Ct={class:"font-semibold text-gray-500"},Dt={class:"mt-1 font-bold leading-normal"},Lt={class:"font-semibold text-gray-500"},It={class:"font-bold"},Et={class:"font-semibold text-gray-500"},At={key:0},Vt={class:"flex items-center"},Nt={class:"flex-shrink-0 w-8 h-8"},Tt=["src"],Ft={class:"ml-2"},jt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Ut={key:1,class:"italic text-red-500"},Ht={key:1,class:"flex items-center space-x-2"},Bt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Mt={class:"font-semibold text-gray-500"},Ot={key:0},zt={class:"flex items-center"},Rt={class:"flex-shrink-0 w-8 h-8"},qt=["src"],Zt={class:"ml-2"},Xt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Gt={key:1,class:"italic text-red-500"},Kt={key:1,class:"flex items-center space-x-2"},Qt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Wt={class:"font-semibold text-gray-500"},Yt={class:"flex flex-col font-bold"},Jt={class:"text-xs text-gray-500 dark:text-gray-400"},es={class:"font-semibold text-gray-500"},ts={class:"mt-1 font-bold leading-normal"},ss={key:2},ns={class:"font-semibold text-gray-500"},as={class:"mt-1 font-bold leading-normal"},ls={key:3},os={class:"font-semibold text-gray-500"},is={class:"font-bold mt-0.5 leading-normal"},rs={key:4},ds={class:"font-semibold text-gray-500"},cs={key:0},us={class:"flex flex-wrap gap-2"},hs=["title","href"],ys=["disabled"],_s={key:2,class:"text-xs text-red-400"},ms={class:"w-full p-2 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-1"},fs={class:"col-span-3 text-lg font-bold text-gray-500 dark:text-gray-400"},ps={key:1,class:"flex items-center justify-center"},gs={class:"text-sm leading-9 list-disc list-inside"},xs={key:2,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},vs={key:3,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},ks={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},bs={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},ws={class:"px-3 py-4 whitespace-nowrap"},Ss={class:"flex items-center"},Ps=["content"],$s=["src"],Cs={class:"px-6 py-4 whitespace-nowrap"},Ds={key:0},Ls={class:"flex items-center"},Is={class:"flex-shrink-0 h-7 w-7"},Es=["src"],As={class:"ml-2"},Vs={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Ns={key:1,class:"italic text-red-500"},Ts={key:1},Fs={class:"flex items-center"},js={class:"flex-shrink-0 h-7 w-7"},Us=["src"],Hs={class:"ml-2"},Bs=["content"],Ms={class:"italic text-red-500"},Os={key:2,class:"flex items-center space-x-2"},zs={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},Rs={key:0},qs={key:1,class:"italic text-gray-400"},Zs={class:"px-6 py-4 whitespace-nowrap"},Xs={key:0},Gs={class:"flex items-center"},Ks={class:"flex-shrink-0 h-7 w-7"},Qs=["src"],Ws={class:"ml-2"},Ys={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Js={key:1,class:"italic text-red-500"},en={key:1,class:"flex items-center space-x-2"},tn={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},sn=["title"],nn=["title"],an=["title"],ln={key:1,class:"italic text-gray-400"},on={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},rn={key:0},dn={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},cn={class:"text-sm"},un={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},hn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},yn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},_n={class:"flex items-center"},mn=["content"],fn=["src"],pn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},gn={class:"flex items-center"},xn={class:"font-extrabold text-gray-700 dark:text-gray-300"},vn={class:"whitespace-nowrap"},kn=["title"],bn=["title"],wn={key:1,class:"text-gray-400"},Sn={class:"whitespace-nowrap"},Pn={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},$n={key:1},Cn={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},Dn={class:"text-sm"},Ln={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},In={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},En={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},An={class:"flex items-center"},Vn=["content"],Nn=["src"],Tn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Fn={class:"flex items-center"},jn={class:"flex-shrink-0 h-7 w-7"},Un=["src"],Hn={class:"ml-2"},Bn={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Mn={key:1,class:"italic text-red-500"},On={class:"whitespace-nowrap"},zn=["title"],Rn=["title"],qn={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},Zn={class:"text-lg font-bold"},ra={__name:"ShowPunishment",props:{punishment:Object,permissions:Object},setup(n){var R;const{__:l}=le(),{formatTimeAgoToNow:k,formatToDayDateString:b,secondsToHMS:w}=J(),$=n,D=(R=ne().props.banwarden)==null?void 0:R.canShowMaskedIp,T=[{key:"id",label:l("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12"},{key:"type.value",sortable:!0,label:l("Type"),class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:l("Player")},...D?[{key:"ip_address",sortable:!0,label:l("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!0,label:l("Staff")},{key:"reason",sortable:!0,label:l("Reason")},{key:"start_at",sortable:!0,label:l("Date")},{key:"end_at",sortable:!0,label:l("Expires")},{key:"is_active",label:l("Status"),sortable:!0,class:"text-center"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],U=[{key:"id",label:l("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:l("Flag"),sortable:!0,class:"text-left w-12"},{key:"player_displayname",label:l("Display name"),sortable:!0},{key:"ip_address",sortable:!0,label:l("IP Address"),class:"text-center"},{key:"session_started_at",label:l("Started"),sortable:!0},{key:"session_ended_at",label:l("Ended"),sortable:!0},{key:"server_id",label:l("Server"),sortable:!0},{key:"play_time",label:l("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:l("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],F=[{key:"id",label:l("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:l("Flag"),sortable:!0,class:"text-left w-12"},{key:"username",label:l("Player"),sortable:!0},{key:"ip_address",sortable:!0,label:l("Last IP Address"),class:"text-center"},{key:"last_seen_at",label:l("Last Seen"),sortable:!0},{key:"first_seen_at",label:l("First Seen"),sortable:!0},{key:"play_time",label:l("Play Time"),sortable:!0,class:"text-right"},{key:"punishments_count",label:l("Punishments"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],j=A(null),_=K({file:null}),E=()=>{j.value.click()},p=h=>{const m=h.target.files[0];m&&(_.file=m,_.post(route("player.punishment.evidence.store",$.punishment.id)))},x=A(!1),S=K({reason:""});function L(){setTimeout(()=>{location.reload()},5e3)}return(h,m)=>{const H=ae("InertiaLink"),c=Q("tippy"),Y=Q("confirm");return o(),v(ee,null,{default:r(()=>{var q,Z;return[d(oe,{title:t(l)("Punishments")},null,8,["title"]),e("div",Ee,[e("div",Ae,[e("div",Ve,[e("h1",Ne,a(t(l)("Punishment #:id",{id:n.punishment.id,punish:n.punishment.type.value})),1),e("span",Te,[d(I,{status:n.punishment.type.value},null,8,["status"]),d(I,{status:n.punishment.is_active?"active":"inactive"},null,8,["status"]),n.punishment.is_active&&n.punishment.end_at==null?(o(),v(I,{key:0,status:"permanent"})):y("",!0)])]),e("div",Fe,[d(t(P),{href:h.route("player.punishment.index"),class:"hidden md:inline-flex items-center px-4 py-2 bg-gray-400 dark:bg-cool-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:r(()=>[e("span",null,a(t(l)("Back")),1)]),_:1},8,["href"])])]),e("div",je,[e("div",Ue,[e("div",He,[e("h3",Be,a(t(l)("Punishment Details")),1),e("div",null,[e("p",Me,a(t(l)("Type")),1),e("p",Oe,[d(I,{status:n.punishment.type.value},null,8,["status"])])]),e("div",null,[e("p",ze,a(t(l)("ID")),1),e("p",Re,a(n.punishment.id),1)]),e("div",null,[e("p",qe,a(t(l)("Status")),1),e("p",Ze,[d(I,{status:n.punishment.is_active?"active":"inactive"},null,8,["status"])])]),e("div",null,[e("p",Xe,a(t(l)("Player")),1),n.punishment.uuid&&n.punishment.victim_player?(o(),i("div",Ge,[e("div",Ke,[e("div",Qe,[e("img",{class:"w-8 h-8",src:n.punishment.victim_player.avatar_url,alt:""},null,8,We)]),e("div",Ye,[u((o(),v(t(P),{as:"a",href:h.route("player.show",n.punishment.victim_player.uuid),class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.victim_player.uuid},{default:r(()=>[n.punishment.victim_player.username?(o(),i("span",Je,a(n.punishment.victim_player.username),1)):(o(),i("span",et,a(t(l)("Unknown")),1))]),_:1},8,["href","content"])),[[c]])])])])):n.punishment.uuid?(o(),i("div",tt,[e("div",st,[e("div",nt,[e("img",{class:"w-8 h-8",src:h.route("player.avatar.get",n.punishment.uuid),alt:""},null,8,at)]),e("div",lt,[u((o(),i("div",{class:"font-medium text-gray-900 dark:text-gray-200",content:n.punishment.uuid},[e("span",it,a(t(l)("Unknown")),1)],8,ot)),[[c]])])])])):(o(),i("div",rt,[m[4]||(m[4]=e("img",{class:"w-8 h-8",src:"/images/pc_head.png",alt:""},null,-1)),e("span",dt,a(t(l)("IP :punish",{punish:n.punishment.type.key})),1)]))]),e("div",null,[e("p",ct,a(t(l)("IP :punish",{punish:n.punishment.type.value})),1),e("p",ut,a(n.punishment.is_ipban?t(l)("Yes"):t(l)("No")),1)]),t(D)?(o(),i("div",ht,[e("p",yt,a(t(l)("IP Address")),1),e("p",_t,a(n.punishment.ip_address||n.punishment.masked_ip_address||t(l)("None")),1)])):y("",!0),e("div",null,[e("p",mt,a(t(l)("Country")),1),e("div",ft,[e("img",{src:n.punishment.country.photo_path,alt:n.punishment.country.iso_code,class:"w-8 h-8 mr-2"},null,8,pt),f(" "+a(n.punishment.country.name),1)])]),e("div",null,[e("p",gt,a(t(l)("Date")),1),e("div",xt,[e("span",null,a(t(k)(n.punishment.start_at)),1),e("span",vt,a(t(b)(n.punishment.start_at)),1)])]),e("div",null,[e("p",kt,a(t(l)("Expires")),1),n.punishment.end_at?(o(),i("div",bt,[e("span",null,a(t(k)(n.punishment.end_at)),1),e("span",wt,a(t(b)(n.punishment.end_at)),1)])):(o(),i("div",St,a(t(l)("Never")),1))]),e("div",null,[e("p",Pt,a(t(l)("Reason")),1),e("p",$t,a(n.punishment.reason),1)]),e("div",null,[e("p",Ct,a(t(l)("Notes")),1),e("p",Dt,a(n.punishment.notes??t(l)("-")),1)]),e("div",null,[e("p",Lt,a(t(l)("Server Scope")),1),e("p",It,a(n.punishment.server_scope),1)]),e("div",null,[e("p",Et,a(t(l)("Punished by")),1),e("div",null,[n.punishment.creator_uuid?(o(),i("div",At,[e("div",Vt,[e("div",Nt,[e("img",{class:"w-8 h-8",src:n.punishment.creator_player?n.punishment.creator_player.avatar_url:h.route("player.avatar.get",n.punishment.creator_uuid),alt:""},null,8,Tt)]),e("div",Ft,[u((o(),v(t(P),{as:"a",href:n.punishment.creator_player?h.route("player.show",n.punishment.creator_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.creator_uuid},{default:r(()=>{var s,C;return[(s=n.punishment.creator_player)!=null&&s.username||n.punishment.creator_username?(o(),i("span",jt,a(((C=n.punishment.creator_player)==null?void 0:C.username)||n.punishment.creator_username),1)):(o(),i("span",Ut,a(t(l)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(o(),i("div",Ht,[m[5]||(m[5]=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1)),e("span",Bt,a(t(l)("CONSOLE")),1)]))])]),n.punishment.removed_at&&(n.punishment.remover_uuid||n.punishment.remover_username)?(o(),i(V,{key:1},[e("div",null,[e("p",Mt,a(t(l)("Pardon by")),1),e("div",null,[n.punishment.remover_uuid?(o(),i("div",Ot,[e("div",zt,[e("div",Rt,[e("img",{class:"w-8 h-8",src:n.punishment.remover_player?n.punishment.remover_player.avatar_url:h.route("player.avatar.get",n.punishment.remover_uuid),alt:""},null,8,qt)]),e("div",Zt,[u((o(),v(t(P),{as:"a",href:n.punishment.remover_player?h.route("player.show",n.punishment.remover_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.remover_uuid},{default:r(()=>{var s,C;return[(s=n.punishment.remover_player)!=null&&s.username||n.punishment.creator_username?(o(),i("span",Xt,a(((C=n.punishment.remover_player)==null?void 0:C.username)||n.punishment.creator_username),1)):(o(),i("span",Gt,a(t(l)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(o(),i("div",Kt,[m[6]||(m[6]=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1)),e("span",Qt,a(t(l)("CONSOLE")),1)]))])]),e("div",null,[e("p",Wt,a(t(l)("Pardon at")),1),e("div",Yt,[e("span",null,a(t(k)(n.punishment.removed_at)),1),e("span",Jt,a(t(b)(n.punishment.removed_at)),1)])]),e("div",null,[e("p",es,a(t(l)("Pardon Reason")),1),e("p",ts,a(n.punishment.removed_reason??t(l)("-")),1)])],64)):y("",!0),n.punishment.plugin_punishment_id?(o(),i("div",ss,[e("p",ns,a(t(l)("Plugin Punishment ID")),1),e("p",as,a(n.punishment.plugin_punishment_id),1)])):y("",!0),n.punishment.origin_server_name?(o(),i("div",ls,[e("p",os,a(t(l)("Origin Server")),1),e("p",is,a(n.punishment.origin_server_name),1)])):y("",!0),n.permissions.canViewEvidence?(o(),i("div",rs,[e("p",ds,a(t(l)("Uploaded Evidence")),1),n.punishment.evidences<=0&&!n.permissions.canCreateEvidence?(o(),i("p",cs,a("-"))):y("",!0),e("div",us,[(o(!0),i(V,null,N(n.punishment.evidences,s=>(o(),i("div",{key:s.id,class:"p-1.5 relative dark:bg-gray-900 bg-gray-200 rounded group"},[u((o(),i("a",{target:"_blank",title:t(l)("View :file",{file:s.file_name}),href:h.route("player.punishment.evidence.show",{playerPunishment:n.punishment.id,evidence:s.id})},[d(t(ye),{class:"w-6 h-6 p-0.5"})],8,hs)),[[c]]),n.permissions.canDeleteEvidence?u((o(),v(t(P),{key:0,as:"button",class:"block",method:"DELETE",href:h.route("player.punishment.evidence.delete",{playerPunishment:n.punishment.id,evidence:s.id})},{default:r(()=>[d(t(me),{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:text-red-400 absolute -top-2 -right-2 w-5 h-5 p-0.5 text-gray-500 dark:text-gray-200 cursor-pointer"})]),_:2},1032,["href"])),[[Y,{message:"Are you sure you want to delete this evidence?"}],[c]]):y("",!0)]))),128)),n.permissions.canCreateEvidence?(o(),i("input",{key:0,ref_key:"fileRef",ref:j,type:"file",class:"hidden",onInput:p},null,544)):y("",!0),n.permissions.canCreateEvidence?(o(),i("button",{key:1,disabled:t(_).processing,class:"p-1.5 dark:bg-gray-900 bg-gray-200 rounded",onClick:E},[t(_).processing?y("",!0):(o(),v(t(_e),{key:0,class:"w-6 h-6 p-0.5"})),d(W,{loading:t(_).processing,class:"w-6 h-6 p-1"},null,8,["loading"])],8,ys)):y("",!0),t(_).errors.file?(o(),i("p",_s,a(t(_).errors.file),1)):y("",!0)])])):y("",!0)]),e("div",ms,[e("h3",fs,a(t(l)("AI Insights")),1),n.punishment.insights&&n.punishment.insights.score?(o(),v(re,{key:0,options:{series:[{type:"gauge",startAngle:180,endAngle:0,center:["50%","75%"],radius:"90%",min:0,max:1,splitNumber:8,axisLine:{lineStyle:{width:6,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:20,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{length:12,lineStyle:{color:"auto",width:2}},splitLine:{length:20,lineStyle:{color:"auto",width:5}},axisLabel:{color:"#464646",fontSize:20,distance:-60,rotate:"tangential",formatter:function(s){return""}},title:{offsetCenter:[0,"-10%"],fontSize:20},detail:{fontSize:30,offsetCenter:[0,"-35%"],valueAnimation:!0,formatter:function(s){return Math.round(s*100)+""},color:"inherit"},data:[{value:((q=n.punishment.insights)==null?void 0:q.score)/100,name:t(l)("Score")}]}]},height:"250px",autoresize:!0},null,8,["options"])):y("",!0),n.punishment.insights&&n.punishment.insights.insights?(o(),i("div",ps,[e("ul",gs,[(o(!0),i(V,null,N((Z=n.punishment.insights)==null?void 0:Z.insights,s=>(o(),i("li",{key:s},a(s),1))),128))])])):y("",!0),n.punishment.insights?y("",!0):(o(),i("div",xs,a(t(l)("No insights available! Check back later.")),1)),n.punishment.insights&&n.punishment.insights.status==="generating"?(o(),i("div",vs,[f(a(t(l)("Generating insights. Hang tight!"))+" ",1),m[7]||(m[7]=e("br",null,null,-1)),f(" "+a(t(l)("Please refresh the page after few seconds.")),1)])):y("",!0)])]),e("div",null,[e("h3",ks,a(t(l)("Last 5 Punishments")),1),e("div",bs,[d(O,{url:h.route("player.punishment.show.history",n.punishment.id),header:T,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[d(g,null,{default:r(()=>[u((o(),v(t(P),{as:"a",href:h.route("player.punishment.show",s.id),class:z(["cursor-pointer focus:outline-none hover:underline",s.is_active?"font-bold dark:text-gray-300":""]),content:t(l)("View details")},{default:r(()=>[f(a(s.id),1)]),_:2},1032,["href","class","content"])),[[c]])]),_:2},1024),e("td",ws,[e("div",Ss,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,$s)],8,Ps)),[[c]])])]),d(g,{class:"text-center"},{default:r(()=>[d(I,{status:s.type.value},null,8,["status"])]),_:2},1024),e("td",Cs,[s.uuid&&s.victim_player?(o(),i("div",Ds,[e("div",Ls,[e("div",Is,[e("img",{class:"h-7 w-7",src:s.victim_player.avatar_url,alt:""},null,8,Es)]),e("div",As,[u((o(),v(t(P),{as:"a",href:h.route("player.show",s.victim_player.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.victim_player.uuid},{default:r(()=>[s.victim_player.username?(o(),i("span",Vs,a(s.victim_player.username),1)):(o(),i("span",Ns,a(t(l)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])])):s.uuid?(o(),i("div",Ts,[e("div",Fs,[e("div",js,[e("img",{class:"h-7 w-7",src:h.route("player.avatar.get",s.uuid),alt:""},null,8,Us)]),e("div",Hs,[u((o(),i("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-200",content:s.uuid},[e("span",Ms,a(t(l)("Unknown")),1)],8,Bs)),[[c]])])])])):(o(),i("div",Os,[m[8]||(m[8]=e("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1)),e("span",zs,a(t(l)("IP :punish",{punish:s.type.key})),1)]))]),t(D)?(o(),v(g,{key:0,class:"text-center"},{default:r(()=>[s.ip_address||s.masked_ip_address?(o(),i("span",Rs,a(s.ip_address||s.masked_ip_address),1)):(o(),i("span",qs,a(t(l)("None")),1))]),_:2},1024)):y("",!0),e("td",Zs,[s.creator_uuid?(o(),i("div",Xs,[e("div",Gs,[e("div",Ks,[e("img",{class:"h-7 w-7",src:s.creator_player?s.creator_player.avatar_url:h.route("player.avatar.get",s.creator_uuid),alt:""},null,8,Qs)]),e("div",Ws,[u((o(),v(t(P),{as:"a",href:s.creator_player?h.route("player.show",s.creator_player.uuid):"#",class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.creator_uuid},{default:r(()=>{var C,X;return[(C=s.creator_player)!=null&&C.username||s.creator_username?(o(),i("span",Ys,a(((X=s.creator_player)==null?void 0:X.username)||s.creator_username),1)):(o(),i("span",Js,a(t(l)("Unknown")),1))]}),_:2},1032,["href","content"])),[[c]])])])])):(o(),i("div",en,[m[9]||(m[9]=e("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1)),e("span",tn,a(t(l)("CONSOLE")),1)]))]),d(g,null,{default:r(()=>[u((o(),i("p",{title:s.reason,class:"w-20 truncate"},[f(a(s.reason),1)],8,sn)),[[c]])]),_:2},1024),d(g,{class:"whitespace-nowrap"},{default:r(()=>[u((o(),i("span",{title:t(b)(s.start_at)},[f(a(t(k)(s.start_at)),1)],8,nn)),[[c]])]),_:2},1024),d(g,{class:"whitespace-nowrap"},{default:r(()=>[s.end_at?u((o(),i("span",{key:0,title:t(b)(s.end_at)},[f(a(t(k)(s.end_at)),1)],8,an)),[[c]]):(o(),i("span",ln,a(t(l)("None")),1))]),_:2},1024),d(g,{class:"text-center"},{default:r(()=>[d(I,{status:s.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),e("td",on,[u((o(),v(t(P),{title:t(l)("View details"),as:"a",href:h.route("player.punishment.show",s.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:r(()=>[d(t(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[c]])])]),_:1},8,["url"])])]),n.permissions.canViewSessions?(o(),i("div",rn,[e("h3",dn,[f(a(t(l)("Last 5 Sessions"))+" ",1),e("span",cn,a(t(l)("(before this punishment)")),1)]),e("div",un,[d(O,{url:h.route("player.punishment.show.session",n.punishment.id),header:U,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[e("td",hn,a(s.id),1),e("td",yn,[e("div",_n,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,fn)],8,mn)),[[c]])])]),e("td",pn,[e("div",gn,[d(H,{as:"a",href:h.route("player.intel.session.show",{player:s.player_uuid,session:s.id}),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline"},{default:r(()=>[e("span",xn,a(s.player_displayname)+" ("+a(s.player_username)+") ",1)]),_:2},1032,["href"])])]),d(g,{class:"text-center"},{default:r(()=>[u((o(),i("span",vn,[f(a(s.player_ip_address||"-"),1)])),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(b)(s.session_started_at)},[f(a(t(k)(s.session_started_at)),1)],8,kn)),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[s.session_ended_at?u((o(),i("span",{key:0,class:"whitespace-nowrap",title:t(b)(s.session_ended_at)},[f(a(t(k)(s.session_ended_at)),1)],8,bn)),[[c]]):(o(),i("span",wn,"—"))]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",Sn,[f(a(s.server.name),1)])),[[c]])]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[f(a(t(w)(s.play_time,!0)),1)]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[f(a(t(w)(s.afk_time,!0)),1)]),_:2},1024),e("td",Pn,[u((o(),v(H,{as:"a",href:h.route("player.intel.session.show",{player:s.player_uuid,session:s.id}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(l)("View Session Details")},{default:r(()=>[d(t(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):y("",!0),n.permissions.canViewAlts?(o(),i("div",$n,[e("h3",Cn,[f(a(t(l)("Possible Alts"))+" ",1),e("span",Dn,a(t(l)("(players with similar ip address)")),1)]),e("div",Ln,[d(O,{url:h.route("player.punishment.show.alt",n.punishment.id),header:F,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[e("td",In,a(s.id),1),e("td",En,[e("div",An,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,Nn)],8,Vn)),[[c]])])]),e("td",Tn,[e("div",Fn,[e("div",jn,[e("img",{class:"h-7 w-7",src:s.avatar_url,alt:""},null,8,Un)]),e("div",Hn,[u((o(),v(t(P),{as:"a",href:h.route("player.show",s.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.uuid},{default:r(()=>[s.username?(o(),i("span",Bn,a(s.username),1)):(o(),i("span",Mn,a(t(l)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])]),d(g,{class:"text-center"},{default:r(()=>[u((o(),i("span",On,[f(a(s.ip_address||"-"),1)])),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(b)(s.last_seen_at)},[f(a(t(k)(s.last_seen_at)),1)],8,zn)),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(b)(s.first_seen_at)},[f(a(t(k)(s.first_seen_at)),1)],8,Rn)),[[c]])]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[f(a(t(w)(s.play_time,!0)),1)]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[f(a(s.punishments_count),1)]),_:2},1024),e("td",qn,[u((o(),v(H,{as:"a",href:h.route("player.show",{player:s.uuid}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(l)("View Details")},{default:r(()=>[d(t(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):y("",!0)])]),d(de,{show:x.value,onClose:m[3]||(m[3]=s=>x.value=!1)},{title:r(()=>[e("h3",Zn,a(t(l)("Pardon")),1)]),content:r(()=>[d(ue,{modelValue:t(S).reason,"onUpdate:modelValue":m[0]||(m[0]=s=>t(S).reason=s),label:t(l)("Please provide a reason.."),error:t(S).errors.reason},null,8,["modelValue","label","error"])]),footer:r(()=>[d(ce,{class:"mr-2",onClick:m[1]||(m[1]=s=>x.value=!1)},{default:r(()=>[f(a(t(l)("Cancel")),1)]),_:1}),d(he,{loading:t(S).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:shadow-outline-gray",onClick:m[2]||(m[2]=()=>{t(S).delete(h.route("player.punishment.pardon",{playerPunishment:n.punishment.id}),{onSuccess:()=>{x.value=!1,L()}})})},{default:r(()=>[f(a(t(l)("Pardon")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]}),_:1})}}};export{ra as default};
