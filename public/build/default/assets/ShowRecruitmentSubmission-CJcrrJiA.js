import{i as F,r as B,k as L,s as y,z as T,c as _,w as a,o as l,b as n,u as t,_ as V,a as e,t as o,P as D,f,e as x,p as g,d as c,M as N,y as P,L as K,q as W}from"./app-B6MSbjiR.js";import{u as q,A as M}from"./AppLayout-D09sHPWy.js";import{u as R}from"./useFormKit-DsPcY36i.js";import{_ as z}from"./RecruitmentMessagesBox-BOzMFHVJ.js";import{_ as v}from"./CommonStatusBadge-Bs39Cfhf.js";import{_ as E}from"./DialogModal-npwNiHXf.js";import{_ as H}from"./SecondaryButton-DlFH5Z5x.js";import{X as I}from"./XTextarea-LKGkA8kl.js";import{L as U}from"./LoadingButton-DnqmqSc1.js";import{_ as X}from"./AlertCard-Byhaxell.js";import{r as Y}from"./CheckCircleIcon-DN2Do-hN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DyYhHgsS.js";import"./useAuthorizable-Cf1MTXSt.js";import"./LoadingSpinner-BmmXLfAM.js";import"./UserDisplayname-DrgyYFYl.js";import"./Modal-BiuFhCW2.js";import"./XMarkIcon-o8SeIREM.js";const O={class:"py-4 px-2 md:py-12 md:px-10 max-w-7xl mx-auto"},G={class:"flex justify-between mb-8"},J={class:"font-bold text-xl text-secondary-500 dark:text-secondary-300"},Q={class:"mr-3"},Z={class:"flex space-x-2"},ee={class:"flex flex-col md:flex-row md:space-x-4"},te={class:"flex w-full gap-4 flex-col md:flex-row"},se={class:"md:w-1/2 space-y-4"},oe={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-surface-800"},ie={class:"flex flex-col mt-3"},ne={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},ae={class:"flex items-center justify-between w-full"},re={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},le={class:"flex items-center justify-between w-full"},de={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},ce={class:"flex items-center justify-between w-full"},ue=["title"],me={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},fe={class:"flex items-center justify-between w-full"},xe=["title"],be={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},pe={class:"flex items-center justify-between w-full"},he={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},we={class:"flex items-center justify-between w-full"},ye={class:"w-1/2 whitespace-pre-line text-right"},_e={key:1,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-secondary-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-secondary-400"},ge={class:"flex items-center justify-between w-full"},ve={class:"flex-shrink-0 h-10 w-10 mr-2"},ke=["src"],Ae={class:"flex-col"},Ce={class:"text-sm text-secondary-500"},Se={class:"button-group flex space-x-4 justify-end p-4"},je={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-surface-800"},$e={class:"md:w-1/2 px-3 py-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-surface-800 md:px-10 md:py-5 no-disabled-effect"},Fe={class:"text-lg font-bold"},Be={key:0,class:"text-xs text-secondary-500"},Oe={__name:"ShowRecruitmentSubmission",props:{submission:{type:Object}},setup(s){const{__:i}=W(),{formatTimeAgoToNow:p,formatToDayDateString:h,secondsToHMS:k}=q(),A=s,C=F(()=>A.submission.data.map(d=>({...d,value:d.data}))),S=R().generateSchemaFromFieldsArray(C.value,!0),u=B(!1),m=L({reason:""});return(d,r)=>{const j=y("InertiaLink"),$=y("FormKit"),w=T("tippy");return l(),_(M,null,{default:a(()=>[n(V,{title:t(i)("Your application request for :recruitmenttitle #:index - Applications",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})},null,8,["title"]),e("div",O,[e("div",G,[e("h1",J,[e("span",Q,o(t(i)("Application for :recruitmenttitle #:index",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})),1),n(v,{status:s.submission.status.value},null,8,["status"])]),e("div",Z,[n(t(D),{href:d.route("recruitment-submission.index"),class:"inline-flex items-center px-4 py-2 bg-surface-400 dark:bg-surface-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-surface-500 active:bg-surface-600 focus:outline-none focus:border-secondary-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:a(()=>[e("span",null,o(t(i)("Back")),1)]),_:1},8,["href"])])]),s.submission.status.value==="pending"?(l(),_(X,{key:0,"title-class":"flex items-center","text-color":"text-success-600 dark:text-success-400","border-color":"border-success-500"},{icon:a(()=>[n(t(Y),{class:"h-6 w-6 text-success-500 mr-2"})]),default:a(()=>[f(o(t(i)("Success! A staff will soon review your application. Please be patience."))+" ",1)]),_:1})):x("",!0),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[e("ul",ie,[e("li",ne,[e("div",ae,[e("span",null,o(t(i)("Applicant")),1),e("div",null,o(t(i)("You")),1)])]),e("li",re,[e("div",le,[e("span",null,o(t(i)("Application")),1),e("span",null,o(s.submission.recruitment.title),1)])]),e("li",de,[e("div",ce,[e("span",null,o(t(i)("Created At")),1),g((l(),c("span",{title:t(p)(s.submission.created_at)},[f(o(t(h)(s.submission.created_at)),1)],8,ue)),[[w]])])]),e("li",me,[e("div",fe,[e("span",null,o(t(i)("Last Updated At")),1),g((l(),c("span",{title:t(p)(s.submission.updated_at)},[f(o(t(h)(s.submission.updated_at)),1)],8,xe)),[[w]])])]),e("li",be,[e("div",pe,[e("span",null,o(t(i)("Request Status")),1),n(v,{status:s.submission.status.value},null,8,["status"])])]),s.submission.last_act_reason?(l(),c("li",he,[e("div",we,[e("span",null,o(t(i)("Reason")),1),e("span",ye,o(s.submission.last_act_reason),1)])])):x("",!0),s.submission.last_act_by?(l(),c("li",_e,[e("div",ge,[e("span",null,o(t(i)("Marked :status By",{status:t(N.startCase)(s.submission.status.value)})),1),e("span",null,[n(j,{href:d.route("user.public.get",s.submission.last_actor.username),class:"flex items-center"},{default:a(()=>[e("div",ve,[e("img",{class:"h-10 w-10 rounded-full",src:s.submission.last_actor.profile_photo_url,alt:"Avatar"},null,8,ke)]),e("div",Ae,[e("div",{class:"text-sm font-semibold text-secondary-900 dark:text-secondary-300 whitespace-nowrap truncate",style:P([s.submission.last_actor.roles[0].color?{color:s.submission.last_actor.roles[0].color}:null])},o(s.submission.last_actor.name),5),e("div",Ce," @"+o(s.submission.last_actor.username),1)])]),_:1},8,["href"])])])])):x("",!0)]),e("div",Se,[s.submission.i_can_withdraw?(l(),c("button",{key:0,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-error-500 border border-transparent rounded-md hover:bg-error-700 active:bg-error-900 focus:outline-none focus:border-error-900 focus:shadow-outline-gray",onClick:r[0]||(r[0]=b=>u.value=!0)},[e("span",null,o(t(i)("Withdraw")),1)])):x("",!0)])]),e("div",je,[n(z,{submission:s.submission,"for-admin":!1},null,8,["submission"])])]),e("div",$e,[n($,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:a(()=>[n(t(K),{schema:t(S)},null,8,["schema"])]),_:1})])])])]),n(E,{show:u.value,onClose:r[4]||(r[4]=b=>u.value=!1)},{title:a(()=>[e("h3",Fe,o(t(i)("Withdraw & Cancel Application")),1),s.submission.recruitment.submission_cooldown_in_seconds?(l(),c("p",Be,o(t(i)("Please note that you won't be apply again for a given cooldown period of :hms.",{hms:t(k)(s.submission.recruitment.submission_cooldown_in_seconds,!0)})),1)):x("",!0)]),content:a(()=>[n(I,{modelValue:t(m).reason,"onUpdate:modelValue":r[1]||(r[1]=b=>t(m).reason=b),label:t(i)("Please provide a reason for withdrawing."),error:t(m).errors.reason},null,8,["modelValue","label","error"])]),footer:a(()=>[n(H,{class:"mr-2",onClick:r[2]||(r[2]=b=>u.value=!1)},{default:a(()=>[f(o(t(i)("Cancel")),1)]),_:1}),n(U,{loading:t(m).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-error-500 border border-transparent rounded-md hover:bg-error-700 active:bg-error-900 focus:outline-none focus:border-error-900 focus:shadow-outline-gray",onClick:r[3]||(r[3]=()=>{t(m).post(d.route("recruitment-submission.withdraw",{submission:s.submission.id,recruitment:s.submission.recruitment.slug}),{onSuccess:()=>{u.value=!1}})})},{default:a(()=>[f(o(t(i)("Withdraw")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]),_:1})}}};export{Oe as default};
