import{_ as I}from"./AdminLayout-CgKpHlNL.js";import{u as j}from"./useAuthorizable-CKY4A9EI.js";import{u as C}from"./AppLayout-nTzTLkcY.js";import{s as g,z as v,c as i,w as r,q as L,o,b as n,u as e,a as l,t as a,e as h,d as c,g as T,F as B,p as u,f as k}from"./app-aqw-n-C2.js";import{_ as E}from"./DataTable-BHD5r2G6.js";import{D as p}from"./DtRowItem-Ca68bKhw.js";import{I as D}from"./Icon-BHJIwx4L.js";import{r as V}from"./LockClosedIcon-CowgnIyE.js";import{r as $}from"./LockOpenIcon-Cnn0stSV.js";import{r as q}from"./TrashIcon-CKOyuanZ.js";import"./keyboard-D9MjfX7e.js";import"./open-closed-BVqjHboy.js";import"./CloudArrowDownIcon-D455bD1C.js";import"./index-LiBbe_Xz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue-multiselect.esm-Doco6gya.js";import"./XMarkIcon-Ck8A-WMF.js";import"./hidden-DyfrtWB5.js";const O={class:"px-10 py-8 mx-auto text-secondary-400"},S={class:"flex justify-between mb-4"},z={class:"text-3xl font-bold text-secondary-500 dark:text-secondary-300"},F={class:"flex"},M={class:"hidden md:inline"},R={class:"px-4 py-4 text-sm font-medium text-center text-secondary-800 whitespace-nowrap dark:text-secondary-200"},H={class:"text-sm font-medium text-secondary-900 dark:text-secondary-300"},Q={class:"px-4 text-sm"},U={key:1,class:"italic text-secondary-500"},G=["content"],J=["content"],K={key:1,class:"italic"},W=["content"],X={key:0},Y={key:1,class:"italic text-error-600"},Z={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},ke={__name:"IndexPoll",props:{polls:Object,filters:Object},setup(b){const{can:f}=j(),{__:t}=L(),{formatTimeAgoToNow:x,formatToDayDateString:y}=C(),N=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"question",sortable:!0,label:t("Question")},{key:"options",sortable:!1,label:t("Options")},{key:"started_at",sortable:!0,label:t("Started At")},{key:"closed_at",label:t("End At"),sortable:!0},{key:"created_at",label:t("Created At"),sortable:!0},{key:"created_by",label:t("Created By"),sortable:!0},{key:"is_closed",sortable:!0,label:t("Locked")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(_,ee)=>{const P=g("app-head"),m=g("InertiaLink"),d=v("tippy"),A=v("confirm");return o(),i(I,null,{default:r(()=>[n(P,{title:e(t)("Manage Polls")},null,8,["title"]),l("div",O,[l("div",S,[l("h1",z,a(e(t)("Manage Polls")),1),l("div",F,[e(f)("create polls")?(o(),i(m,{key:0,href:_.route("admin.poll.create"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-surface-800 border border-transparent rounded-md hover:bg-surface-700 active:bg-surface-900 focus:outline-none focus:border-secondary-900 focus:shadow-outline-gray"},{default:r(()=>[l("span",null,a(e(t)("Create New")),1),l("span",M,"Â "+a(e(t)("Poll")),1)]),_:1},8,["href"])):h("",!0)])]),n(E,{class:"bg-white rounded shadow dark:bg-surface-800",header:N,data:b.polls,filters:b.filters},{default:r(({item:s})=>[l("td",R,a(s.id),1),n(p,null,{default:r(()=>[l("div",H,a(s.question),1)]),_:2},1024),l("td",Q,[s.options.length>0?(o(!0),c(B,{key:0},T(s.options,w=>(o(),c("span",{key:w.id,class:"px-2 mr-1 mb-1 inline-flex text-xs leading-5 font-semibold rounded bg-surface-100 text-secondary-800 dark:bg-surface-700 dark:text-secondary-300"},a(w.name),1))),128)):(o(),c("span",U,a(e(t)("No options.")),1))]),n(p,null,{default:r(()=>[u((o(),c("span",{class:"focus:outline-none",content:e(y)(s.started_at)},[k(a(e(x)(s.started_at)),1)],8,G)),[[d]])]),_:2},1024),n(p,null,{default:r(()=>[s.closed_at?u((o(),c("span",{key:0,class:"focus:outline-none",content:e(y)(s.closed_at)},[k(a(e(x)(s.closed_at)),1)],8,J)),[[d]]):(o(),c("span",K,a(e(t)("None")),1))]),_:2},1024),n(p,null,{default:r(()=>[u((o(),c("span",{class:"focus:outline-none",content:e(y)(s.created_at)},[k(a(e(x)(s.created_at)),1)],8,W)),[[d]])]),_:2},1024),n(p,null,{default:r(()=>[s.creator?(o(),c("span",X,a(s.creator.username),1)):(o(),c("span",Y,a(e(t)("None")),1))]),_:2},1024),n(p,null,{default:r(()=>[s.is_closed?(o(),i(D,{key:0,class:"text-success-500",name:"check-circle"})):(o(),i(D,{key:1,class:"text-error-500",name:"cross-circle"}))]),_:2},1024),l("td",Z,[e(f)("update polls")&&!s.is_closed?u((o(),i(m,{key:0,as:"button",method:"put",href:_.route("admin.poll.lock",s.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Lock Poll")},{default:r(()=>[n(e(V),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),e(f)("update polls")&&s.is_closed?u((o(),i(m,{key:1,as:"button",method:"put",href:_.route("admin.poll.unlock",s.id),class:"inline-flex items-center justify-center text-success-600 dark:text-success-500 hover:text-success-800 dark:hover:text-success-800",title:e(t)("Unlock Poll")},{default:r(()=>[n(e($),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),e(f)("delete polls")?u((o(),i(m,{key:2,as:"button",method:"DELETE",href:_.route("admin.poll.delete",s.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Poll")},{default:r(()=>[n(e(q),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[A,{message:"Are you sure you want to delete this Poll permanently?"}],[d]]):h("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{ke as default};
