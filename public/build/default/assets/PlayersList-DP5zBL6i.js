import{o as s,d as i,a as n,q as w,y as v,c as _,w as r,p as C,b as l,u as a,_ as D,m as y,t as o,f,e as h}from"./app-luBSUb-y.js";import{u as S}from"./AppLayout-5FPtFZxB.js";import{u as L}from"./useAuthorizable-BSHISSy0.js";import{_ as B}from"./AdminLayout-ChYp5Oxc.js";import{_ as V}from"./ServerIntelServerSelector-EvPQ2Xd1.js";import{_ as $}from"./DataTable-DuW-yWfz.js";import{D as u}from"./DtRowItem-CR_o6c8K.js";import{m as N}from"./millify-CL79xCE6.js";import{r as E}from"./LockClosedIcon-CECjttZw.js";import{r as I}from"./TrashIcon-DHN1UP5q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DeiOO_W9.js";import"./keyboard-CdSDiPUN.js";import"./open-closed-D1_kXgls.js";import"./CloudArrowDownIcon-GSSk-rVh.js";import"./index-CE5LmwrU.js";import"./XSelect-DpfdoHxs.js";import"./vue-multiselect.esm-CkysRNlb.js";import"./XMarkIcon-DPqCCpTC.js";import"./hidden-BF7pBHXO.js";function M(c,t){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"})])}const R={class:"p-4 mx-auto space-y-4 px-10"},U={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},O={class:"flex items-center"},F=["content"],H=["src"],q={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},z={class:"flex items-center"},J={class:"flex-shrink-0 h-10 w-10"},Z=["src"],G={class:"ml-4"},K={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Q={key:1,class:"text-red-500 italic"},W={key:0},X={key:1},Y={key:0},ee={key:1},te={key:0},ae={key:1},se={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ae={__name:"PlayersList",props:{serverList:{type:Object},countries:{type:Array},filters:{type:Object},data:{type:Object},canResetAnyPlayerPassword:{type:Boolean},canChangeAnyPlayerSkin:{type:Boolean}},setup(c){const{__:t}=C(),{can:g}=L(),{formatTimeAgoToNow:k,formatToDayDateString:x,secondsToHMS:b}=S(),P=c,A=[{key:"country_id",label:t("Flag"),sortable:!0,class:"text-left",filterable:{key:"country.name",type:"multiselect",options:P.countries,searchable:!0}},{key:"player_username",label:t("Username"),sortable:!0,class:"text-left",filterable:{type:"text"}},{key:"server_play_count",label:t("Servers Played"),sortable:!0},{key:"play_time",label:t("Play Time"),sortable:!0},{key:"afk_time",label:t("Afk Time"),sortable:!0},{key:"vault_balance",label:t("Vault Money"),sortable:!0},{key:"last_join_address",label:t("Join Address"),sortable:!0,filterable:{type:"text"}},{key:"last_minecraft_version",label:t("MC Version"),sortable:!0,filterable:{type:"multiselect",options:["1.20","1.19","1.18","1.17","1.16","1.15","1.14","1.13","1.12","1.11","1.10","1.9","1.8"]}},{key:"first_seen_at",label:t("First Seen"),sortable:!0},{key:"last_seen_at",label:t("Last Seen"),sortable:!0},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(p,re)=>{const T=w("inertia-link"),m=w("InertiaLink"),d=v("tippy"),j=v("confirm");return s(),_(B,null,{default:r(()=>[l(D,{title:a(t)("Players - PlayerIntel")},null,8,["title"]),n("div",R,[l(V,{title:a(t)("Players"),"server-list":c.serverList,filters:c.filters},null,8,["title","server-list","filters"]),n("div",null,[l($,{class:"bg-white rounded shadow dark:bg-gray-800",header:A,data:c.data,filters:c.filters},{default:r(({item:e})=>[n("td",U,[n("div",O,[y((s(),i("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[n("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,H)],8,F)),[[d]])])]),n("td",q,[n("div",z,[n("div",J,[n("img",{class:"h-10 w-10",src:e.player.avatar_url,alt:""},null,8,Z)]),n("div",G,[y((s(),_(T,{as:"a",href:p.route("player.show",e.player.uuid),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.player.uuid},{default:r(()=>[e.player_username?(s(),i("span",K,o(e.player_username),1)):(s(),i("span",Q,o(a(t)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])]),l(u,null,{default:r(()=>[f(o(e.server_play_count)+" "+o(a(t)("servers")),1)]),_:2},1024),l(u,null,{default:r(()=>[e.play_time?(s(),i("span",W,o(a(b)(e.play_time,!0)),1)):(s(),i("span",X," -- "))]),_:2},1024),l(u,null,{default:r(()=>[e.afk_time?(s(),i("span",Y,o(a(b)(e.afk_time,!0)),1)):(s(),i("span",ee," -- "))]),_:2},1024),l(u,null,{default:r(()=>[e.vault_balance?(s(),i("span",te,o(a(N)(e.vault_balance,{precision:2})),1)):(s(),i("span",ae," -- "))]),_:2},1024),l(u,null,{default:r(()=>[f(o(e.last_join_address||a(t)("Unknown")),1)]),_:2},1024),l(u,null,{default:r(()=>[f(o(e.last_minecraft_version||a(t)("Unknown")),1)]),_:2},1024),y((s(),_(u,{content:a(x)(e.first_seen_at)},{default:r(()=>[f(o(a(k)(e.first_seen_at)),1)]),_:2},1032,["content"])),[[d]]),y((s(),_(u,{content:a(x)(e.last_seen_at)},{default:r(()=>[f(o(a(k)(e.last_seen_at)),1)]),_:2},1032,["content"])),[[d]]),n("td",se,[c.canChangeAnyPlayerSkin?y((s(),_(m,{key:0,as:"a",href:p.route("change-player-skin.show",{player_uuid:e.player.uuid}),class:"inline-flex items-center justify-center text-sky-400 hover:text-sky-700 focus:outline-none",title:a(t)("Change Skin of this player.")},{default:r(()=>[l(a(M),{class:"w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),c.canResetAnyPlayerPassword?y((s(),_(m,{key:1,as:"a",href:p.route("reset-player-password.show",{player_uuid:e.player.uuid}),class:"inline-flex items-center justify-center text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 focus:outline-none",title:a(t)("Change Password of this player.")},{default:r(()=>[l(a(E),{class:"w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):h("",!0),a(g)("delete players")?y((s(),_(m,{key:2,as:"button",method:"DELETE",href:p.route("admin.intel.player.delete",e.player.uuid),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:a(t)("Delete Player")},{default:r(()=>[l(a(I),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"This action will delete this player stats and unlink account if linked. Are you sure?"}],[d]]):h("",!0)])]),_:1},8,["data","filters"])])])]),_:1})}}};export{Ae as default};
