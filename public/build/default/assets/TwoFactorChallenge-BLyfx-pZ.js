import{J as w}from"./AuthenticationCard-DMtVm0_n.js";import{_ as C}from"./Input-Dkt92_Iy.js";import{_ as L}from"./Label-_ZfnRLzN.js";import{i as g,o,d as n,a as d,t as i,F as u,g as B,e as J,T as A,k as E,s as a,c as F,w as p,b as s,f as m,m as b}from"./app-B6MSbjiR.js";import{L as N}from"./LoadingButton-DnqmqSc1.js";import{A as R}from"./AppLayout-D09sHPWy.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DyYhHgsS.js";import"./useAuthorizable-Cf1MTXSt.js";const U={key:0},S={class:"font-medium text-error-600"},P={class:"mt-3 list-disc list-inside text-sm text-error-600"},D={__name:"ValidationErrors",setup(t){const e=g(()=>A().props.errors),f=g(()=>Object.keys(e.value).length>0);return(y,r)=>f.value?(o(),n("div",U,[d("div",S,i(y.__("Whoops! Something went wrong.")),1),d("ul",P,[(o(!0),n(u,null,B(e.value,(l,_)=>(o(),n("li",{key:_},i(l),1))),128))])])):J("",!0)}},I={components:{AppLayout:R,LoadingButton:N,JetAuthenticationCard:w,JetInput:C,JetLabel:L,JetValidationErrors:D},data(){return{recovery:!1,form:E({code:"",recovery_code:""})}},methods:{toggleRecovery(){this.recovery^=!0,this.$nextTick(()=>{this.recovery?(this.$refs.recovery_code.focus(),this.form.code=""):(this.$refs.code.focus(),this.form.recovery_code="")})},submit(){this.form.post(this.route("two-factor.login"))}}},M={class:"mb-4 text-sm text-secondary-600 dark:text-secondary-400"},O={key:0},W={key:1},$={class:"flex items-center justify-end mt-4"};function q(t,e,f,y,r,l){const _=a("app-head"),k=a("jet-validation-errors"),v=a("jet-label"),h=a("jet-input"),x=a("loading-button"),V=a("jet-authentication-card"),j=a("app-layout");return o(),F(j,null,{default:p(()=>[s(_,{title:t.__("2FA Challenge confirmation")},null,8,["title"]),s(V,null,{default:p(()=>[d("div",M,[r.recovery?(o(),n(u,{key:1},[m(i(t.__("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(o(),n(u,{key:0},[m(i(t.__("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),s(k,{class:"mb-4"}),d("form",{onSubmit:e[3]||(e[3]=b((...c)=>l.submit&&l.submit(...c),["prevent"]))},[r.recovery?(o(),n("div",W,[s(v,{for:"recovery_code",value:t.__("Recovery Code")},null,8,["value"]),s(h,{id:"recovery_code",ref:"recovery_code",modelValue:r.form.recovery_code,"onUpdate:modelValue":e[1]||(e[1]=c=>r.form.recovery_code=c),type:"text",class:"mt-1 block w-full dark:text-secondary-200",autocomplete:"one-time-code"},null,8,["modelValue"])])):(o(),n("div",O,[s(v,{for:"code",value:t.__("Code")},null,8,["value"]),s(h,{id:"code",ref:"code",modelValue:r.form.code,"onUpdate:modelValue":e[0]||(e[0]=c=>r.form.code=c),type:"text",inputmode:"numeric",class:"mt-1 block w-full dark:text-secondary-200",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),d("div",$,[d("button",{type:"button",class:"text-sm text-secondary-600 hover:text-secondary-900 underline cursor-pointer dark:text-secondary-400 dark:hover:text-secondary-200",onClick:e[2]||(e[2]=b((...c)=>l.toggleRecovery&&l.toggleRecovery(...c),["prevent"]))},[r.recovery?(o(),n(u,{key:1},[m(i(t.__("Use an authentication code")),1)],64)):(o(),n(u,{key:0},[m(i(t.__("Use a recovery code")),1)],64))]),s(x,{loading:r.form.processing,class:"ml-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},{default:p(()=>[m(i(t.__("Login")),1)]),_:1},8,["loading"])])],32)]),_:1})]),_:1})}const oe=T(I,[["render",q]]);export{oe as default};
