import{_ as j}from"./AdminLayout-DlC2W12Q.js";import{u as T}from"./useAuthorizable-C3hyZrBu.js";import{u as C}from"./BaseLayout-CbEnUUda.js";import{y as E,z as g,c as n,w as r,s as P,o as a,b as l,j as e,a as o,i as c,t as i,P as u,g as h,d,G as k,v as x,l as B,F as S}from"./app-CKqa03ai.js";import{_ as V}from"./DataTable-DBKHLj0J.js";import{D as f}from"./DtRowItem-B9pg471C.js";import{_ as z}from"./AppBreadcrumb-xm79qTMp.js";import{_ as w}from"./index-Jl4BHiKE.js";import{_ as U}from"./index-s8bxsPUj.js";import{I as v}from"./Icon-yp24RCPW.js";import{r as F}from"./PencilSquareIcon-o_Z5uezI.js";import{r as L}from"./TrashIcon-D5-A_1T9.js";import"./CloudArrowDownIcon-Ba9dDFea.js";import"./index-C1xLcZ71.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-oMML2ssv.js";import"./chevron-down-C5aVEVJv.js";import"./Teleport-BzeA4ril.js";import"./VisuallyHidden-B8DQXMOS.js";import"./x-BvgAlvXN.js";import"./SelectValue-D-GmGA0M.js";import"./useFormControl-BdLrMG8I.js";import"./vue-multiselect.esm-DY0nToq7.js";import"./XMarkIcon-DHdUA9mB.js";const O={class:"px-10 py-8 mx-auto text-foreground"},G={class:"flex justify-between mb-4"},H={class:"flex"},W={class:"px-4 py-4 text-sm font-medium text-center text-foreground whitespace-nowrap dark:text-foreground"},q={class:"flex-shrink-0"},J=["src","alt"],K={class:"px-4 whitespace-nowrap"},M={class:"items-center"},Q={class:"text-sm text-foreground dark:text-foreground"},X=["title"],Y={class:"px-4 py-3 space-x-1 space-y-1 text-sm font-medium"},Z={key:2,class:"italic text-foreground"},ee={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ae={__name:"IndexRole",props:{roles:Object,filters:Object},setup(y){const{can:p}=T(),{__:s}=P(),{formatTimeAgoToNow:D,formatToDayDateString:R}=C(),I=[{text:s("Admin"),current:!1},{text:s("User Roles & Permissions"),current:!0}],A=[{key:"id",label:s("ID"),sortable:!0,class:"text-center"},{key:"image",sortable:!1,label:s("Image")},{key:"name",sortable:!0,label:s("Name")},{key:"users_count",label:s("Users")},{key:"is_staff",label:s("Staff"),sortable:!0},{key:"created_at",label:s("Created"),sortable:!0,class:"w-1/12"},{key:"permissions",sortable:!1,label:s("Permissions"),class:"w-5/12"},{key:"weight",sortable:!0,label:s("Weight")},{key:"actions",label:s("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(m,te)=>{const N=E("app-head"),_=g("tippy"),$=g("confirm");return a(),n(j,null,{default:r(()=>[l(N,{title:e(s)("Users Roles Administration")},null,8,["title"]),o("div",O,[o("div",G,[l(z,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:I}),o("div",H,[e(p)("create roles")?(a(),n(e(U),{key:0,"as-child":""},{default:r(()=>[l(e(u),{href:m.route("admin.role.create")},{default:r(()=>[c(i(e(s)("Create Role")),1)]),_:1},8,["href"])]),_:1})):h("",!0)])]),l(V,{class:"bg-card rounded-lg shadow",header:A,data:y.roles,filters:y.filters},{default:r(({item:t})=>[o("td",W,i(t.id),1),o("td",null,[o("div",q,[t.photo_url?(a(),d("img",{key:0,class:"max-h-8",src:t.photo_url,alt:e(s)("Role Image")},null,8,J)):(a(),d("div",{key:1,class:"inline-flex whitespace-nowrap font-bold uppercase leading-5 p-1.5 bg-primary text-white rounded-sm",style:k(`background-color: ${t.color};`)},i(t.display_name),5))])]),o("td",K,[o("div",M,[o("div",{class:"text-sm font-semibold text-foreground dark:text-foreground",style:k([t.color?{color:t.color}:null])},i(t.display_name),5),o("div",Q,i(t.name),1)])]),l(f,null,{default:r(()=>[l(e(u),{class:"hover:text-primary",href:m.route("admin.user.index",{filter:{"roles.display_name":t.display_name}})},{default:r(()=>[c(i(t.users_count),1)]),_:2},1032,["href"])]),_:2},1024),l(f,null,{default:r(()=>[t.is_staff?(a(),n(v,{key:0,class:"text-success-500",name:"check-circle"})):(a(),n(v,{key:1,class:"text-error-500",name:"cross-circle"}))]),_:2},1024),l(f,null,{default:r(()=>[x((a(),d("span",{title:e(R)(t.created_at)},[c(i(e(D)(t.created_at)),1)],8,X)),[[_]])]),_:2},1024),o("td",Y,[t.name==="superadmin"?(a(),n(e(w),{key:0,variant:"outline",class:"bg-primary/10 text-primary"},{default:r(()=>[c(i(e(s)("All Permissions")),1)]),_:1})):t.permissions.length>0?(a(!0),d(S,{key:1},B(t.permissions,b=>(a(),n(e(w),{key:b.id,variant:"outline"},{default:r(()=>[c(i(b.name),1)]),_:2},1024))),128)):(a(),d("span",Z,i(e(s)("No administration permissions for this role.")),1))]),l(f,null,{default:r(()=>[c(i(t.weight),1)]),_:2},1024),o("td",ee,[e(p)("update roles")?x((a(),n(e(u),{key:0,as:"a",href:m.route("admin.role.edit",t.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(s)("Edit Role")},{default:r(()=>[l(e(F),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[_]]):h("",!0),e(p)("delete roles")?x((a(),n(e(u),{key:1,as:"button",method:"DELETE",href:m.route("admin.role.delete",t.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(s)("Delete Role")},{default:r(()=>[l(e(L),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[$,{message:"Are you sure you want to delete this Role permanently?"}],[_]]):h("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{Ae as default};
