import{k as U,y as k,z as E,c as R,w as d,s as C,o as p,b as a,j as e,a as r,f as S,v as u,d as f,I as N,t as c,g as _,P as A,i as h}from"./app-Bh5uq5T2.js";import{_ as $}from"./AdminLayout-CjagHNcW.js";import{_ as j}from"./AppBreadcrumb-CEuU89zV.js";import{_ as b}from"./index-Bvduyk2Y.js";import{_ as n}from"./XInput-DCzxRxFm.js";import{_ as g}from"./XSwitch-CKXNt_tU.js";import{_ as B}from"./ImageUpload-CCx5Nybb.js";import{s as I}from"./vue-multiselect.esm-lFmy1_TG.js";import"./useAuthorizable-B2TCKEv8.js";import"./CloudArrowDownIcon-peUI9MxF.js";import"./BaseLayout-DfXV1WNK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B54a8he6.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./Input-L4k_NWmM.js";import"./Label-Ba68SC45.js";import"./Switch-BuK66UNA.js";import"./useFormControl-pZlKIA-M.js";const M={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},T={class:"flex justify-between mb-4"},D={class:"mt-6"},P={class:"shadow rounded-lg"},z={class:"px-4 py-5 bg-card sm:p-6"},H={class:"grid grid-cols-6 gap-6"},O={class:"col-span-6"},W=["content"],F={class:"col-span-6 sm:col-span-3"},L={class:"col-span-6 sm:col-span-6"},q={class:"col-span-6 sm:col-span-3"},G={class:"col-span-6 sm:col-span-3"},J={class:"col-span-6 sm:col-span-3"},K={class:"col-span-6 sm:col-span-3"},Q={class:"col-span-6 sm:col-span-6"},X={for:"permissions",class:"block text-sm font-medium text-foreground mb-2"},Y={key:0,class:"text-xs text-destructive mt-2"},Z={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},ee={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ke={__name:"EditRole",props:{permissions:Array,role:Object},setup(m){const{__:s}=C(),i=m,w=[{text:s("Admin"),current:!1},{text:s("Roles"),url:route("admin.role.index"),current:!1},{text:s("Edit Role"),current:!0},{text:i.role.name||i.role.id,current:!0}],o=U({name:i.role.name,display_name:i.role.display_name,color:i.role.color,weight:i.role.weight,is_staff:i.role.is_staff,is_hidden_from_staff_list:i.role.is_hidden_from_staff_list,permissions:i.role.permissions,web_message_format:i.role.web_message_format,photo:null,_method:"PUT"});function x(){o.post(route("admin.role.update",i.role.id),{preserveScroll:!0})}return(v,l)=>{const V=k("app-head"),y=E("tippy");return p(),R($,null,{default:d(()=>[a(V,{title:e(s)("Edit Role - :name",{name:m.role.name})},null,8,["title"]),r("div",M,[r("div",T,[a(j,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:w})]),r("div",D,[r("form",{onSubmit:S(x,["prevent"])},[r("div",P,[r("div",z,[r("div",H,[r("div",O,[a(B,{id:"photo",name:"photo",label:e(s)("Role Image (Optional)"),"current-url":m.role.photo_url,modelValue:e(o).photo,"onUpdate:modelValue":l[0]||(l[0]=t=>e(o).photo=t),error:e(o).errors.photo,removable:!1,shape:"rect","preview-class":"h-16 w-full max-w-xs","upload-label":e(s)("Upload"),"change-label":e(s)("Change"),"object-fit":"contain"},null,8,["label","current-url","modelValue","error","upload-label","change-label"])]),u((p(),f("div",{content:e(s)("Role name cannot be changed!"),class:"col-span-6 sm:col-span-3 focus:outline-none"},[a(n,{id:"name",modelValue:e(o).name,"onUpdate:modelValue":l[1]||(l[1]=t=>e(o).name=t),label:e(s)("Role Name"),help:e(s)("Eg: superadmin"),error:e(o).errors.name,type:"text",name:"name",disabled:!0},null,8,["modelValue","label","help","error"])],8,W)),[[y]]),r("div",F,[a(n,{id:"display_name",modelValue:e(o).display_name,"onUpdate:modelValue":l[2]||(l[2]=t=>e(o).display_name=t),label:e(s)("Display Name"),help:e(s)("Eg: Super Administrator"),error:e(o).errors.display_name,type:"text",name:"display_name"},null,8,["modelValue","label","help","error"])]),r("div",L,[a(n,{id:"web_message_format",modelValue:e(o).web_message_format,"onUpdate:modelValue":l[3]||(l[3]=t=>e(o).web_message_format=t),label:e(s)("Web Message Format"),help:e(s)("Eg: &4&b{USERNAME}&r&7"),error:e(o).errors.web_message_format,type:"text",name:"web_message_format"},null,8,["modelValue","label","help","error"])]),r("div",q,[a(n,{id:"color",modelValue:e(o).color,"onUpdate:modelValue":l[4]||(l[4]=t=>e(o).color=t),label:e(s)("Color"),help:e(s)("Eg: #ff00ff"),error:e(o).errors.color,type:"text",name:"color"},null,8,["modelValue","label","help","error"])]),r("div",G,[a(n,{id:"weight",modelValue:e(o).weight,"onUpdate:modelValue":l[5]||(l[5]=t=>e(o).weight=t),label:e(s)("Weight"),help:e(s)("More important the role more the weight"),error:e(o).errors.weight,type:"number",name:"weight"},null,8,["modelValue","label","help","error"])]),r("div",J,[a(g,{id:"is_staff",modelValue:e(o).is_staff,"onUpdate:modelValue":l[6]||(l[6]=t=>e(o).is_staff=t),label:e(s)("Is Staff"),help:e(s)("This role is a staff member. This flag is used to let other know staff and show admin panel."),name:"is_staff",error:e(o).errors.is_staff},null,8,["modelValue","label","help","error"])]),r("div",K,[a(g,{id:"is_hidden_from_staff_list",modelValue:e(o).is_hidden_from_staff_list,"onUpdate:modelValue":l[7]||(l[7]=t=>e(o).is_hidden_from_staff_list=t),label:e(s)("Is Hidden from List"),help:e(s)("Hide this role from staff list."),name:"is_hidden_from_staff_list",error:e(o).errors.is_hidden_from_staff_list},null,8,["modelValue","label","help","error"])]),u(r("div",Q,[r("label",X,c(e(s)("Administrative Permissions")),1),a(e(I),{id:"permissions",modelValue:e(o).permissions,"onUpdate:modelValue":l[8]||(l[8]=t=>e(o).permissions=t),class:"block w-full border-input rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:m.permissions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:e(s)("Search")+"..."},null,8,["modelValue","options","placeholder"]),e(o).errors.permissions?(p(),f("p",Y,c(e(o).errors.permissions),1)):_("",!0)],512),[[N,e(o).is_staff]])])]),r("div",Z,[a(e(b),{variant:"outline","as-child":""},{default:d(()=>[a(e(A),{href:v.route("admin.role.index")},{default:d(()=>[h(c(e(s)("Cancel")),1)]),_:1},8,["href"])]),_:1}),a(e(b),{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(p(),f("svg",ee,l[9]||(l[9]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):_("",!0),h(" "+c(e(s)("Update Role")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{ke as default};
