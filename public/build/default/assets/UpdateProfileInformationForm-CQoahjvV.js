import{U as M,h as W,k as X,p as q,d as m,a as u,j as e,b as a,g as p,w as O,f as z,W as N,o as _,i as H,t as J,s as K}from"./app-U7F8fpli.js";import{L as Q}from"./LoadingButton-3uO-F0Ri.js";import{_ as i}from"./XInput-BDEE9hP4.js";import{_ as $}from"./XSwitch-phYk7buG.js";import{_ as b}from"./XSelect-Bvz_sVNL.js";import{_ as Z}from"./XTextarea-BKaOdfFk.js";import{X as ee}from"./XDatePicker-Bfak2toC.js";import{_ as A}from"./ImageUpload-CFfmc7vy.js";import"./index-BIDzpq-S.js";import"./index-DJrfnRDw.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./loader-circle-Cf56TrYy.js";import"./Input-Jm5v012Z.js";import"./Label-QdY1-dCJ.js";import"./Switch-DSRlLJSv.js";import"./useForwardPropsEmits-Cna_72YH.js";import"./useFormControl-Dc8lgYxH.js";import"./VisuallyHidden-ZQVZzJuH.js";import"./SelectValue-IEdi3iNm.js";import"./Teleport-BxlbW6xz.js";import"./chevron-down-DD1FIYC6.js";import"./Textarea-fov5xEoB.js";import"./index.es-CLCBrf2o.js";import"./Icon-B7smHmqf.js";const le={class:"grid grid-cols-6 gap-6"},oe={key:0,class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},se={class:"col-span-6 sm:col-span-3"},te={class:"col-span-6 sm:col-span-3"},ae={class:"col-span-6 sm:col-span-3"},ue={class:"col-span-6 sm:col-span-3"},ie={class:"col-span-6 sm:col-span-3"},ne={key:1,class:"col-span-6 sm:col-span-3 md:mt-9"},de={class:"col-span-6 sm:col-span-3"},me={key:2,class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},pe={class:"col-span-6 sm:col-span-3"},ce={class:"col-span-6 sm:col-span-3"},be={class:"col-span-6 sm:col-span-3"},he={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},ge={class:"col-span-6 sm:col-span-3"},we={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-3"},Ve={class:"col-span-6 sm:col-span-3"},ke={key:3,class:"col-span-6 sm:col-span-3"},ye={class:"flex items-center justify-end pt-6 gap-4"},He={__name:"UpdateProfileInformationForm",props:["user"],setup(D){var f,g,w,v,V,k,y,U,S,x,L,P,E,R,T,B,I,C;const{__:o}=K(),t=D,c=M(),n=t.user,h=W({}),l=X({_method:"PUT",name:t.user.name,photo:null,cover_image:null,dob:t.user.dob,gender:t.user.gender,cover_image_url:t.user.cover_image_url,s_discord_username:((g=(f=t.user)==null?void 0:f.social_links)==null?void 0:g.s_discord_username)??null,s_steam_profile_url:((v=(w=t.user)==null?void 0:w.social_links)==null?void 0:v.s_steam_profile_url)??null,s_twitter_url:((k=(V=t.user)==null?void 0:V.social_links)==null?void 0:k.s_twitter_url)??null,s_youtube_url:((U=(y=t.user)==null?void 0:y.social_links)==null?void 0:U.s_youtube_url)??null,s_facebook_url:((x=(S=t.user)==null?void 0:S.social_links)==null?void 0:x.s_facebook_url)??null,s_twitch_url:((P=(L=t.user)==null?void 0:L.social_links)==null?void 0:P.s_twitch_url)??null,s_linkedin_url:((R=(E=t.user)==null?void 0:E.social_links)==null?void 0:R.s_linkedin_url)??null,s_tiktok_url:((B=(T=t.user)==null?void 0:T.social_links)==null?void 0:B.s_tiktok_url)??null,s_website_url:((C=(I=t.user)==null?void 0:I.social_links)==null?void 0:C.s_website_url)??null,about:t.user.about,profile_photo_source:t.user.settings&&t.user.settings.profile_photo_source?t.user.settings.profile_photo_source:null,show_gender:t.user.settings?!!+t.user.settings.show_gender:!1,show_yob:t.user.settings?!!+t.user.settings.show_yob:!1,locale:t.user.locale}),G=()=>{const d=l.locale!==t.user.locale;l.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,preserveState:"errors",onSuccess:()=>{Toast.fire({icon:"success",title:o("Profile Updated!"),timer:3e3}),d&&location.reload()}})},Y=()=>{N.delete(route("current-user-photo.destroy"),{preserveScroll:!0,preserveState:!1,onSuccess:()=>{}})},j=()=>{N.delete(route("current-user-cover.destroy"),{preserveScroll:!0,preserveState:!1,onSuccess:()=>{}})},F=()=>{axios.get(route("locale.list")).then(d=>{d.data.forEach(r=>{h.value[r.code]=r.display})}).catch(d=>{console.log(d)})};return q(()=>{c.props.localeSwitcherEnabled&&F()}),(d,s)=>(_(),m("form",{onSubmit:z(G,["prevent"])},[u("div",le,[e(c).props.jetstream.managesProfilePhotos?(_(),m("div",oe,[a(A,{id:"photo",name:"photo",label:e(o)("Avatar"),"current-url":e(n).profile_photo_url,modelValue:e(l).photo,"onUpdate:modelValue":s[0]||(s[0]=r=>e(l).photo=r),error:e(l).errors.photo,removable:!!e(n).profile_photo_path,shape:"circle","preview-class":"h-28 w-28",onRemove:Y},null,8,["label","current-url","modelValue","error","removable"])])):p("",!0),u("div",re,[a(A,{id:"coverImage",name:"cover_image",label:e(o)("Profile Cover Image"),"current-url":e(n).cover_image_url,modelValue:e(l).cover_image,"onUpdate:modelValue":s[1]||(s[1]=r=>e(l).cover_image=r),error:e(l).errors.cover_image,removable:!!e(n).cover_image_path,shape:"rect","preview-class":"h-28 w-full",onRemove:j},null,8,["label","current-url","modelValue","error","removable"])]),u("div",se,[a(i,{id:"username","model-value":e(n).username,label:e(o)("Username"),error:e(l).errors.username,type:"text",name:"username",disabled:!0},null,8,["model-value","label","error"])]),u("div",te,[a(i,{id:"email","model-value":e(n).email,label:e(o)("Email"),error:e(l).errors.email,type:"email",name:"email",disabled:!0},null,8,["model-value","label","error"])]),u("div",ae,[a(i,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[2]||(s[2]=r=>e(l).name=r),label:e(o)("Name"),error:e(l).errors.name,required:!0,autocomplete:"name",type:"text",name:"name"},null,8,["modelValue","label","error"])]),u("div",ue,[a(b,{id:"profile_photo_source",modelValue:e(l).profile_photo_source,"onUpdate:modelValue":s[3]||(s[3]=r=>e(l).profile_photo_source=r),name:"profile_photo_source",error:e(l).errors.profile_photo_source,label:e(o)("Use Avatar from"),"select-list":{linked_player:"Linked Player",gravatar:"Gravatar"},placeholder:e(o)("Uploaded Photo")},null,8,["modelValue","error","label","placeholder"])]),u("div",ie,[a(ee,{id:"dob",modelValue:e(l).dob,"onUpdate:modelValue":s[4]||(s[4]=r=>e(l).dob=r),label:e(o)("Date of Birth"),placeholder:e(o)("Select your date of birth"),error:e(l).errors.dob,name:"dob"},null,8,["modelValue","label","placeholder","error"])]),e(l).dob?(_(),m("div",ne,[a($,{id:"show_yob",modelValue:e(l).show_yob,"onUpdate:modelValue":s[5]||(s[5]=r=>e(l).show_yob=r),label:e(o)("Show Year of Birth"),help:e(o)("Show Year of Birth in your public profile."),name:"show_yob",error:e(l).errors.show_yob},null,8,["modelValue","label","help","error"])])):p("",!0),u("div",de,[a(b,{id:"gender",modelValue:e(l).gender,"onUpdate:modelValue":s[6]||(s[6]=r=>e(l).gender=r),name:"gender",error:e(l).errors.gender,label:e(o)("Gender"),placeholder:e(o)("Prefer not to say"),"select-list":{m:e(o)("Male"),f:e(o)("Female"),o:e(o)("Others")}},null,8,["modelValue","error","label","placeholder","select-list"])]),e(l).gender?(_(),m("div",me,[a($,{id:"show_gender",modelValue:e(l).show_gender,"onUpdate:modelValue":s[7]||(s[7]=r=>e(l).show_gender=r),label:e(o)("Show Gender"),help:e(o)("Show Gender in your public profile."),name:"show_gender",error:e(l).errors.show_gender},null,8,["modelValue","label","help","error"])])):p("",!0),u("div",_e,[a(i,{id:"s_discord_username",modelValue:e(l).s_discord_username,"onUpdate:modelValue":s[8]||(s[8]=r=>e(l).s_discord_username=r),label:e(o)("Discord Username"),error:e(l).errors.s_discord_username,autocomplete:"s_discord_username",type:"text",name:"s_discord_username",help:e(o)("Eg: username#1234")},null,8,["modelValue","label","error","help"])]),u("div",pe,[a(i,{id:"s_steam_profile_url",modelValue:e(l).s_steam_profile_url,"onUpdate:modelValue":s[9]||(s[9]=r=>e(l).s_steam_profile_url=r),label:e(o)("Steam Profile URL"),error:e(l).errors.s_steam_profile_url,autocomplete:"s_steam_profile_url",type:"text",name:"s_steam_profile_url",help:e(o)("Eg: https://steamcommunity.com/id/username")},null,8,["modelValue","label","error","help"])]),u("div",ce,[a(i,{id:"s_twitter_url",modelValue:e(l).s_twitter_url,"onUpdate:modelValue":s[10]||(s[10]=r=>e(l).s_twitter_url=r),label:e(o)("Twitter Profile URL"),error:e(l).errors.s_twitter_url,autocomplete:"s_twitter_url",type:"text",name:"s_twitter_url",help:e(o)("Eg: https://twitter.com/@username")},null,8,["modelValue","label","error","help"])]),u("div",be,[a(i,{id:"s_youtube_url",modelValue:e(l).s_youtube_url,"onUpdate:modelValue":s[11]||(s[11]=r=>e(l).s_youtube_url=r),label:e(o)("YouTube URL"),error:e(l).errors.s_youtube_url,autocomplete:"s_youtube_url",type:"text",name:"s_youtube_url",help:e(o)("Eg: https://www.youtube.com/minecraft")},null,8,["modelValue","label","error","help"])]),u("div",he,[a(i,{id:"s_facebook_url",modelValue:e(l).s_facebook_url,"onUpdate:modelValue":s[12]||(s[12]=r=>e(l).s_facebook_url=r),label:e(o)("Facebook URL"),error:e(l).errors.s_facebook_url,autocomplete:"s_facebook_url",type:"text",name:"s_facebook_url",help:"Eg: https://facebook.com/minecraft"},null,8,["modelValue","label","error"])]),u("div",fe,[a(i,{id:"s_twitch_url",modelValue:e(l).s_twitch_url,"onUpdate:modelValue":s[13]||(s[13]=r=>e(l).s_twitch_url=r),label:e(o)("Twitch URL"),error:e(l).errors.s_twitch_url,autocomplete:"s_twitch_url",type:"text",name:"s_twitch_url",help:e(o)("Eg: https://www.twitch.tv/minecraft")},null,8,["modelValue","label","error","help"])]),u("div",ge,[a(i,{id:"s_tiktok_url",modelValue:e(l).s_tiktok_url,"onUpdate:modelValue":s[14]||(s[14]=r=>e(l).s_tiktok_url=r),label:e(o)("TikTok URL"),error:e(l).errors.s_tiktok_url,autocomplete:"s_tiktok_url",type:"text",name:"s_tiktok_url",help:e(o)("Eg: https://www.tiktok.com/@minecraft")},null,8,["modelValue","label","error","help"])]),u("div",we,[a(i,{id:"s_linkedin_url",modelValue:e(l).s_linkedin_url,"onUpdate:modelValue":s[15]||(s[15]=r=>e(l).s_linkedin_url=r),label:e(o)("LinkedIn URL"),error:e(l).errors.s_linkedin_url,autocomplete:"s_linkedin_url",type:"text",name:"s_linkedin_url",help:e(o)("Eg: https://www.linkedin.com/in/minecraft")},null,8,["modelValue","label","error","help"])]),u("div",ve,[a(i,{id:"s_website_url",modelValue:e(l).s_website_url,"onUpdate:modelValue":s[16]||(s[16]=r=>e(l).s_website_url=r),label:e(o)("Website URL"),error:e(l).errors.s_website_url,autocomplete:"s_website_url",type:"text",name:"s_website_url",help:e(o)("Eg: https://my-personal-blog.com")},null,8,["modelValue","label","error","help"])]),u("div",Ve,[a(Z,{id:"about",modelValue:e(l).about,"onUpdate:modelValue":s[17]||(s[17]=r=>e(l).about=r),label:e(o)("About Yourself"),help:e(o)("Something about yourself in 255 characters."),error:e(l).errors.about,name:"about"},null,8,["modelValue","label","help","error"])]),e(c).props.localeSwitcherEnabled?(_(),m("div",ke,[a(b,{id:"locale",modelValue:e(l).locale,"onUpdate:modelValue":s[18]||(s[18]=r=>e(l).locale=r),name:"locale",error:e(l).errors.locale,label:e(o)("Language"),placeholder:e(o)("Select Language..."),"select-list":h.value},null,8,["modelValue","error","label","placeholder","select-list"])])):p("",!0)]),u("div",ye,[a(Q,{loading:e(l).processing},{default:O(()=>[H(J(e(o)("Save")),1)]),_:1},8,["loading"])])],32))}};export{He as default};
