import{_ as j}from"./Card-rlQgMSQR.js";import{_ as J}from"./CardContent-r4Z7iLTW.js";import{_ as U}from"./CardHeader-D5Hcub2X.js";import{_ as E}from"./CardTitle-CtUjdnbk.js";import{J as H,o as i,d as u,a,c as M,w as p,b as o,j as e,S as pe,n as k,i as w,t as n,g as L,h as C,p as ie,T as B,H as se,q as ae,K as he,O as K,z as ge,v as F,_ as _e}from"./app-U7F8fpli.js";import{_ as xe}from"./AdminLayout-D8GEwtQf.js";import{m as q}from"./millify-ebNsUx0O.js";import{_ as ce}from"./Chart-C1CJFRz0.js";import{_ as we,a as ve,b as be}from"./PlayersMinecraftVersionMetricBox-CASwC5WR.js";import{L as ye}from"./LoadingSpinner-BKs9uA0r.js";import{u as de}from"./BaseLayout-DEET2uXb.js";import{r as ne,a as ke}from"./UserGroupIcon-Cg_F0o2O.js";import{r as Te}from"./ChartBarIcon-Ck1FYCvp.js";import{u as Pe}from"./useAuthorizable-CBLWtNMn.js";import{r as Ce}from"./UserIcon-CNqI6dM6.js";import"./utils-D-KgF5mV.js";import"./CloudArrowDownIcon-ChdPVNs0.js";import"./index-DJrfnRDw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B7smHmqf.js";import"./useForwardPropsEmits-Cna_72YH.js";import"./chevron-down-DD1FIYC6.js";import"./Teleport-BxlbW6xz.js";import"./VisuallyHidden-ZQVZzJuH.js";import"./x-CG4zJPiG.js";const{Axios:ns,AxiosError:re,CanceledError:rs,isCancel:os,CancelToken:ls,VERSION:is,all:cs,Cancel:ds,isAxiosError:us,spread:fs,toFormData:ms,AxiosHeaders:ps,HttpStatusCode:hs,formToJSON:gs,getAdapter:_s,mergeConfig:xs}=H;function $e(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function Ne(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function Ae(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}const Se={class:"flex items-end justify-between space-x-4"},Fe={class:"text-4xl font-bold text-card-foreground"},qe={key:0,class:"text-end"},Me={class:"text-xs text-muted-foreground whitespace-nowrap"},ue={__name:"KpiOverviewCard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-muted-foreground bg-muted"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},subValueClass:{type:[Array,String],required:!1,default:"text-foreground"},description:{type:[String,Number],required:!1,default:null},descriptionClass:{type:[Array,String],required:!1,default:"text-foreground"},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeClass:{type:[Array,String],required:!1,default:"text-muted-foreground"},changeDesc:{type:[String,Number],required:!1,default:null}},setup(t){return(r,s)=>(i(),M(e(j),null,{default:p(()=>[o(e(U),{class:"flex flex-row items-center space-x-2 pb-2"},{default:p(()=>[(i(),M(pe(t.icon),{class:k(["w-6 h-6 p-1 rounded-full",t.iconClass])},null,8,["class"])),o(e(E),{class:"text-sm font-medium"},{default:p(()=>[w(n(r.__(t.title)),1)]),_:1})]),_:1}),o(e(J),null,{default:p(()=>[a("div",Se,[a("div",null,[a("p",Fe,[w(n(t.value)+" ",1),t.subValue?(i(),u("span",{key:0,class:k(["text-sm font-semibold",t.subValueClass])},n(t.subValue),3)):L("",!0)]),t.description?(i(),u("p",{key:0,class:k(["text-xs",t.descriptionClass])},n(r.__(t.description)),3)):L("",!0)]),t.change?(i(),u("div",qe,[a("span",{class:k(["text-sm w-12 font-bold rounded-full px-2 py-0.5",t.changeClass])},n(t.change),3),a("p",Me,n(r.__(t.changeDesc)),1)])):L("",!0)])]),_:1})]),_:1}))}};function Ve(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z","clip-rule":"evenodd"})])}function Ze(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z","clip-rule":"evenodd"})])}function Be(t,r){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"})])}const W={__name:"KpiOverviewCardForDashboard",props:{icon:{type:[Object,Function],required:!0},iconClass:{type:[Array,String],required:!1,default:"text-muted-foreground bg-muted"},title:{type:[String,Number],required:!0},subValue:{type:[String,Number],required:!1,default:null},description:{type:[String,Number],required:!1,default:null},value:{type:[String,Number],required:!0},change:{type:[String,Number],required:!1,default:null},changeDesc:{type:[String,Number],required:!1,default:null}},setup(t){return(r,s)=>(i(),M(ue,{class:"flex-1",title:t.title,value:e(q)(t.value),"sub-value":`(+${t.subValue})`,"sub-value-class":[t.subValue>0?"text-green-500":"text-muted-foreground"],change:`+${e(q)(t.change,{precision:2})}%`,"change-class":[t.change>0?"text-green-500":"text-muted-foreground"],"change-desc":t.changeDesc,icon:t.icon,"icon-class":t.iconClass,description:t.description},null,8,["title","value","sub-value","sub-value-class","change","change-class","change-desc","icon","icon-class","description"]))}},Le={__name:"PlayersOverTimeMetricBox",setup(t){let r=C({}),s=C(null),d=C(!0);return ie(async()=>{const f=await H.get(route("admin.graph.online-players"));d.value=!1,s.value=f.data,r.value={tooltip:{trigger:"axis",position:function(g){return[g[0],"10%"]}},legend:{},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:"time"},yAxis:{type:"value",boundaryGap:[0,"10%"]},dataZoom:[{type:"inside",start:90,end:100,zoomLock:!0},{start:90,end:100}],series:s.value.servers.map((g,l)=>({name:g,type:"line",smooth:!0,symbol:"none",seriesLayoutBy:"column",encode:{y:l+1},emphasis:{focus:"series"}})),dataset:{source:s.value.data}}}),(f,g)=>(i(),M(e(j),{class:"w-full h-full"},{default:p(()=>[o(e(U),null,{default:p(()=>[o(e(E),null,{default:p(()=>[w(n(f.__("Online Players")),1)]),_:1})]),_:1}),o(e(J),{class:"pt-0"},{default:p(()=>[o(ce,{options:e(r),height:"350px",loading:e(d),autoresize:!0},null,8,["options","loading"])]),_:1})]),_:1}))}},De={__name:"PlayersPerServerMetricBox",setup(t){let r=C({}),s=C(null),d=C(!0);return ie(async()=>{const f=await H.get(route("admin.graph.players-per-server"));d.value=!1,s.value=f.data,r.value={tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{}}},legend:{top:"2%",left:"center"},series:[{name:"Unique Players",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:window.colorMode==="dark"?"#1f2937":"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:s.value}]}}),(f,g)=>(i(),M(e(j),{class:"w-full h-full"},{default:p(()=>[o(e(U),null,{default:p(()=>[o(e(E),null,{default:p(()=>[w(n(f.__("Players per server")),1)]),_:1})]),_:1}),o(e(J),{class:"pt-0"},{default:p(()=>[o(ce,{options:e(r),height:"350px",loading:e(d),autoresize:!0},null,8,["options","loading"])]),_:1})]),_:1}))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const oe=()=>{};function le(t,r=!1,s="Timeout"){return new Promise((d,f)=>{setTimeout(r?()=>f(s):d,t)})}function G(t,r=!1){function s(c,{flush:_="sync",deep:b=!1,timeout:T,throwOnTimeout:A}={}){let h=null;const $=[new Promise(y=>{h=se(t,P=>{c(P)!==r&&(h?h():ae(()=>h==null?void 0:h()),y(P))},{flush:_,deep:b,immediate:!0})})];return T!=null&&$.push(le(T,A).then(()=>B(t)).finally(()=>h==null?void 0:h())),Promise.race($)}function d(c,_){if(!he(c))return s(P=>P===c,_);const{flush:b="sync",deep:T=!1,timeout:A,throwOnTimeout:h}=_??{};let x=null;const y=[new Promise(P=>{x=se([t,c],([V,I])=>{r!==(V===I)&&(x?x():ae(()=>x==null?void 0:x()),P(V))},{flush:b,deep:T,immediate:!0})})];return A!=null&&y.push(le(A,h).then(()=>B(t)).finally(()=>(x==null||x(),B(t)))),Promise.race(y)}function f(c){return s(_=>!!_,c)}function g(c){return d(null,c)}function l(c){return d(void 0,c)}function N(c){return s(Number.isNaN,c)}function v(c,_){return s(b=>{const T=Array.from(b);return T.includes(c)||T.includes(B(c))},_)}function D(c){return Z(1,c)}function Z(c=1,_){let b=-1;return s(()=>(b+=1,b>=c),_)}return Array.isArray(B(t))?{toMatch:s,toContains:v,changed:D,changedTimes:Z,get not(){return G(t,!r)}}:{toMatch:s,toBe:d,toBeTruthy:f,toBeNull:g,toBeNaN:N,toBeUndefined:l,changed:D,changedTimes:Z,get not(){return G(t,!r)}}}function Ie(t){return G(t)}function Oe(...t){const r=typeof t[0]=="string"?t[0]:void 0,s=typeof r=="string"?1:0,d={immediate:!!s,shallow:!0,abortPrevious:!0};let f={},g=H,l=d;const N=m=>!!(m!=null&&m.request);t.length>0+s&&(N(t[0+s])?g=t[0+s]:f=t[0+s]),t.length>1+s&&N(t[1+s])&&(g=t[1+s]),(t.length===2+s&&!N(t[1+s])||t.length===3+s)&&(l=t[t.length-1]||d);const{shallow:v,onSuccess:D=oe,onError:Z=oe,immediate:c,resetOnExecute:_=!1}=l,b=l.initialData,T=K(),A=(v?K:C)(b),h=C(!1),x=C(!1),$=C(!1),y=K();let P=new AbortController;const V=m=>{h.value||!x.value||(P.abort(m),P=new AbortController,$.value=!0,x.value=!1,h.value=!1)},I=m=>{x.value=m,h.value=!m},fe=()=>{_&&(A.value=b)},Y=()=>new Promise((m,O)=>{Ie(h).toBe(!0).then(()=>y.value?O(y.value):m(X))}),R={then:(...m)=>Y().then(...m),catch:(...m)=>Y().catch(...m)};let z=0;const Q=(m=r,O={})=>{y.value=void 0;const ee=typeof m=="string"?m:r??O.url;if(ee===void 0)return y.value=new re(re.ERR_INVALID_URL),h.value=!0,R;fe(),l.abortPrevious!==!1&&V(),I(!0),z+=1;const me=z;return $.value=!1,g(ee,{...f,...typeof m=="object"?m:O,signal:P.signal}).then(S=>{if($.value)return;T.value=S;const te=S.data;A.value=te,D(te)}).catch(S=>{y.value=S,Z(S)}).finally(()=>{var S;(S=l.onFinish)==null||S.call(l),me===z&&I(!1)}),R};c&&r&&Q();const X={response:T,data:A,error:y,isFinished:h,isLoading:x,cancel:V,isAborted:$,isCanceled:$,abort:V,execute:Q};return{...X,...R}}const je={key:0,class:"p-3 text-center bg-destructive/10 text-destructive"},Je={class:"overflow-x-auto"},Ue={class:"inline-block min-w-full align-middle"},Ee={class:"overflow-hidden"},He={key:0,class:"min-w-full divide-y divide-border"},Re={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-muted-foreground uppercase whitespace-nowrap"},ze={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-muted-foreground uppercase whitespace-nowrap"},Ke={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-muted-foreground uppercase whitespace-nowrap"},We={scope:"col",class:"p-4 text-xs font-medium tracking-wider text-left text-muted-foreground uppercase whitespace-nowrap"},Ge={class:"divide-y divide-border"},Ye={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},Qe=["title"],Xe={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},et={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},tt={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},st=["title"],at={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},nt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},rt={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},ot=["title"],lt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},it={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},ct={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},dt=["title"],ut={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},ft={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},mt={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},pt=["title"],ht={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},gt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},_t={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},xt=["title"],wt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},vt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},bt={class:"flex items-center p-4 text-sm font-normal text-card-foreground whitespace-nowrap"},yt=["title"],kt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},Tt={class:"p-4 text-sm font-semibold text-card-foreground whitespace-nowrap"},Pt={__name:"NetworkTrendsMetricBox",setup(t){const{secondsToHMS:r}=de(),{data:s,isFinished:d,isLoading:f,error:g}=Oe(route("admin.graph.network-trends-vs-month"));return(l,N)=>{const v=ge("tippy");return i(),M(e(j),{class:"w-full"},{default:p(()=>[o(e(U),null,{default:p(()=>[o(e(E),null,{default:p(()=>[w(n(l.__("Network Trends")),1)]),_:1})]),_:1}),o(e(J),{class:"pt-0"},{default:p(()=>[o(ye,{class:"w-full mt-10",loading:e(f)&&!e(d)},null,8,["loading"]),e(g)?(i(),u("div",je,n(e(g).message),1)):L("",!0),a("div",Je,[a("div",Ue,[a("div",Ee,[!e(f)&&e(d)&&!e(g)?(i(),u("table",He,[a("thead",null,[a("tr",null,[a("th",Re,n(l.__("Metric")),1),a("th",ze,n(l.__("Last Month")),1),a("th",Ke,n(l.__("This Month")),1),a("th",We,n(l.__("Trend")),1)])]),a("tbody",Ge,[a("tr",null,[a("td",Ye,[o(e(ne),{class:"w-5 h-5 text-primary"}),F((i(),u("span",{title:l.__("All players including old and new who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-card-foreground sm:flex-none"},[w(n(l.__("Total Players")),1)],8,Qe)),[[v,{trigger:"click"}]])]),a("td",Xe,n(e(s).total_players.previous_month),1),a("td",et,n(e(s).total_players.current_month),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":e(s).total_players.change<0,"text-green-500 font-semibold":e(s).total_players.change>0,"text-card-foreground font-normal":e(s).total_players.change==0}])},n(e(s).total_players.change)+"% ",3)]),a("tr",null,[a("td",tt,[o(e(ne),{class:"w-5 h-5 text-green-400"}),F((i(),u("span",{title:l.__("New players who is seen on the given time interval"),class:"mx-5 ml-3 w-32 font-medium text-card-foreground sm:flex-none"},[w(n(l.__("New Players")),1)],8,st)),[[v,{trigger:"click"}]])]),a("td",at,n(e(s).total_new_players.previous_month),1),a("td",nt,n(e(s).total_new_players.current_month),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":e(s).total_new_players.change<0,"text-green-500 font-semibold":e(s).total_new_players.change>0,"text-card-foreground font-normal":e(s).total_new_players.change==0}])},n(e(s).total_new_players.change)+"% ",3)]),a("tr",null,[a("td",rt,[o(e(Ae),{class:"w-5 h-5 text-orange-400"}),F((i(),u("span",{title:l.__("Total sessions of players. One session is counted when player join server and then leave. A player can have multiple sessions."),class:"flex-none mx-5 ml-3 w-32 font-medium text-card-foreground"},[w(n(l.__("Total Sessions")),1)],8,ot)),[[v,{trigger:"click"}]])]),a("td",lt,n(e(s).total_player_sessions.previous_month),1),a("td",it,n(e(s).total_player_sessions.current_month),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":e(s).total_player_sessions.change<0,"text-green-500 font-semibold":e(s).total_player_sessions.change>0,"text-card-foreground font-normal":e(s).total_player_sessions.change==0}])},n(e(s).total_player_sessions.change)+"% ",3)]),a("tr",null,[a("td",ct,[o(e(Ne),{class:"w-5 h-5 text-green-400"}),F((i(),u("span",{title:l.__("Average playtime player played during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-card-foreground"},[w(n(l.__("Avg Session Time")),1)],8,dt)),[[v,{trigger:"click"}]])]),a("td",ut,n(e(r)(e(s).avg_playtime.previous_month,!0)),1),a("td",ft,n(e(r)(e(s).avg_playtime.current_month,!0)),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":e(s).avg_playtime.change<0,"text-green-500 font-semibold":e(s).avg_playtime.change>0,"text-card-foreground font-normal":e(s).avg_playtime.change==0}])},n(e(s).avg_playtime.change)+"% ",3)]),a("tr",null,[a("td",mt,[o(e($e),{class:"w-5 h-5 text-red-400"}),F((i(),u("span",{title:l.__("Average afktime player spent during a session."),class:"flex-none mx-5 ml-3 w-32 font-medium text-card-foreground"},[w(n(l.__("Avg AFK Time")),1)],8,pt)),[[v,{trigger:"click"}]])]),a("td",ht,n(e(r)(e(s).avg_afktime.previous_month,!0)),1),a("td",gt,n(e(r)(e(s).avg_afktime.current_month,!0)),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-green-500 font-semibold":e(s).avg_afktime.change<0,"text-red-500 font-semibold":e(s).avg_afktime.change>0,"text-card-foreground font-normal":e(s).avg_afktime.change==0}])},n(e(s).avg_afktime.change)+"% ",3)]),a("tr",null,[a("td",_t,[o(e(Te),{class:"w-5 h-5 text-yellow-400"}),F((i(),u("span",{title:l.__("Average ping players getting on your servers."),class:"flex-none mx-5 ml-3 w-32 font-medium text-card-foreground"},[w(n(l.__("Avg Player Ping")),1)],8,xt)),[[v,{trigger:"click"}]])]),a("td",wt,n(e(q)(e(s).avg_player_ping.previous_month))+" ms",1),a("td",vt,n(e(q)(e(s).avg_player_ping.current_month))+" ms",1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-green-500 font-semibold":e(s).avg_player_ping.change<0,"text-red-500 font-semibold":e(s).avg_player_ping.change>0,"text-card-foreground font-normal":e(s).avg_player_ping.change==0}])},n(e(s).avg_player_ping.change)+"% ",3)]),a("tr",null,[a("td",bt,[o(e(ke),{class:"w-5 h-5 text-primary"}),F((i(),u("span",{title:l.__("Peek Online player reached on one server."),class:"flex-none mx-5 ml-3 w-32 font-medium text-card-foreground"},N[0]||(N[0]=[w("Peek Online Players")]),8,yt)),[[v,{trigger:"click"}]])]),a("td",kt,n(l.__(":players players",{players:e(s).peek_online_players.previous_month})),1),a("td",Tt,n(l.__(":players players",{players:e(s).peek_online_players.current_month})),1),a("td",{class:k(["p-4 text-sm whitespace-nowrap",{"text-red-500 font-semibold":e(s).peek_online_players.change<0,"text-green-500 font-semibold":e(s).peek_online_players.change>0,"text-card-foreground font-normal":e(s).peek_online_players.change==0}])},n(e(s).peek_online_players.change)+"% ",3)])])])):L("",!0)])])])]),_:1})]),_:1})}}},Ct={key:0,class:"p-4 flex"},$t={class:"flex-1 bg-card p-4 rounded-lg border text-destructive text-center italic"},Nt={key:1,class:"p-4 space-y-4"},At={id:"row1",class:"flex justify-between flex-1 space-x-4"},St={id:"row2",class:"flex justify-between flex-1 space-x-4"},Ft={id:"row3",class:"flex justify-between flex-1 space-x-4"},qt={id:"row4",class:"flex justify-between flex-1 space-x-4"},ws={__name:"Dashboard",props:{kpiTotalUsers:Number,kpiTotalVerifiedUsers:Number,kpiUserCreatedForInterval:Number,kpiTotalUserPercent:Number,kpiTotalPlayers:Number,kpiTotalLinkedPlayers:Number,kpiPlayerCreatedForInterval:Number,kpiTotalPlayersPercent:Number,kpiTotalFailedJobs:Number,kpiFailedJobsForInterval:Number,kpiTotalFailedJobPercent:Number,kpiTotalPosts:Number,kpiPostCreatedForInterval:Number,kpiTotalPostsPercent:Number,kpiTotalComments:Number,queueLastProcessed:String},setup(t){const{can:r}=Pe(),{formatTimeAgoToNow:s}=de();return(d,f)=>(i(),M(xe,null,{default:p(()=>[o(_e,{title:d.__("Admin Dashboard")},null,8,["title"]),e(r)("view admin_dashboard")?(i(),u("div",Nt,[a("div",At,[o(W,{class:"flex-1",title:"Registered Users",value:t.kpiTotalUsers,"sub-value":t.kpiUserCreatedForInterval,change:t.kpiTotalUserPercent,"change-desc":"in last 7 days",icon:e(Be),"icon-class":"text-blue-500 bg-blue-100 dark:bg-blue-500 dark:text-white",description:`Total Verified: ${t.kpiTotalVerifiedUsers} users`},null,8,["value","sub-value","change","icon","description"]),o(W,{class:"flex-1",title:"Total Players",value:t.kpiTotalPlayers,"sub-value":t.kpiPlayerCreatedForInterval,change:t.kpiTotalPlayersPercent,"change-desc":"in last 7 days",icon:e(Ce),"icon-class":"text-green-500 bg-green-100 dark:bg-green-500 dark:text-white",description:`Total Linked: ${t.kpiTotalLinkedPlayers} players`},null,8,["value","sub-value","change","icon","description"]),o(W,{class:"flex-1",title:"Total Posts",value:t.kpiTotalPosts,"sub-value":t.kpiPostCreatedForInterval,change:t.kpiTotalPostsPercent,"change-desc":"in last 7 days",icon:e(Ve),"icon-class":"text-amber-500 bg-amber-100 dark:bg-amber-500 dark:text-white",description:`Total comments: ${t.kpiTotalComments}`},null,8,["value","sub-value","change","icon","description"]),o(ue,{class:"flex-1",title:"Failed Jobs",value:e(q)(t.kpiTotalFailedJobs),"sub-value":`(${t.kpiFailedJobsForInterval>0?"+":""}${e(q)(t.kpiFailedJobsForInterval)})`,"sub-value-class":[t.kpiFailedJobsForInterval>0?"text-red-500":"text-green-500"],change:`${t.kpiTotalFailedJobPercent>0?"+":""}${e(q)(t.kpiTotalFailedJobPercent,{precision:2})}%`,"change-class":[t.kpiTotalFailedJobPercent>0?"text-red-500":"text-green-500"],"change-desc":"in last 7 days",icon:e(Ze),"icon-class":"text-red-500 bg-red-100 dark:bg-red-500 dark:text-white",description:`Last Run: ${t.queueLastProcessed?e(s)(t.queueLastProcessed):d.__("not yet")}`},null,8,["value","sub-value","sub-value-class","change","change-class","icon","description"])]),a("div",St,[o(Le,{class:"basis-8/12"}),o(De,{class:"basis-4/12"})]),a("div",Ft,[o(we,{class:"basis-1/2"}),o(Pt,{class:"basis-1/2"})]),a("div",qt,[o(ve,{"top-count":10,class:"basis-1/2"}),o(be,{"top-count":10,class:"basis-1/2"})])])):(i(),u("div",Ct,[a("div",$t,n(d.__("Sorry! You are not allowed to view Admin Dashboard Statistics.")),1)]))]),_:1}))}};export{ws as default};
