import{k as v,y as g,c as C,w as n,s as N,o as p,b as a,j as e,a as o,f as U,t as d,d as _,g as b,P as k,i as f}from"./app-Bh5uq5T2.js";import{_ as $}from"./AdminLayout-CjagHNcW.js";import{_ as B}from"./AppBreadcrumb-CEuU89zV.js";import{_ as w}from"./index-Bvduyk2Y.js";import{_ as E}from"./XInput-DCzxRxFm.js";import{_ as P}from"./XSelect-BNHpxeBM.js";import{_ as u}from"./XSwitch-CKXNt_tU.js";import{_ as j}from"./ImageUpload-CCx5Nybb.js";import{_ as A}from"./TipTapEditor-mFt-sJin.js";import"./useAuthorizable-B2TCKEv8.js";import"./CloudArrowDownIcon-peUI9MxF.js";import"./BaseLayout-DfXV1WNK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B54a8he6.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./Input-L4k_NWmM.js";import"./Label-Ba68SC45.js";import"./SelectValue-B7I_M8gp.js";import"./useFormControl-pZlKIA-M.js";import"./Switch-BuK66UNA.js";const S={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},T={class:"flex justify-between mb-4"},z={class:"mt-6"},I={class:"shadow rounded-lg"},M={class:"px-4 py-5 bg-card sm:p-6"},O={class:"grid grid-cols-6 gap-6"},D={class:"col-span-6 sm:col-span-3"},F={class:"col-span-6 sm:col-span-3"},G={class:"col-span-6"},H={class:"col-span-6"},q={for:"body",class:"block text-sm font-medium text-foreground mb-2"},J={key:0,class:"text-xs text-destructive mt-2"},K={class:"col-span-6"},L={class:"flex flex-wrap gap-6"},Q={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},R={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ve={__name:"EditNews",props:{news:Object},setup(m){var c;const{__:s}=N(),i=m,h=[{text:s("Admin"),current:!1},{text:s("News"),url:route("admin.news.index"),current:!1},{text:s("Edit News"),current:!0},{text:"#"+i.news.id,current:!0}],t=v({title:i.news.title,body:i.news.body,type:String(((c=i.news.type)==null?void 0:c.value)??i.news.type),is_published:!!i.news.published_at,is_pinned:i.news.is_pinned,is_commentable:i.news.is_commentable,photo:null,_method:"PUT"});function x(){t.post(route("admin.news.update",i.news.id),{preserveScroll:!0})}return(y,l)=>{const V=g("app-head");return p(),C($,null,{default:n(()=>[a(V,{title:e(s)("Edit News - #:id",{id:m.news.id})},null,8,["title"]),o("div",S,[o("div",T,[a(B,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:h})]),o("div",z,[o("form",{onSubmit:U(x,["prevent"])},[o("div",I,[o("div",M,[o("div",O,[o("div",D,[a(P,{id:"type",modelValue:e(t).type,"onUpdate:modelValue":l[0]||(l[0]=r=>e(t).type=r),name:"type",error:e(t).errors.type,label:e(s)("News Category"),"select-list":{0:e(s)("General"),1:e(s)("Announcement"),2:e(s)("Event")},"disable-null":!0},null,8,["modelValue","error","label","select-list"])]),o("div",F,[a(j,{id:"photo",name:"photo",label:e(s)("Featured Image (Optional)"),"current-url":m.news.photo_url,modelValue:e(t).photo,"onUpdate:modelValue":l[1]||(l[1]=r=>e(t).photo=r),error:e(t).errors.photo,removable:!1,shape:"rect","preview-class":"h-64 w-full","upload-label":e(s)("Upload"),"change-label":e(s)("Change")},null,8,["label","current-url","modelValue","error","upload-label","change-label"])]),o("div",G,[a(E,{id:"title",modelValue:e(t).title,"onUpdate:modelValue":l[2]||(l[2]=r=>e(t).title=r),label:e(s)("Title"),error:e(t).errors.title,type:"text",name:"title"},null,8,["modelValue","label","error"])]),o("div",H,[o("label",q,d(e(s)("Content")),1),a(A,{id:"body",modelValue:e(t).body,"onUpdate:modelValue":l[3]||(l[3]=r=>e(t).body=r),class:"min-h-[400px]"},null,8,["modelValue"]),e(t).errors.body?(p(),_("p",J,d(e(t).errors.body),1)):b("",!0)]),o("div",K,[o("div",L,[a(u,{id:"is_published",modelValue:e(t).is_published,"onUpdate:modelValue":l[4]||(l[4]=r=>e(t).is_published=r),label:e(s)("Published"),name:"is_published",error:e(t).errors.is_published},null,8,["modelValue","label","error"]),a(u,{id:"is_pinned",modelValue:e(t).is_pinned,"onUpdate:modelValue":l[5]||(l[5]=r=>e(t).is_pinned=r),label:e(s)("Pinned"),name:"is_pinned",error:e(t).errors.is_pinned},null,8,["modelValue","label","error"]),a(u,{id:"is_commentable",modelValue:e(t).is_commentable,"onUpdate:modelValue":l[6]||(l[6]=r=>e(t).is_commentable=r),label:e(s)("Allow Comments"),name:"is_commentable",error:e(t).errors.is_commentable},null,8,["modelValue","label","error"])])])])]),o("div",Q,[a(e(w),{variant:"outline","as-child":""},{default:n(()=>[a(e(k),{href:y.route("admin.news.index")},{default:n(()=>[f(d(e(s)("Cancel")),1)]),_:1},8,["href"])]),_:1}),a(e(w),{type:"submit",disabled:e(t).processing},{default:n(()=>[e(t).processing?(p(),_("svg",R,l[7]||(l[7]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),f(" "+d(e(s)("Update News")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{ve as default};
