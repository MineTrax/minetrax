import{_ as w}from"./AuthenticationCard-BoLpg40z.js";import{_ as C}from"./Input-15WpU9rB.js";import{_ as L}from"./Label-C6iZUw8M.js";import{e as h,o,d as n,a as m,t as a,F as u,l as B,g as R,R as E,k as F,y as c,c as J,w as p,b as s,i as d,f as k}from"./app-CKqa03ai.js";import{L as N}from"./LoadingButton-BhRjI4uL.js";import{_ as U}from"./AppLayout-CgyC_R_u.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Card-JiHMqSLw.js";import"./utils-D-KgF5mV.js";import"./index-s8bxsPUj.js";import"./index-C1xLcZ71.js";import"./loader-circle-u9Iipotc.js";import"./BaseLayout-CbEnUUda.js";import"./Icon-yp24RCPW.js";import"./useForwardPropsEmits-oMML2ssv.js";import"./chevron-down-C5aVEVJv.js";import"./Teleport-BzeA4ril.js";import"./VisuallyHidden-B8DQXMOS.js";import"./x-BvgAlvXN.js";import"./useAuthorizable-C3hyZrBu.js";const S={key:0},T={class:"font-medium text-error-600"},$={class:"mt-3 list-disc list-inside text-sm text-error-600"},P={__name:"ValidationErrors",setup(t){const e=h(()=>E().props.errors),f=h(()=>Object.keys(e.value).length>0);return(y,r)=>f.value?(o(),n("div",S,[m("div",T,a(y.__("Whoops! Something went wrong.")),1),m("ul",$,[(o(!0),n(u,null,B(e.value,(l,_)=>(o(),n("li",{key:_},a(l),1))),128))])])):R("",!0)}},D={components:{AppLayout:U,LoadingButton:N,JetAuthenticationCard:w,JetInput:C,JetLabel:L,JetValidationErrors:P},data(){return{recovery:!1,form:F({code:"",recovery_code:""})}},methods:{toggleRecovery(){this.recovery^=!0,this.$nextTick(()=>{this.recovery?(this.$refs.recovery_code.focus(),this.form.code=""):(this.$refs.code.focus(),this.form.recovery_code="")})},submit(){this.form.post(this.route("two-factor.login"))}}},I={class:"mb-4 text-sm text-foreground dark:text-foreground"},M={key:0},O={key:1},W={class:"flex items-center justify-end mt-4"};function q(t,e,f,y,r,l){const _=c("app-head"),b=c("jet-validation-errors"),v=c("jet-label"),g=c("jet-input"),x=c("loading-button"),V=c("jet-authentication-card"),j=c("app-layout");return o(),J(j,null,{default:p(()=>[s(_,{title:t.__("2FA Challenge confirmation")},null,8,["title"]),s(V,null,{default:p(()=>[m("div",I,[r.recovery?(o(),n(u,{key:1},[d(a(t.__("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(o(),n(u,{key:0},[d(a(t.__("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),s(b,{class:"mb-4"}),m("form",{onSubmit:e[3]||(e[3]=k((...i)=>l.submit&&l.submit(...i),["prevent"]))},[r.recovery?(o(),n("div",O,[s(v,{for:"recovery_code",value:t.__("Recovery Code")},null,8,["value"]),s(g,{id:"recovery_code",ref:"recovery_code",modelValue:r.form.recovery_code,"onUpdate:modelValue":e[1]||(e[1]=i=>r.form.recovery_code=i),type:"text",class:"mt-1 block w-full dark:text-foreground",autocomplete:"one-time-code"},null,8,["modelValue"])])):(o(),n("div",M,[s(v,{for:"code",value:t.__("Code")},null,8,["value"]),s(g,{id:"code",ref:"code",modelValue:r.form.code,"onUpdate:modelValue":e[0]||(e[0]=i=>r.form.code=i),type:"text",inputmode:"numeric",class:"mt-1 block w-full dark:text-foreground",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),m("div",W,[m("button",{type:"button",class:"text-sm text-foreground hover:text-foreground underline cursor-pointer dark:text-foreground dark:hover:text-foreground",onClick:e[2]||(e[2]=k((...i)=>l.toggleRecovery&&l.toggleRecovery(...i),["prevent"]))},[r.recovery?(o(),n(u,{key:1},[d(a(t.__("Use an authentication code")),1)],64)):(o(),n(u,{key:0},[d(a(t.__("Use a recovery code")),1)],64))]),s(x,{loading:r.form.processing,class:"ml-4"},{default:p(()=>[d(a(t.__("Login")),1)]),_:1},8,["loading"])])],32)]),_:1})]),_:1})}const ue=A(D,[["render",q]]);export{ue as default};
