import{_ as k}from"./InputError-PaecMvXp.js";import{_ as P}from"./SecondaryButton-DlFH5Z5x.js";import{L as N}from"./LoadingButton-DnqmqSc1.js";import{X as V}from"./XInput-BOBo1Tfc.js";import{E}from"./easymde-B-N2Aeor.js";import{X as C}from"./XSelect-u_rqq2TM.js";import{k as U,s as l,c as j,w as c,o as A,b as n,a as e,t as i,m as u,p as m,v as D,x as M,y as S,f as _,R as p}from"./app-B6MSbjiR.js";import{_ as L}from"./AdminLayout-CxVM27ib.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLayout-D09sHPWy.js";import"./Icon-DyYhHgsS.js";import"./useAuthorizable-Cf1MTXSt.js";import"./keyboard-D8XalHIH.js";import"./open-closed-LifvgtoZ.js";import"./CloudArrowDownIcon-CMU1uDwp.js";import"./index-DwFICxA8.js";const I={components:{AdminLayout:L,XSelect:C,JetInputError:k,LoadingButton:N,JetSecondaryButton:P,XInput:V},props:{news:Object},data(){return{form:U({title:this.news.title,body:this.news.body,type:this.news.type.value,is_published:!!this.news.published_at,is_pinned:this.news.is_pinned,is_commentable:this.news.is_commentable,photo:null,_method:"PUT"}),photoPreview:null,easyMDE:null}},mounted(){this.easyMDE=new E({previewClass:"editor-preview prose max-w-none"})},methods:{addNews(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.body=this.easyMDE.value(),this.form.post(route("admin.news.update",this.news.id),{})},updatePhotoPreview(){const o=new FileReader;o.onload=t=>{this.photoPreview=t.target.result},o.readAsDataURL(this.$refs.photo.files[0])},selectNewPhoto(){this.$refs.photo.click()}}},T={class:"py-12 px-10 max-w-6xl mx-auto"},X={class:"flex justify-between mb-8"},R={class:"font-bold text-3xl text-secondary-500 dark:text-secondary-300"},z={class:"mt-10 sm:mt-0"},J={class:"mt-5 md:mt-0"},O={class:"shadow overflow-hidden sm:rounded-md"},F={class:"px-4 py-5 bg-white dark:bg-surface-800 sm:p-6"},G={class:"grid grid-cols-6 gap-6"},q={class:"col-span-6 sm:col-span-6"},H={class:"col-span-6 sm:col-span-6"},K={class:"col-span-6 sm:col-span-6"},Q={class:"col-span-6 sm:col-span-3"},W={for:"photo",class:"block text-sm font-medium text-secondary-700 dark:text-secondary-400"},Y={class:"mt-2"},Z={class:"flex items-center col-span-6 sm:col-span-3"},$={class:"text-base font-medium text-secondary-900 dark:text-secondary-400"},ee={class:"mt-4 flex space-x-4"},se={class:"flex items-start"},oe={class:"flex items-center h-5"},te={class:"ml-3 text-sm"},re={for:"is_published",class:"font-medium text-secondary-700 dark:text-secondary-300"},ne={class:"flex items-start"},ie={class:"flex items-center h-5"},le={class:"ml-3 text-sm"},de={for:"is_pinned",class:"font-medium text-secondary-700 dark:text-secondary-300"},ae={class:"flex items-start"},me={class:"flex items-center h-5"},ce={class:"ml-3 text-sm"},pe={for:"is_commentable",class:"font-medium text-secondary-700 dark:text-secondary-300"},ue={class:"px-4 py-3 bg-surface-50 dark:bg-surface-800 sm:px-6 flex justify-end"};function _e(o,t,f,fe,s,d){const h=l("app-head"),b=l("inertia-link"),y=l("x-select"),w=l("x-input"),a=l("jet-input-error"),x=l("jet-secondary-button"),g=l("loading-button"),v=l("AdminLayout");return A(),j(v,null,{default:c(()=>[n(h,{title:`Edit News #${f.news.id}`},null,8,["title"]),e("div",T,[e("div",X,[e("h1",R,i(o.__("Edit News")),1),n(b,{href:o.route("admin.news.index"),class:"inline-flex items-center px-4 py-2 bg-surface-400 dark:bg-surface-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-surface-500 active:bg-surface-600 focus:outline-none focus:border-secondary-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:c(()=>[e("span",null,i(o.__("Cancel")),1)]),_:1},8,["href"])]),e("div",z,[e("div",J,[e("form",{onSubmit:t[7]||(t[7]=u((...r)=>d.addNews&&d.addNews(...r),["prevent"]))},[e("div",O,[e("div",F,[e("div",G,[e("div",q,[n(y,{id:"type",modelValue:s.form.type,"onUpdate:modelValue":t[0]||(t[0]=r=>s.form.type=r),name:"type",error:s.form.errors.type,label:o.__("News Category"),"select-list":{0:o.__("General"),1:o.__("Announcement"),2:o.__("Event")}},null,8,["modelValue","error","label","select-list"])]),e("div",H,[n(w,{id:"title",modelValue:s.form.title,"onUpdate:modelValue":t[1]||(t[1]=r=>s.form.title=r),label:o.__("Title"),error:s.form.errors.title,type:"text",name:"title","help-error-flex":"flex-row"},null,8,["modelValue","label","error"])]),e("div",K,[m(e("textarea",{id:"body","onUpdate:modelValue":t[2]||(t[2]=r=>s.form.body=r),"aria-label":"body",name:"body",class:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-secondary-300 rounded-md"},null,512),[[D,s.form.body]]),n(a,{message:s.form.errors.body,class:"mt-2"},null,8,["message"])]),e("div",Q,[e("input",{id:"photo",ref:"photo",type:"file",class:"hidden",onChange:t[3]||(t[3]=(...r)=>d.updatePhotoPreview&&d.updatePhotoPreview(...r))},null,544),e("label",W,i(o.__("Image")),1),m(e("div",Y,[e("span",{class:"block rounded w-48 h-32",style:S("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+s.photoPreview+"');")},null,4)],512),[[M,s.photoPreview]]),n(x,{class:"mt-2 mr-2",type:"button",onClick:u(d.selectNewPhoto,["prevent"])},{default:c(()=>[_(i(o.__("Select A New Image")),1)]),_:1},8,["onClick"]),n(a,{message:s.form.errors.photo,class:"mt-2"},null,8,["message"])]),e("div",Z,[e("fieldset",null,[e("legend",$,i(o.__("Options")),1),e("div",ee,[e("div",se,[e("div",oe,[m(e("input",{id:"is_published","onUpdate:modelValue":t[4]||(t[4]=r=>s.form.is_published=r),name:"is_published",type:"checkbox",class:"focus:ring-primary-400 h-4 w-4 text-primary-500 border-secondary-300 rounded dark:border-secondary-900 rounded dark:bg-surface-900"},null,512),[[p,s.form.is_published]])]),e("div",te,[e("label",re,i(o.__("Published")),1)])]),e("div",ne,[e("div",ie,[m(e("input",{id:"is_pinned","onUpdate:modelValue":t[5]||(t[5]=r=>s.form.is_pinned=r),name:"is_pinned",type:"checkbox",class:"focus:ring-primary-400 h-4 w-4 text-primary-500 border-secondary-300 rounded dark:border-secondary-900 rounded dark:bg-surface-900"},null,512),[[p,s.form.is_pinned]])]),e("div",le,[e("label",de,i(o.__("Pinned")),1)])]),e("div",ae,[e("div",me,[m(e("input",{id:"is_commentable","onUpdate:modelValue":t[6]||(t[6]=r=>s.form.is_commentable=r),name:"is_commentable",type:"checkbox",class:"focus:ring-primary-400 h-4 w-4 text-primary-500 border-secondary-300 rounded dark:border-secondary-900 rounded dark:bg-surface-900"},null,512),[[p,s.form.is_commentable]])]),e("div",ce,[e("label",pe,i(o.__("Allow Comments")),1)])])]),n(a,{message:s.form.errors.is_pinned,class:"mt-2"},null,8,["message"]),n(a,{message:s.form.errors.is_published,class:"mt-2"},null,8,["message"]),n(a,{message:s.form.errors.is_commentable,class:"mt-2"},null,8,["message"])])])])]),e("div",ue,[n(g,{loading:s.form.processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",type:"submit"},{default:c(()=>[_(i(o.__("Update News")),1)]),_:1},8,["loading"])])])],32)])])])]),_:1})}const De=B(I,[["render",_e]]);export{De as default};
