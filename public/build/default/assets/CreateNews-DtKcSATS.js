import{h as w,k as v,p as V,y as g,c as C,w as i,s as N,o as d,b as a,j as e,a as s,f as k,t as n,v as U,x as E,d as u,g as c,P as $,i as _}from"./app-D9GuHpcZ.js";import{_ as B}from"./AdminLayout-DdnXiWbQ.js";import{_ as M}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as b}from"./index-B5if8pRS.js";import{_ as A}from"./XInput-Cvs-Jhqz.js";import{_ as D}from"./XSelect-C4vUI2IC.js";import{_ as m}from"./XSwitch-awdJ8Wzd.js";import{_ as P}from"./ImageUpload-Czo8mVE4.js";import{E as T}from"./easymde-QJYvmxHQ.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./BaseLayout-B3-iVEMv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./Input-17rNUrUJ.js";import"./Label-hpeRY5vg.js";import"./SelectValue-D9eI7XgB.js";import"./useFormControl-C0VJqXgZ.js";import"./Switch-DbKyFhTc.js";const j={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},I={class:"flex justify-between mb-4"},S={class:"mt-6"},z={class:"shadow rounded-lg"},F={class:"px-4 py-5 bg-card sm:p-6"},G={class:"grid grid-cols-6 gap-6"},H={class:"col-span-6 sm:col-span-3"},O={class:"col-span-6 sm:col-span-3"},q={class:"col-span-6"},J={class:"col-span-6"},K={for:"body",class:"block text-sm font-medium text-foreground mb-2"},L={key:0,class:"text-xs text-destructive mt-2"},Q={class:"col-span-6"},R={class:"flex flex-wrap gap-6"},W={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},X={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ne={__name:"CreateNews",setup(Y){const{__:t}=N(),f=[{text:t("Admin"),current:!1},{text:t("News"),url:route("admin.news.index"),current:!1},{text:t("Create News"),current:!0}],p=w(null),o=v({title:"",body:"",type:"0",is_published:!0,is_pinned:!1,is_commentable:!0,photo:null});V(()=>{p.value=new T({element:document.getElementById("body"),previewClass:"editor-preview prose max-w-none"})});function x(){o.body=p.value.value(),o.post(route("admin.news.store"),{preserveScroll:!0})}return(y,l)=>{const h=g("app-head");return d(),C(B,null,{default:i(()=>[a(h,{title:e(t)("Create News")},null,8,["title"]),s("div",j,[s("div",I,[a(M,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:f})]),s("div",S,[s("form",{onSubmit:k(x,["prevent"])},[s("div",z,[s("div",F,[s("div",G,[s("div",H,[a(D,{id:"type",modelValue:e(o).type,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).type=r),name:"type",error:e(o).errors.type,label:e(t)("News Category"),"select-list":{0:e(t)("General"),1:e(t)("Announcement"),2:e(t)("Event")},"disable-null":!0},null,8,["modelValue","error","label","select-list"])]),s("div",O,[a(P,{id:"photo",name:"photo",label:e(t)("Featured Image (Optional)"),modelValue:e(o).photo,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).photo=r),error:e(o).errors.photo,removable:!1,shape:"rect","preview-class":"h-64 w-full","upload-label":e(t)("Upload"),"change-label":e(t)("Change")},null,8,["label","modelValue","error","upload-label","change-label"])]),s("div",q,[a(A,{id:"title",modelValue:e(o).title,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).title=r),label:e(t)("Title"),error:e(o).errors.title,type:"text",name:"title"},null,8,["modelValue","label","error"])]),s("div",J,[s("label",K,n(e(t)("Content")),1),U(s("textarea",{id:"body","onUpdate:modelValue":l[3]||(l[3]=r=>e(o).body=r),"aria-label":"body",name:"body"},null,512),[[E,e(o).body]]),e(o).errors.body?(d(),u("p",L,n(e(o).errors.body),1)):c("",!0)]),s("div",Q,[s("div",R,[a(m,{id:"is_published",modelValue:e(o).is_published,"onUpdate:modelValue":l[4]||(l[4]=r=>e(o).is_published=r),label:e(t)("Published"),name:"is_published",error:e(o).errors.is_published},null,8,["modelValue","label","error"]),a(m,{id:"is_pinned",modelValue:e(o).is_pinned,"onUpdate:modelValue":l[5]||(l[5]=r=>e(o).is_pinned=r),label:e(t)("Pinned"),name:"is_pinned",error:e(o).errors.is_pinned},null,8,["modelValue","label","error"]),a(m,{id:"is_commentable",modelValue:e(o).is_commentable,"onUpdate:modelValue":l[6]||(l[6]=r=>e(o).is_commentable=r),label:e(t)("Allow Comments"),name:"is_commentable",error:e(o).errors.is_commentable},null,8,["modelValue","label","error"])])])])]),s("div",W,[a(e(b),{variant:"outline","as-child":""},{default:i(()=>[a(e($),{href:y.route("admin.news.index")},{default:i(()=>[_(n(e(t)("Cancel")),1)]),_:1},8,["href"])]),_:1}),a(e(b),{type:"submit",disabled:e(o).processing},{default:i(()=>[e(o).processing?(d(),u("svg",X,l[7]||(l[7]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):c("",!0),_(" "+n(e(t)("Add News")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{Ne as default};
