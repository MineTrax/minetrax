import{_ as R}from"./Button-5a2e209a.js";import{_ as N}from"./FormSection-aac45acd.js";import{_ as B}from"./InputError-56878d47.js";import{_ as T}from"./Label-cf77f411.js";import{_ as A}from"./ActionMessage-433c994d.js";import{_ as D}from"./SecondaryButton-bb5a8722.js";import{i as X}from"./index.es-e11a7e43.js";import{X as F}from"./XInput-f009c806.js";import{X as J}from"./XCheckbox-ef067584.js";import{X as z}from"./XSelect-36cd7df9.js";import{X as G}from"./XTextarea-a1d4bb92.js";import{T as Y,l as u,o as d,c as j,w as m,f as c,t as _,d as U,a as s,b as t,j as I,m as S,p as E,i as C,e as b,n as M}from"./app-40253c50.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-b1b53526.js";const O={components:{XTextarea:G,XSelect:z,XCheckbox:J,XInput:F,JetActionMessage:A,JetButton:R,JetFormSection:N,JetInputError:B,JetLabel:T,JetSecondaryButton:D,DatePicker:X},props:["user"],data(){var o,r,i,L,e,a,g,p,f,n,h,w,v,k,y,V,P,l;return{form:Y({_method:"PUT",name:this.user.name,photo:null,cover_image:null,dob:this.user.dob,gender:this.user.gender,cover_image_url:this.user.cover_image_url,s_discord_username:((r=(o=this.user)==null?void 0:o.social_links)==null?void 0:r.s_discord_username)??null,s_steam_profile_url:((L=(i=this.user)==null?void 0:i.social_links)==null?void 0:L.s_steam_profile_url)??null,s_twitter_url:((a=(e=this.user)==null?void 0:e.social_links)==null?void 0:a.s_twitter_url)??null,s_youtube_url:((p=(g=this.user)==null?void 0:g.social_links)==null?void 0:p.s_youtube_url)??null,s_facebook_url:((n=(f=this.user)==null?void 0:f.social_links)==null?void 0:n.s_facebook_url)??null,s_twitch_url:((w=(h=this.user)==null?void 0:h.social_links)==null?void 0:w.s_twitch_url)??null,s_linkedin_url:((k=(v=this.user)==null?void 0:v.social_links)==null?void 0:k.s_linkedin_url)??null,s_tiktok_url:((V=(y=this.user)==null?void 0:y.social_links)==null?void 0:V.s_tiktok_url)??null,s_website_url:((l=(P=this.user)==null?void 0:P.social_links)==null?void 0:l.s_website_url)??null,about:this.user.about,profile_photo_source:this.user.settings?this.user.settings.profile_photo_source:null,show_gender:this.user.settings?!!+this.user.settings.show_gender:!1,show_yob:this.user.settings?!!+this.user.settings.show_yob:!1,locale:this.user.locale}),photoPreview:null,coverImagePreview:null,availableLocales:{}}},created(){this.$page.props.localeSwitcherEnabled&&this.getAvailableLocales()},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.$refs.coverImage&&(this.form.cover_image=this.$refs.coverImage.files[0]);const o=this.form.locale!==this.user.locale;this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{o&&location.reload()}})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const o=new FileReader;o.onload=r=>{this.photoPreview=r.target.result},o.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>this.photoPreview=null})},selectNewCoverImage(){this.$refs.coverImage.click()},updateCoverImagePreview(){const o=new FileReader;o.onload=r=>{this.coverImagePreview=r.target.result},o.readAsDataURL(this.$refs.coverImage.files[0])},deleteCoverImage(){this.$inertia.delete(route("current-user-cover.destroy"),{preserveScroll:!0,onSuccess:()=>this.coverImagePreview=null})},getAvailableLocales(){axios.get(route("locale.list")).then(o=>{o.data.forEach(i=>{this.availableLocales[i.code]=i.display})}).catch(o=>{console.log(o)})}}},W={key:0,class:"col-span-6 sm:col-span-3"},H={class:"mt-2"},K=["src","alt"],Q={class:"mt-2"},Z={class:"col-span-6 sm:col-span-3"},x={class:"mt-2"},$=["src","alt"],ee={class:"mt-2"},oe={class:"col-span-6 sm:col-span-3"},re={class:"col-span-6 sm:col-span-3"},le={class:"col-span-6 sm:col-span-3"},se={class:"col-span-6 sm:col-span-3"},te={class:"col-span-6 sm:col-span-3 relative"},ne={for:"dob",class:"absolute -top-2.5 left-0 px-3 py-5 text-xs text-gray-500 h-full pointer-events-none transform origin-left transition-all duration-100 ease-in-out dark:text-gray-400"},ie={key:1,class:"col-span-6 sm:col-span-3"},ae={class:"col-span-6 sm:col-span-3"},ue={key:2,class:"col-span-6 sm:col-span-3"},me={class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},ce={class:"col-span-6 sm:col-span-3"},pe={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},he={class:"col-span-6 sm:col-span-3"},be={class:"col-span-6 sm:col-span-3"},ge={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-3"},we={key:3,class:"col-span-6 sm:col-span-3"};function ke(o,r,i,L,e,a){const g=u("jet-label"),p=u("jet-secondary-button"),f=u("jet-input-error"),n=u("x-input"),h=u("x-select"),w=u("date-picker"),v=u("x-checkbox"),k=u("x-textarea"),y=u("jet-action-message"),V=u("jet-button"),P=u("jet-form-section");return d(),j(P,{onSubmitted:a.updateProfileInformation},{title:m(()=>[c(_(o.__("Profile Information")),1)]),description:m(()=>[c(_(o.__("Update your account's profile information and email address.")),1)]),form:m(()=>[o.$page.props.jetstream.managesProfilePhotos?(d(),U("div",W,[s("input",{ref:"photo",type:"file",class:"hidden",onChange:r[0]||(r[0]=(...l)=>a.updatePhotoPreview&&a.updatePhotoPreview(...l))},null,544),t(g,{for:"photo",value:"Avatar"}),I(s("div",H,[s("img",{src:i.user.profile_photo_url,alt:i.user.name,class:"rounded-full h-28 w-28 object-cover"},null,8,K)],512),[[S,!e.photoPreview]]),I(s("div",Q,[s("span",{class:"block rounded-full w-28 h-28",style:E("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[S,e.photoPreview]]),t(p,{class:"mt-2 mr-2",type:"button",onClick:C(a.selectNewPhoto,["prevent"])},{default:m(()=>[c(_(o.__("New Photo")),1)]),_:1},8,["onClick"]),i.user.profile_photo_path?(d(),j(p,{key:0,type:"button",class:"mt-2",onClick:C(a.deletePhoto,["prevent"])},{default:m(()=>[c(_(o.__("Remove Photo")),1)]),_:1},8,["onClick"])):b("",!0),t(f,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):b("",!0),s("div",Z,[s("input",{ref:"coverImage",type:"file",class:"hidden",onChange:r[1]||(r[1]=(...l)=>a.updateCoverImagePreview&&a.updateCoverImagePreview(...l))},null,544),t(g,{for:"coverImage",value:o.__("Profile Cover Image")},null,8,["value"]),I(s("div",x,[s("img",{src:i.user.cover_image_url,alt:i.user.name,class:"rounded h-28 object-cover w-full"},null,8,$)],512),[[S,!e.coverImagePreview]]),I(s("div",ee,[s("span",{class:"block rounded h-28",style:E("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.coverImagePreview+"');")},null,4)],512),[[S,e.coverImagePreview]]),t(p,{class:"mt-2 mr-2",type:"button",onClick:C(a.selectNewCoverImage,["prevent"])},{default:m(()=>[c(_(o.__("New Cover")),1)]),_:1},8,["onClick"]),i.user.cover_image_path?(d(),j(p,{key:0,type:"button",class:"mt-2",onClick:C(a.deleteCoverImage,["prevent"])},{default:m(()=>[c(_(o.__("Default Cover")),1)]),_:1},8,["onClick"])):b("",!0),t(f,{message:e.form.errors.cover_image,class:"mt-2"},null,8,["message"])]),s("div",oe,[t(n,{id:"username","model-value":i.user.username,label:o.__("Username"),error:e.form.errors.username,type:"text",name:"username",disabled:!0},null,8,["model-value","label","error"])]),s("div",re,[t(n,{id:"email","model-value":i.user.email,label:o.__("Email"),error:e.form.errors.email,type:"email",name:"email",disabled:!0},null,8,["model-value","label","error"])]),s("div",le,[t(n,{id:"name",modelValue:e.form.name,"onUpdate:modelValue":r[2]||(r[2]=l=>e.form.name=l),label:o.__("Name"),error:e.form.errors.name,required:!0,autocomplete:"name",type:"text",name:"name"},null,8,["modelValue","label","error"])]),s("div",se,[t(h,{id:"profile_photo_source",modelValue:e.form.profile_photo_source,"onUpdate:modelValue":r[3]||(r[3]=l=>e.form.profile_photo_source=l),name:"profile_photo_source",error:e.form.errors.profile_photo_source,label:o.__("Use Avatar from"),"select-list":{linked_player:"Linked Player",gravatar:"Gravatar"},placeholder:"Uploaded Photo"},null,8,["modelValue","error","label"])]),s("div",te,[t(w,{id:"dob",value:e.form.dob,"onUpdate:value":r[4]||(r[4]=l=>e.form.dob=l),placeholder:o.__("Select your date of birth"),class:"w-full","value-type":"format","input-class":"border-gray-300 h-14 p-3 text-sm pt-7 focus:border-light-blue-300 focus:ring focus:ring-light-blue-200 focus:ring-opacity-50 rounded-md block w-full dark:bg-cool-gray-900 dark:text-gray-300 dark:border-gray-900"},null,8,["value","placeholder"]),s("label",ne,_(o.__("Date of Birth")),1),t(f,{message:e.form.errors.dob,class:"mt-1"},null,8,["message"])]),e.form.dob?(d(),U("div",ie,[t(v,{id:"show_yob",modelValue:e.form.show_yob,"onUpdate:modelValue":r[5]||(r[5]=l=>e.form.show_yob=l),label:o.__("Show Your of Birth"),help:o.__("Show Year of Birth in your public profile."),name:"show_yob",error:e.form.errors.show_yob},null,8,["modelValue","label","help","error"])])):b("",!0),s("div",ae,[t(h,{id:"gender",modelValue:e.form.gender,"onUpdate:modelValue":r[6]||(r[6]=l=>e.form.gender=l),name:"gender",error:e.form.errors.gender,label:o.__("Gender"),placeholder:o.__("Prefer not to say"),"select-list":{m:o.__("Male"),f:o.__("Female"),o:o.__("Others")}},null,8,["modelValue","error","label","placeholder","select-list"])]),e.form.gender?(d(),U("div",ue,[t(v,{id:"show_gender",modelValue:e.form.show_gender,"onUpdate:modelValue":r[7]||(r[7]=l=>e.form.show_gender=l),label:o.__("Show Gender"),help:o.__("Show Gender in your public profile."),name:"show_gender",error:e.form.errors.show_gender},null,8,["modelValue","label","help","error"])])):b("",!0),s("div",me,[t(n,{id:"s_discord_username",modelValue:e.form.s_discord_username,"onUpdate:modelValue":r[8]||(r[8]=l=>e.form.s_discord_username=l),label:o.__("Discord Username"),error:e.form.errors.s_discord_username,autocomplete:"s_discord_username",type:"text",name:"s_discord_username",help:o.__("Eg: username#1234")},null,8,["modelValue","label","error","help"])]),s("div",_e,[t(n,{id:"s_steam_profile_url",modelValue:e.form.s_steam_profile_url,"onUpdate:modelValue":r[9]||(r[9]=l=>e.form.s_steam_profile_url=l),label:o.__("Steam Profile URL"),error:e.form.errors.s_steam_profile_url,autocomplete:"s_steam_profile_url",type:"text",name:"s_steam_profile_url",help:o.__("Eg: https://steamcommunity.com/id/username")},null,8,["modelValue","label","error","help"])]),s("div",ce,[t(n,{id:"s_twitter_url",modelValue:e.form.s_twitter_url,"onUpdate:modelValue":r[10]||(r[10]=l=>e.form.s_twitter_url=l),label:o.__("Twitter Profile URL"),error:e.form.errors.s_twitter_url,autocomplete:"s_twitter_url",type:"text",name:"s_twitter_url",help:o.__("Eg: https://twitter.com/@username")},null,8,["modelValue","label","error","help"])]),s("div",pe,[t(n,{id:"s_youtube_url",modelValue:e.form.s_youtube_url,"onUpdate:modelValue":r[11]||(r[11]=l=>e.form.s_youtube_url=l),label:o.__("YouTube URL"),error:e.form.errors.s_youtube_url,autocomplete:"s_youtube_url",type:"text",name:"s_youtube_url",help:o.__("Eg: https://www.youtube.com/minecraft")},null,8,["modelValue","label","error","help"])]),s("div",de,[t(n,{id:"s_facebook_url",modelValue:e.form.s_facebook_url,"onUpdate:modelValue":r[12]||(r[12]=l=>e.form.s_facebook_url=l),label:o.__("Facebook URL"),error:e.form.errors.s_facebook_url,autocomplete:"s_facebook_url",type:"text",name:"s_facebook_url",help:"Eg: https://facebook.com/minecraft"},null,8,["modelValue","label","error"])]),s("div",fe,[t(n,{id:"s_twitch_url",modelValue:e.form.s_twitch_url,"onUpdate:modelValue":r[13]||(r[13]=l=>e.form.s_twitch_url=l),label:o.__("Twitch URL"),error:e.form.errors.s_twitch_url,autocomplete:"s_twitch_url",type:"text",name:"s_twitch_url",help:o.__("Eg: https://www.twitch.tv/minecraft")},null,8,["modelValue","label","error","help"])]),s("div",he,[t(n,{id:"s_tiktok_url",modelValue:e.form.s_tiktok_url,"onUpdate:modelValue":r[14]||(r[14]=l=>e.form.s_tiktok_url=l),label:o.__("TikTok URL"),error:e.form.errors.s_tiktok_url,autocomplete:"s_tiktok_url",type:"text",name:"s_tiktok_url",help:o.__("Eg: https://www.tiktok.com/@minecraft")},null,8,["modelValue","label","error","help"])]),s("div",be,[t(n,{id:"s_linkedin_url",modelValue:e.form.s_linkedin_url,"onUpdate:modelValue":r[15]||(r[15]=l=>e.form.s_linkedin_url=l),label:o.__("LinkedIn URL"),error:e.form.errors.s_linkedin_url,autocomplete:"s_linkedin_url",type:"text",name:"s_linkedin_url",help:o.__("Eg: https://www.linkedin.com/in/minecraft")},null,8,["modelValue","label","error","help"])]),s("div",ge,[t(n,{id:"s_website_url",modelValue:e.form.s_website_url,"onUpdate:modelValue":r[16]||(r[16]=l=>e.form.s_website_url=l),label:o.__("Website URL"),error:e.form.errors.s_website_url,autocomplete:"s_website_url",type:"text",name:"s_website_url",help:o.__("Eg: https://my-personal-blog.com")},null,8,["modelValue","label","error","help"])]),s("div",ve,[t(k,{id:"about",modelValue:e.form.about,"onUpdate:modelValue":r[17]||(r[17]=l=>e.form.about=l),label:o.__("About Yourself"),help:o.__("Something about yourself in 255 characters."),error:e.form.errors.about,name:"about"},null,8,["modelValue","label","help","error"])]),o.$page.props.localeSwitcherEnabled?(d(),U("div",we,[t(h,{id:"locale",modelValue:e.form.locale,"onUpdate:modelValue":r[18]||(r[18]=l=>e.form.locale=l),name:"locale",error:e.form.errors.locale,label:o.__("Language"),placeholder:o.__("Select Language..."),"select-list":e.availableLocales},null,8,["modelValue","error","label","placeholder","select-list"])])):b("",!0)]),actions:m(()=>[t(y,{on:e.form.recentlySuccessful,class:"mr-3"},{default:m(()=>[c(_(o.__("Saved.")),1)]),_:1},8,["on"]),t(V,{class:M({"opacity-25":e.form.processing}),disabled:e.form.processing,loading:e.form.processing},{default:m(()=>[c(_(o.__("Save")),1)]),_:1},8,["class","disabled","loading"])]),_:1},8,["onSubmitted"])}const Ae=q(O,[["render",ke],["__scopeId","data-v-da292f55"]]);export{Ae as default};
