import{_ as D}from"./AppLayout-fnl43EL1.js";import{o as l,d as c,a as e,R as N,y as V,z as M,c as h,w as n,s as A,b as r,j as s,_ as T,t as o,v as u,P as y,n as L,i as k,g as O}from"./app-Bh5uq5T2.js";import{u as E}from"./BaseLayout-DfXV1WNK.js";import{_ as R}from"./DataTable-BaXbvkK6.js";import{D as _}from"./DtRowItem-C0VH15na.js";import{_ as P}from"./CommonStatusBadge-DruEQOGM.js";import{_ as x}from"./Card-CzH_Id9h.js";import{_ as m}from"./CardContent-Blze7ZpO.js";import{_ as H}from"./AppBreadcrumb-CEuU89zV.js";import{r as U}from"./NoSymbolIcon-uNoTTNLV.js";import{r as z}from"./SpeakerXMarkIcon-Dt0SFMjN.js";import{r as Z}from"./ExclamationTriangleIcon-wKm5CqWu.js";import{r as K}from"./EyeIcon-G0h5gXDH.js";import"./Icon-B54a8he6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./useAuthorizable-B2TCKEv8.js";import"./SelectValue-B7I_M8gp.js";import"./useFormControl-pZlKIA-M.js";import"./vue-multiselect.esm-lFmy1_TG.js";import"./XMarkIcon-CHsIiBI1.js";function W(i,a){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function q(i,a){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}const F={class:"py-4 px-2 md:py-4 md:px-10 max-w-screen-2xl mx-auto"},G={class:"grid-cols-5 gap-4 mb-4 hidden md:grid"},J={class:"col-span-full md:col-span-1"},Q={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-sky-100 dark:bg-sky-500/10 text-sky-600 dark:text-sky-400"},X={class:"flex flex-col flex-grow ml-4"},Y={class:"text-sm text-muted-foreground"},ee={class:"font-bold text-card-foreground text-lg"},te={class:"col-span-full md:col-span-1"},se={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-error-100 dark:bg-error-500/10 text-error-600 dark:text-error-400"},ae={class:"flex flex-col flex-grow ml-4"},oe={class:"text-sm text-muted-foreground"},re={class:"font-bold text-lg text-card-foreground"},le={class:"col-span-full md:col-span-1"},ne={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-surface-200 dark:bg-surface-500/10 text-surface-600 dark:text-surface-400"},ce={class:"flex flex-col flex-grow ml-4"},ie={class:"text-sm text-muted-foreground"},de={class:"font-bold text-lg text-card-foreground"},ue={class:"col-span-full md:col-span-1"},_e={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-warning-100 dark:bg-warning-500/10 text-warning-600 dark:text-warning-400"},fe={class:"flex flex-col flex-grow ml-4"},he={class:"text-sm text-muted-foreground"},xe={class:"font-bold text-lg text-card-foreground"},me={class:"col-span-full md:col-span-1"},pe={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-orange-100 dark:bg-orange-500/10 text-orange-600 dark:text-orange-400"},ke={class:"flex flex-col flex-grow ml-4"},ye={class:"text-sm text-muted-foreground"},we={class:"font-bold text-lg text-card-foreground"},ve={class:"flex flex-col md:flex-row md:space-x-4"},ge={class:"px-4 py-3 whitespace-nowrap"},be={class:"flex items-center"},$e=["content"],je=["src"],Pe={class:"px-4 py-3 whitespace-nowrap"},Ce={key:0},Ie={class:"flex items-center"},Se={class:"flex-shrink-0 h-7 w-7"},Be=["src"],De={class:"ml-2"},Ne={key:0,class:"font-extrabold text-foreground dark:text-foreground"},Ve={key:1,class:"text-error-500 italic"},Me={key:1},Ae={class:"flex items-center"},Te={class:"flex-shrink-0 h-7 w-7"},Le=["src"],Oe={class:"ml-2"},Ee=["content"],Re={class:"text-error-500 italic"},He={key:2,class:"flex items-center space-x-2"},Ue={class:"text-foreground dark:text-foreground text-xs font-bold"},ze={key:0},Ze=["href"],Ke={key:1,class:"text-foreground italic"},We={class:"px-4 py-3 whitespace-nowrap"},qe={key:0},Fe={class:"flex items-center"},Ge={class:"flex-shrink-0 h-7 w-7"},Je=["src"],Qe={class:"ml-2"},Xe={key:0,class:"font-extrabold text-foreground dark:text-foreground"},Ye={key:1,class:"text-error-500 italic"},et={key:1,class:"flex items-center space-x-2"},tt={key:0,class:"text-foreground dark:text-foreground text-xs font-bold"},st={key:1,class:"text-foreground dark:text-foreground text-xs font-bold"},at=["title"],ot=["title"],rt=["title"],lt={key:1,class:"italic text-foreground"},nt={class:"px-4 py-3 space-x-2 text-sm font-medium text-right whitespace-nowrap"},At={__name:"IndexPunishment",props:{punishments:Object,countries:Array,filters:Object,metrics:Object},setup(i){var b;const{__:a}=A(),{formatTimeAgoToNow:w,formatToDayDateString:v}=E(),C=i,g=(b=N().props.banwarden)==null?void 0:b.canShowMaskedIp,I=[{key:"id",label:a("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12",filterable:{key:"country.name",type:"multiselect",options:C.countries,searchable:!0}},{key:"type",sortable:!0,label:a("Type"),filterable:{type:"multiselect",options:["ban","mute","warn","kick"]},class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:a("Player"),filterable:{type:"text",key:"victimPlayer.username"}},...g?[{key:"ip_address",sortable:!1,label:a("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!1,label:a("Staff"),filterable:[{key:"creator_username",label:a("Staff"),type:"text"},{key:"by_console",type:"select",options:["true","false"],searchable:!1,label:a("By Console")}]},{key:"reason",sortable:!1,label:a("Reason"),filterable:{type:"text"}},{key:"start_at",sortable:!0,label:a("Date")},{key:"end_at",sortable:!0,label:a("Expires")},{key:"status",label:a("Status"),sortable:!1,class:"text-center",filterable:[{key:"status",label:a("Status"),type:"select",options:["active","inactive"]},{key:"evidence_attached",type:"select",options:["attached","missing"],searchable:!1,label:a("Evidence")}]},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],S=[{text:a("Home"),url:route("home")},{text:a("Punishments"),current:!0}];return(f,p)=>{const B=V("InertiaLink"),d=M("tippy");return l(),h(D,null,{default:n(()=>[r(T,{title:s(a)("Punishments")},null,8,["title"]),r(H,{items:S}),e("div",F,[e("div",G,[e("div",J,[r(s(x),null,{default:n(()=>[r(s(m),{class:"flex flex-row p-4"},{default:n(()=>[e("div",Q,[r(s(q),{class:"w-6 h-6 stroke-2"})]),e("div",X,[e("div",Y,o(s(a)("Punishments")),1),e("div",ee,o(i.metrics.total_active_bans+i.metrics.total_active_mutes+i.metrics.total_active_warns)+" / "+o(i.metrics.total_bans+i.metrics.total_mutes+i.metrics.total_warns+i.metrics.total_kicks),1)])]),_:1})]),_:1})]),e("div",te,[r(s(x),null,{default:n(()=>[r(s(m),{class:"flex flex-row p-4"},{default:n(()=>[e("div",se,[r(s(U),{class:"w-6 h-6 stroke-2"})]),e("div",ae,[e("div",oe,o(s(a)("Bans")),1),e("div",re,o(i.metrics.total_active_bans)+" / "+o(i.metrics.total_bans),1)])]),_:1})]),_:1})]),e("div",le,[r(s(x),null,{default:n(()=>[r(s(m),{class:"flex flex-row p-4"},{default:n(()=>[e("div",ne,[r(s(z),{class:"w-6 h-6 stroke-2"})]),e("div",ce,[e("div",ie,o(s(a)("Mutes")),1),e("div",de,o(i.metrics.total_active_mutes)+" / "+o(i.metrics.total_mutes),1)])]),_:1})]),_:1})]),e("div",ue,[r(s(x),null,{default:n(()=>[r(s(m),{class:"flex flex-row p-4"},{default:n(()=>[e("div",_e,[r(s(Z),{class:"w-6 h-6 stroke-2"})]),e("div",fe,[e("div",he,o(s(a)("Warns")),1),e("div",xe,o(i.metrics.total_active_warns)+" / "+o(i.metrics.total_warns),1)])]),_:1})]),_:1})]),e("div",me,[r(s(x),null,{default:n(()=>[r(s(m),{class:"flex flex-row p-4"},{default:n(()=>[e("div",pe,[r(s(W),{class:"w-6 h-6 stroke-2"})]),e("div",ke,[e("div",ye,o(s(a)("Kicks")),1),e("div",we,o(i.metrics.total_kicks),1)])]),_:1})]),_:1})])]),e("div",ve,[r(R,{class:"bg-card border rounded-lg shadow w-full",header:I,data:i.punishments,filters:i.filters},{default:n(({item:t})=>[r(_,null,{default:n(()=>[u((l(),h(s(y),{as:"a",href:f.route("player.punishment.show",t.id),class:L(["focus:outline-none cursor-pointer hover:underline",t.is_active?"font-bold dark:text-foreground":""]),content:s(a)("View details")},{default:n(()=>[k(o(t.id),1)]),_:2},1032,["href","class","content"])),[[d]])]),_:2},1024),e("td",ge,[e("div",be,[u((l(),c("div",{class:"flex-shrink-0 h-8 w-8 focus:outline-none",content:t.country.name},[e("img",{class:"h-8 w-8",src:t.country.photo_path,alt:""},null,8,je)],8,$e)),[[d]])])]),r(_,{class:"text-center"},{default:n(()=>[r(P,{status:t.type.value},null,8,["status"])]),_:2},1024),e("td",Pe,[t.uuid&&t.victim_player?(l(),c("div",Ce,[e("div",Ie,[e("div",Se,[e("img",{class:"h-7 w-7",src:t.victim_player.avatar_url,alt:""},null,8,Be)]),e("div",De,[u((l(),h(s(y),{as:"a",href:f.route("player.show",t.victim_player.uuid),class:"text-sm font-medium text-foreground dark:text-foreground focus:outline-none cursor-pointer hover:underline",content:t.victim_player.uuid},{default:n(()=>[t.victim_player.username?(l(),c("span",Ne,o(t.victim_player.username),1)):(l(),c("span",Ve,o(s(a)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])])):t.uuid?(l(),c("div",Me,[e("div",Ae,[e("div",Te,[e("img",{class:"h-7 w-7",src:f.route("player.avatar.get",t.uuid),alt:""},null,8,Le)]),e("div",Oe,[u((l(),c("div",{class:"text-sm font-medium text-foreground dark:text-foreground",content:t.uuid},[e("span",Re,o(s(a)("Unknown")),1)],8,Ee)),[[d]])])])])):(l(),c("div",He,[p[0]||(p[0]=e("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1)),e("span",Ue,o(s(a)("IP :punish",{punish:t.type.key})),1)]))]),s(g)?(l(),h(_,{key:0,class:"text-center"},{default:n(()=>[t.ip_address||t.masked_ip_address?(l(),c("span",ze,[e("a",{class:"hover:underline",target:"_blank",href:`https://check-host.net/ip-info?host=${t.ip_address||t.masked_ip_address}`},o(t.ip_address||t.masked_ip_address),9,Ze)])):(l(),c("span",Ke,o(s(a)("None")),1))]),_:2},1024)):O("",!0),e("td",We,[t.creator_uuid?(l(),c("div",qe,[e("div",Fe,[e("div",Ge,[e("img",{class:"h-7 w-7",src:t.creator_player?t.creator_player.avatar_url:f.route("player.avatar.get",t.creator_uuid),alt:""},null,8,Je)]),e("div",Qe,[u((l(),h(s(y),{as:"a",href:t.creator_player?f.route("player.show",t.creator_player.uuid):"#",class:"text-sm font-medium text-foreground dark:text-foreground focus:outline-none cursor-pointer hover:underline",content:t.creator_uuid},{default:n(()=>{var $,j;return[($=t.creator_player)!=null&&$.username||t.creator_username?(l(),c("span",Xe,o(((j=t.creator_player)==null?void 0:j.username)||t.creator_username),1)):(l(),c("span",Ye,o(s(a)("Unknown")),1))]}),_:2},1032,["href","content"])),[[d]])])])])):(l(),c("div",et,[p[1]||(p[1]=e("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1)),t.creator_username&&t.creator_username!=="Console"?(l(),c("span",tt,o(t.creator_username),1)):(l(),c("span",st,o(s(a)("CONSOLE")),1))]))]),r(_,null,{default:n(()=>[u((l(),c("p",{title:t.reason,class:"truncate w-32"},[k(o(t.reason),1)],8,at)),[[d]])]),_:2},1024),r(_,{class:"whitespace-nowrap"},{default:n(()=>[u((l(),c("span",{title:s(v)(t.start_at)},[k(o(s(w)(t.start_at)),1)],8,ot)),[[d]])]),_:2},1024),r(_,{class:"whitespace-nowrap"},{default:n(()=>[t.end_at?u((l(),c("span",{key:0,title:s(v)(t.end_at)},[k(o(s(w)(t.end_at)),1)],8,rt)),[[d]]):(l(),c("span",lt,o(s(a)("None")),1))]),_:2},1024),r(_,{class:"text-center"},{default:n(()=>[r(P,{status:t.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),e("td",nt,[u((l(),h(B,{title:s(a)("View details"),as:"a",href:f.route("player.punishment.show",t.id),class:"inline-flex items-center justify-center text-primary hover:text-primary"},{default:n(()=>[r(s(K),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[d]])])]),_:1},8,["data","filters"])])])]),_:1})}}};export{At as default};
