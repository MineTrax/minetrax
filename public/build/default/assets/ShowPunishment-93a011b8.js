import{u as Z,A as ee}from"./AppLayout-2122863e.js";import{o,d as i,a as e,r as V,j as te,Q as se,i as H,U as G,F as A,g as N,n as O,f as m,t as a,c as v,e as _,b as d,V as ne,T as Q,s as ae,z as W,w as r,q as le,u as t,_ as oe,p as P,m as u}from"./app-309ec2d0.js";import{D as g}from"./DtRowItem-69134ad3.js";import{_ as I}from"./CommonStatusBadge-f6a64b83.js";import{I as ie}from"./Icon-612a869f.js";import{L as Y}from"./LoadingSpinner-6c4b0aaf.js";import{_ as re}from"./Chart-0aaeca0e.js";import{_ as de}from"./DialogModal-6970aa94.js";import{_ as ce}from"./SecondaryButton-08e46819.js";import{X as ue}from"./XInput-9a426272.js";import{L as he}from"./LoadingButton-d82e2a30.js";import{r as B}from"./EyeIcon-b1bca0ca.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./useAuthorizable-a07adc3e.js";import"./Modal-75a39095.js";function _e(n,$){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function ye(n,$){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})])}function me(n,$){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z","clip-rule":"evenodd"})])}const fe={class:"flex flex-col"},pe={id:"tableSection",class:"flex flex-col"},ge={class:"overflow-x-auto"},xe={class:"inline-block min-w-full align-middle"},ve={class:"overflow-hidden"},ke={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},be={class:"bg-gray-100 dark:bg-gray-700"},we={class:"inline-flex items-center"},Se=["onClick"],Pe={key:0,class:"divide-y divide-gray-200 dark:divide-gray-700"},$e={key:0},Ce=["colspan"],De={key:1},Le=["colspan"],Ie={key:0,class:"flex items-center justify-center"},M={__name:"ArrayTable",props:{data:{required:!1,default:()=>[],type:Array},url:{required:!1,type:String},header:{required:!0,type:Array}},setup(n){const $=n,l=V(!0),k=V([]);te(()=>{$.url?(l.value=!0,se.get($.url).then(y=>{k.value=y.data.data}).catch(y=>{console.error("Error fetching data",y)}).finally(()=>{l.value=!1})):k.value=$.data});const p=V(""),S=V(""),D=H(()=>{let y=[...k.value];return p.value&&y.sort((E,f)=>{let x=T(E,p.value),b=T(f,p.value);if(x===void 0&&b===void 0)return 0;if(x===void 0)return 1;if(b===void 0)return-1;let L=0;return typeof x=="string"?L=x.localeCompare(b):(x<b&&(L=-1),x>b&&(L=1)),S.value==="desc"?-L:L}),y});function T(y,E){return E.split(".").reduce((f,x)=>(f||{})[x],y)}function U(y){p.value===y?S.value==="asc"?S.value="desc":(p.value="",S.value=""):(p.value=y,S.value="asc")}const F=H(()=>p.value?p.value.replace("-",""):""),j=H(()=>S.value==="desc"?"desc":"asc");return(y,E)=>(o(),i("div",fe,[e("div",pe,[e("div",ge,[e("div",xe,[e("div",ve,[e("table",ke,[e("thead",be,[e("tr",null,[G(y.$slots,"header",{},()=>[(o(!0),i(A,null,N(n.header,f=>(o(),i("th",{key:f.key,scope:"col",class:O(["px-4 py-3 text-xs font-semibold text-left text-gray-400 dark:text-gray-300",[f.class?f.class:""]])},[e("div",we,[e("div",{class:"inline-flex items-center uppercase cursor-pointer",onClick:x=>f.sortable?U(f.key):null},[m(a(f.label)+" ",1),f.sortable?(o(),v(ie,{key:0,name:F.value===f.key?j.value==="asc"?"sort-up":"sort-down":"sort-updown",class:O(["inline-block w-3 h-3 ml-1 text-gray-400 dark:text-gray-300",[F.value===f.key?"text-light-blue-500 dark:text-light-blue-400":""]])},null,8,["name","class"])):_("",!0)],8,Se)])],2))),128))])])]),l.value?_("",!0):(o(),i("tbody",Pe,[(o(!0),i(A,null,N(D.value,f=>(o(),i("tr",{key:f.id},[G(y.$slots,"default",{item:f,data:D.value},()=>[(o(!0),i(A,null,N(n.header,x=>(o(),i("td",{key:x.key,class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-gray-100"},a(f[x.key]),1))),128))])]))),128)),D.value.length<=0?(o(),i("tr",$e,[e("td",{colspan:n.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},a(y.__("No data found")),9,Ce)])):_("",!0)])),l.value?(o(),i("tfoot",De,[e("tr",null,[e("td",{colspan:n.header.length,class:"px-4 py-3 text-sm font-medium text-center text-gray-500 dark:text-gray-300"},[l.value?(o(),i("div",Ie,[d(Y,{class:"w-6 h-6",loading:l.value},null,8,["loading"])])):_("",!0)],8,Le)])])):_("",!0)])])])])])]))}},Ee={class:"px-2 py-4 mx-auto md:py-12 md:px-10 max-w-7xl"},Ve={class:"flex flex-col md:flex-row justify-between mb-8"},Ae={class:"flex items-center"},Ne={class:"text-lg font-bold text-gray-500 md:text-3xl dark:text-gray-300"},Te={class:"ml-3 text-lg"},Fe={class:"flex space-x-2"},je={class:"flex flex-col space-y-8 text-gray-800 dark:text-gray-300"},Ue={class:"grid w-full gap-2 md:grid-cols-3"},ze={class:"w-full grid-cols-3 gap-6 p-2 leading-8 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-2 md:grid"},He={class:"col-span-3 -mb-4 text-lg font-bold text-gray-500 dark:text-gray-400"},Be={class:"font-semibold text-gray-500 dark:text-gray-400"},Me={class:"font-bold"},Oe={class:"font-semibold text-gray-500"},Re={class:"font-bold"},qe={class:"font-semibold text-gray-500"},Ke={class:"font-bold"},Xe={class:"font-semibold text-gray-500"},Ge={key:0},Qe={class:"flex items-center"},We={class:"flex-shrink-0 w-8 h-8"},Ye=["src"],Je={class:"ml-2"},Ze={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},et={key:1,class:"italic text-red-500"},tt={key:1},st={class:"flex items-center"},nt={class:"flex-shrink-0 w-8 h-8"},at=["src"],lt={class:"ml-2"},ot=["content"],it={class:"italic text-red-500"},rt={key:2,class:"flex items-center space-x-2"},dt=e("img",{class:"w-8 h-8",src:"/images/pc_head.png",alt:""},null,-1),ct={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},ut={class:"font-semibold text-gray-500"},ht={class:"font-bold"},_t={key:0},yt={class:"font-semibold text-gray-500"},mt={class:"font-bold"},ft={class:"font-semibold text-gray-500"},pt={class:"flex items-center font-bold"},gt=["src","alt"],xt={class:"font-semibold text-gray-500"},vt={class:"flex flex-col font-bold"},kt={class:"text-xs text-gray-500 dark:text-gray-400"},bt={class:"font-semibold text-gray-500"},wt={key:0,class:"flex flex-col font-bold"},St={class:"text-xs text-gray-500 dark:text-gray-400"},Pt={key:1,class:"font-bold"},$t={class:"font-semibold text-gray-500"},Ct={class:"mt-1 font-bold leading-normal"},Dt={class:"font-semibold text-gray-500"},Lt={class:"mt-1 font-bold leading-normal"},It={class:"font-semibold text-gray-500"},Et={class:"font-bold"},Vt={class:"font-semibold text-gray-500"},At={key:0},Nt={class:"flex items-center"},Tt={class:"flex-shrink-0 w-8 h-8"},Ft=["src"],jt={class:"ml-2"},Ut={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},zt={key:1,class:"italic text-red-500"},Ht={key:1,class:"flex items-center space-x-2"},Bt=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1),Mt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},Ot={class:"font-semibold text-gray-500"},Rt={key:0},qt={class:"flex items-center"},Kt={class:"flex-shrink-0 w-8 h-8"},Xt=["src"],Gt={class:"ml-2"},Qt={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Wt={key:1,class:"italic text-red-500"},Yt={key:1,class:"flex items-center space-x-2"},Jt=e("img",{class:"w-8 h-8",src:"/images/console_head.png",alt:""},null,-1),Zt={class:"text-sm font-bold text-gray-500 dark:text-gray-400"},es={class:"font-semibold text-gray-500"},ts={class:"flex flex-col font-bold"},ss={class:"text-xs text-gray-500 dark:text-gray-400"},ns={class:"font-semibold text-gray-500"},as={class:"mt-1 font-bold leading-normal"},ls={key:2},os={class:"font-semibold text-gray-500"},is={class:"mt-1 font-bold leading-normal"},rs={key:3},ds={class:"font-semibold text-gray-500"},cs={class:"font-bold mt-0.5 leading-normal"},us={key:4},hs={class:"font-semibold text-gray-500"},_s={key:0},ys={class:"flex flex-wrap gap-2"},ms=["title","href"],fs=["disabled"],ps={key:2,class:"text-xs text-red-400"},gs={class:"w-full p-2 bg-white rounded shadow dark:bg-cool-gray-800 md:p-5 md:col-span-1"},xs={class:"col-span-3 text-lg font-bold text-gray-500 dark:text-gray-400"},vs={key:1,class:"flex items-center justify-center"},ks={class:"text-sm leading-9 list-disc list-inside"},bs={key:2,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},ws={key:3,class:"flex items-center justify-center w-full h-full text-sm italic text-center"},Ss=e("br",null,null,-1),Ps={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},$s={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},Cs={class:"px-3 py-4 whitespace-nowrap"},Ds={class:"flex items-center"},Ls=["content"],Is=["src"],Es={class:"px-6 py-4 whitespace-nowrap"},Vs={key:0},As={class:"flex items-center"},Ns={class:"flex-shrink-0 h-7 w-7"},Ts=["src"],Fs={class:"ml-2"},js={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Us={key:1,class:"italic text-red-500"},zs={key:1},Hs={class:"flex items-center"},Bs={class:"flex-shrink-0 h-7 w-7"},Ms=["src"],Os={class:"ml-2"},Rs=["content"],qs={class:"italic text-red-500"},Ks={key:2,class:"flex items-center space-x-2"},Xs=e("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1),Gs={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},Qs={key:0},Ws={key:1,class:"italic text-gray-400"},Ys={class:"px-6 py-4 whitespace-nowrap"},Js={key:0},Zs={class:"flex items-center"},en={class:"flex-shrink-0 h-7 w-7"},tn=["src"],sn={class:"ml-2"},nn={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},an={key:1,class:"italic text-red-500"},ln={key:1,class:"flex items-center space-x-2"},on=e("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1),rn={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},dn=["title"],cn=["title"],un=["title"],hn={key:1,class:"italic text-gray-400"},_n={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},yn={key:0},mn={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},fn={class:"text-sm"},pn={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},gn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},xn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},vn={class:"flex items-center"},kn=["content"],bn=["src"],wn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Sn={class:"flex items-center"},Pn={class:"font-extrabold text-gray-700 dark:text-gray-300"},$n={class:"whitespace-nowrap"},Cn=["title"],Dn=["title"],Ln={key:1,class:"text-gray-400"},In={class:"whitespace-nowrap"},En={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},Vn={key:1},An={class:"mb-2 text-2xl font-bold text-gray-500 dark:text-gray-300"},Nn={class:"text-sm"},Tn={class:"w-full bg-white rounded shadow dark:bg-cool-gray-800"},Fn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},jn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Un={class:"flex items-center"},zn=["content"],Hn=["src"],Bn={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},Mn={class:"flex items-center"},On={class:"flex-shrink-0 h-7 w-7"},Rn=["src"],qn={class:"ml-2"},Kn={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},Xn={key:1,class:"italic text-red-500"},Gn={class:"whitespace-nowrap"},Qn=["title"],Wn=["title"],Yn={class:"px-4 py-3 text-sm font-medium text-center whitespace-nowrap"},Jn={class:"text-lg font-bold"},ya={__name:"ShowPunishment",props:{punishment:Object,permissions:Object},setup(n){var R;const $=n,{__:l}=le(),{formatTimeAgoToNow:k,formatToDayDateString:p,secondsToHMS:S}=Z(),D=(R=ne().props.banwarden)==null?void 0:R.canShowMaskedIp,T=[{key:"id",label:l("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12"},{key:"type.value",sortable:!0,label:l("Type"),class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:l("Player")},...D?[{key:"ip_address",sortable:!0,label:l("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!0,label:l("Staff")},{key:"reason",sortable:!0,label:l("Reason")},{key:"start_at",sortable:!0,label:l("Date")},{key:"end_at",sortable:!0,label:l("Expires")},{key:"is_active",label:l("Status"),sortable:!0,class:"text-center"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],U=[{key:"id",label:l("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:l("Flag"),sortable:!0,class:"text-left w-12"},{key:"player_displayname",label:l("Display name"),sortable:!0},{key:"ip_address",sortable:!0,label:l("IP Address"),class:"text-center"},{key:"session_started_at",label:l("Started"),sortable:!0},{key:"session_ended_at",label:l("Ended"),sortable:!0},{key:"server_id",label:l("Server"),sortable:!0},{key:"play_time",label:l("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:l("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],F=[{key:"id",label:l("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:l("Flag"),sortable:!0,class:"text-left w-12"},{key:"username",label:l("Player"),sortable:!0},{key:"ip_address",sortable:!0,label:l("Last IP Address"),class:"text-center"},{key:"last_seen_at",label:l("Last Seen"),sortable:!0},{key:"first_seen_at",label:l("First Seen"),sortable:!0},{key:"play_time",label:l("Play Time"),sortable:!0,class:"text-right"},{key:"punishments_count",label:l("Punishments"),sortable:!0,class:"text-right"},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}],j=V(null),y=Q({file:null}),E=()=>{j.value.click()},f=h=>{const w=h.target.files[0];w&&(y.file=w,y.post(route("player.punishment.evidence.store",$.punishment.id)))},x=V(!1),b=Q({reason:""});function L(){setTimeout(()=>{location.reload()},5e3)}return(h,w)=>{const z=ae("InertiaLink"),c=W("tippy"),J=W("confirm");return o(),v(ee,null,{default:r(()=>{var q,K;return[d(oe,{title:t(l)("Punishments")},null,8,["title"]),e("div",Ee,[e("div",Ve,[e("div",Ae,[e("h1",Ne,a(t(l)("Punishment #:id",{id:n.punishment.id,punish:n.punishment.type.value})),1),e("span",Te,[d(I,{status:n.punishment.type.value},null,8,["status"]),d(I,{status:n.punishment.is_active?"active":"inactive"},null,8,["status"]),n.punishment.is_active&&n.punishment.end_at==null?(o(),v(I,{key:0,status:"permanent"})):_("",!0)])]),e("div",Fe,[d(t(P),{href:h.route("player.punishment.index"),class:"hidden md:inline-flex items-center px-4 py-2 bg-gray-400 dark:bg-cool-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-500 focus:shadow-outline-gray transition ease-in-out duration-150"},{default:r(()=>[e("span",null,a(t(l)("Back")),1)]),_:1},8,["href"])])]),e("div",je,[e("div",Ue,[e("div",ze,[e("h3",He,a(t(l)("Punishment Details")),1),e("div",null,[e("p",Be,a(t(l)("Type")),1),e("p",Me,[d(I,{status:n.punishment.type.value},null,8,["status"])])]),e("div",null,[e("p",Oe,a(t(l)("ID")),1),e("p",Re,a(n.punishment.id),1)]),e("div",null,[e("p",qe,a(t(l)("Status")),1),e("p",Ke,[d(I,{status:n.punishment.is_active?"active":"inactive"},null,8,["status"])])]),e("div",null,[e("p",Xe,a(t(l)("Player")),1),n.punishment.uuid&&n.punishment.victim_player?(o(),i("div",Ge,[e("div",Qe,[e("div",We,[e("img",{class:"w-8 h-8",src:n.punishment.victim_player.avatar_url,alt:""},null,8,Ye)]),e("div",Je,[u((o(),v(t(P),{as:"a",href:h.route("player.show",n.punishment.victim_player.uuid),class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.victim_player.uuid},{default:r(()=>[n.punishment.victim_player.username?(o(),i("span",Ze,a(n.punishment.victim_player.username),1)):(o(),i("span",et,a(t(l)("Unknown")),1))]),_:1},8,["href","content"])),[[c]])])])])):n.punishment.uuid?(o(),i("div",tt,[e("div",st,[e("div",nt,[e("img",{class:"w-8 h-8",src:h.route("player.avatar.get",n.punishment.uuid),alt:""},null,8,at)]),e("div",lt,[u((o(),i("div",{class:"font-medium text-gray-900 dark:text-gray-200",content:n.punishment.uuid},[e("span",it,a(t(l)("Unknown")),1)],8,ot)),[[c]])])])])):(o(),i("div",rt,[dt,e("span",ct,a(t(l)("IP :punish",{punish:n.punishment.type.key})),1)]))]),e("div",null,[e("p",ut,a(t(l)("IP :punish",{punish:n.punishment.type.value})),1),e("p",ht,a(n.punishment.is_ipban?t(l)("Yes"):t(l)("No")),1)]),t(D)?(o(),i("div",_t,[e("p",yt,a(t(l)("IP Address")),1),e("p",mt,a(n.punishment.ip_address||n.punishment.masked_ip_address||t(l)("None")),1)])):_("",!0),e("div",null,[e("p",ft,a(t(l)("Country")),1),e("div",pt,[e("img",{src:n.punishment.country.photo_path,alt:n.punishment.country.iso_code,class:"w-8 h-8 mr-2"},null,8,gt),m(" "+a(n.punishment.country.name),1)])]),e("div",null,[e("p",xt,a(t(l)("Date")),1),e("div",vt,[e("span",null,a(t(k)(n.punishment.start_at)),1),e("span",kt,a(t(p)(n.punishment.start_at)),1)])]),e("div",null,[e("p",bt,a(t(l)("Expires")),1),n.punishment.end_at?(o(),i("div",wt,[e("span",null,a(t(k)(n.punishment.end_at)),1),e("span",St,a(t(p)(n.punishment.end_at)),1)])):(o(),i("div",Pt,a(t(l)("Never")),1))]),e("div",null,[e("p",$t,a(t(l)("Reason")),1),e("p",Ct,a(n.punishment.reason),1)]),e("div",null,[e("p",Dt,a(t(l)("Notes")),1),e("p",Lt,a(n.punishment.notes??t(l)("-")),1)]),e("div",null,[e("p",It,a(t(l)("Server Scope")),1),e("p",Et,a(n.punishment.server_scope),1)]),e("div",null,[e("p",Vt,a(t(l)("Punished by")),1),e("div",null,[n.punishment.creator_uuid?(o(),i("div",At,[e("div",Nt,[e("div",Tt,[e("img",{class:"w-8 h-8",src:n.punishment.creator_player?n.punishment.creator_player.avatar_url:h.route("player.avatar.get",n.punishment.creator_uuid),alt:""},null,8,Ft)]),e("div",jt,[u((o(),v(t(P),{as:"a",href:n.punishment.creator_player?h.route("player.show",n.punishment.creator_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.creator_uuid},{default:r(()=>{var s,C;return[(s=n.punishment.creator_player)!=null&&s.username||n.punishment.creator_username?(o(),i("span",Ut,a(((C=n.punishment.creator_player)==null?void 0:C.username)||n.punishment.creator_username),1)):(o(),i("span",zt,a(t(l)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(o(),i("div",Ht,[Bt,e("span",Mt,a(t(l)("CONSOLE")),1)]))])]),n.punishment.removed_at&&(n.punishment.remover_uuid||n.punishment.remover_username)?(o(),i(A,{key:1},[e("div",null,[e("p",Ot,a(t(l)("Pardon by")),1),e("div",null,[n.punishment.remover_uuid?(o(),i("div",Rt,[e("div",qt,[e("div",Kt,[e("img",{class:"w-8 h-8",src:n.punishment.remover_player?n.punishment.remover_player.avatar_url:h.route("player.avatar.get",n.punishment.remover_uuid),alt:""},null,8,Xt)]),e("div",Gt,[u((o(),v(t(P),{as:"a",href:n.punishment.remover_player?h.route("player.show",n.punishment.remover_player.uuid):"#",class:"font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:n.punishment.remover_uuid},{default:r(()=>{var s,C;return[(s=n.punishment.remover_player)!=null&&s.username||n.punishment.creator_username?(o(),i("span",Qt,a(((C=n.punishment.remover_player)==null?void 0:C.username)||n.punishment.creator_username),1)):(o(),i("span",Wt,a(t(l)("Unknown")),1))]}),_:1},8,["href","content"])),[[c]])])])])):(o(),i("div",Yt,[Jt,e("span",Zt,a(t(l)("CONSOLE")),1)]))])]),e("div",null,[e("p",es,a(t(l)("Pardon at")),1),e("div",ts,[e("span",null,a(t(k)(n.punishment.removed_at)),1),e("span",ss,a(t(p)(n.punishment.removed_at)),1)])]),e("div",null,[e("p",ns,a(t(l)("Pardon Reason")),1),e("p",as,a(n.punishment.removed_reason??t(l)("-")),1)])],64)):_("",!0),n.punishment.plugin_punishment_id?(o(),i("div",ls,[e("p",os,a(t(l)("Plugin Punishment ID")),1),e("p",is,a(n.punishment.plugin_punishment_id),1)])):_("",!0),n.punishment.origin_server_name?(o(),i("div",rs,[e("p",ds,a(t(l)("Origin Server")),1),e("p",cs,a(n.punishment.origin_server_name),1)])):_("",!0),n.permissions.canViewEvidence?(o(),i("div",us,[e("p",hs,a(t(l)("Uploaded Evidence")),1),n.punishment.evidences<=0&&!n.permissions.canCreateEvidence?(o(),i("p",_s,a("-"))):_("",!0),e("div",ys,[(o(!0),i(A,null,N(n.punishment.evidences,s=>(o(),i("div",{key:s.id,class:"p-1.5 relative dark:bg-gray-900 bg-gray-200 rounded group"},[u((o(),i("a",{target:"_blank",title:t(l)("View :file",{file:s.file_name}),href:h.route("player.punishment.evidence.show",{playerPunishment:n.punishment.id,evidence:s.id})},[d(t(_e),{class:"w-6 h-6 p-0.5"})],8,ms)),[[c]]),n.permissions.canDeleteEvidence?u((o(),v(t(P),{key:0,as:"button",class:"block",method:"DELETE",href:h.route("player.punishment.evidence.delete",{playerPunishment:n.punishment.id,evidence:s.id})},{default:r(()=>[d(t(me),{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:text-red-400 absolute -top-2 -right-2 w-5 h-5 p-0.5 text-gray-500 dark:text-gray-200 cursor-pointer"})]),_:2},1032,["href"])),[[J,{message:"Are you sure you want to delete this evidence?"}],[c]]):_("",!0)]))),128)),n.permissions.canCreateEvidence?(o(),i("input",{key:0,ref_key:"fileRef",ref:j,type:"file",class:"hidden",onInput:f},null,544)):_("",!0),n.permissions.canCreateEvidence?(o(),i("button",{key:1,disabled:t(y).processing,class:"p-1.5 dark:bg-gray-900 bg-gray-200 rounded",onClick:E},[t(y).processing?_("",!0):(o(),v(t(ye),{key:0,class:"w-6 h-6 p-0.5"})),d(Y,{loading:t(y).processing,class:"w-6 h-6 p-1"},null,8,["loading"])],8,fs)):_("",!0),t(y).errors.file?(o(),i("p",ps,a(t(y).errors.file),1)):_("",!0)])])):_("",!0)]),e("div",gs,[e("h3",xs,a(t(l)("AI Insights")),1),n.punishment.insights&&n.punishment.insights.score?(o(),v(re,{key:0,options:{series:[{type:"gauge",startAngle:180,endAngle:0,center:["50%","75%"],radius:"90%",min:0,max:1,splitNumber:8,axisLine:{lineStyle:{width:6,color:[[.25,"#7CFFB2"],[.5,"#58D9F9"],[.75,"#FDDD60"],[1,"#FF6E76"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:20,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{length:12,lineStyle:{color:"auto",width:2}},splitLine:{length:20,lineStyle:{color:"auto",width:5}},axisLabel:{color:"#464646",fontSize:20,distance:-60,rotate:"tangential",formatter:function(s){return""}},title:{offsetCenter:[0,"-10%"],fontSize:20},detail:{fontSize:30,offsetCenter:[0,"-35%"],valueAnimation:!0,formatter:function(s){return Math.round(s*100)+""},color:"inherit"},data:[{value:((q=n.punishment.insights)==null?void 0:q.score)/100,name:t(l)("Score")}]}]},height:"250px",autoresize:!0},null,8,["options"])):_("",!0),n.punishment.insights&&n.punishment.insights.insights?(o(),i("div",vs,[e("ul",ks,[(o(!0),i(A,null,N((K=n.punishment.insights)==null?void 0:K.insights,s=>(o(),i("li",{key:s},a(s),1))),128))])])):_("",!0),n.punishment.insights?_("",!0):(o(),i("div",bs,a(t(l)("No insights available! Check back later.")),1)),n.punishment.insights&&n.punishment.insights.status==="generating"?(o(),i("div",ws,[m(a(t(l)("Generating insights. Hang tight!"))+" ",1),Ss,m(" "+a(t(l)("Please refresh the page after few seconds.")),1)])):_("",!0)])]),e("div",null,[e("h3",Ps,a(t(l)("Last 5 Punishments")),1),e("div",$s,[d(M,{url:h.route("player.punishment.show.history",n.punishment.id),header:T,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[d(g,null,{default:r(()=>[u((o(),v(t(P),{as:"a",href:h.route("player.punishment.show",s.id),class:O(["cursor-pointer focus:outline-none hover:underline",s.is_active?"font-bold dark:text-gray-300":""]),content:t(l)("View details")},{default:r(()=>[m(a(s.id),1)]),_:2},1032,["href","class","content"])),[[c]])]),_:2},1024),e("td",Cs,[e("div",Ds,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,Is)],8,Ls)),[[c]])])]),d(g,{class:"text-center"},{default:r(()=>[d(I,{status:s.type.value},null,8,["status"])]),_:2},1024),e("td",Es,[s.uuid&&s.victim_player?(o(),i("div",Vs,[e("div",As,[e("div",Ns,[e("img",{class:"h-7 w-7",src:s.victim_player.avatar_url,alt:""},null,8,Ts)]),e("div",Fs,[u((o(),v(t(P),{as:"a",href:h.route("player.show",s.victim_player.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.victim_player.uuid},{default:r(()=>[s.victim_player.username?(o(),i("span",js,a(s.victim_player.username),1)):(o(),i("span",Us,a(t(l)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])])):s.uuid?(o(),i("div",zs,[e("div",Hs,[e("div",Bs,[e("img",{class:"h-7 w-7",src:h.route("player.avatar.get",s.uuid),alt:""},null,8,Ms)]),e("div",Os,[u((o(),i("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-200",content:s.uuid},[e("span",qs,a(t(l)("Unknown")),1)],8,Rs)),[[c]])])])])):(o(),i("div",Ks,[Xs,e("span",Gs,a(t(l)("IP :punish",{punish:s.type.key})),1)]))]),t(D)?(o(),v(g,{key:0,class:"text-center"},{default:r(()=>[s.ip_address||s.masked_ip_address?(o(),i("span",Qs,a(s.ip_address||s.masked_ip_address),1)):(o(),i("span",Ws,a(t(l)("None")),1))]),_:2},1024)):_("",!0),e("td",Ys,[s.creator_uuid?(o(),i("div",Js,[e("div",Zs,[e("div",en,[e("img",{class:"h-7 w-7",src:s.creator_player?s.creator_player.avatar_url:h.route("player.avatar.get",s.creator_uuid),alt:""},null,8,tn)]),e("div",sn,[u((o(),v(t(P),{as:"a",href:s.creator_player?h.route("player.show",s.creator_player.uuid):"#",class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.creator_uuid},{default:r(()=>{var C,X;return[(C=s.creator_player)!=null&&C.username||s.creator_username?(o(),i("span",nn,a(((X=s.creator_player)==null?void 0:X.username)||s.creator_username),1)):(o(),i("span",an,a(t(l)("Unknown")),1))]}),_:2},1032,["href","content"])),[[c]])])])])):(o(),i("div",ln,[on,e("span",rn,a(t(l)("CONSOLE")),1)]))]),d(g,null,{default:r(()=>[u((o(),i("p",{title:s.reason,class:"w-20 truncate"},[m(a(s.reason),1)],8,dn)),[[c]])]),_:2},1024),d(g,{class:"whitespace-nowrap"},{default:r(()=>[u((o(),i("span",{title:t(p)(s.start_at)},[m(a(t(k)(s.start_at)),1)],8,cn)),[[c]])]),_:2},1024),d(g,{class:"whitespace-nowrap"},{default:r(()=>[s.end_at?u((o(),i("span",{key:0,title:t(p)(s.end_at)},[m(a(t(k)(s.end_at)),1)],8,un)),[[c]]):(o(),i("span",hn,a(t(l)("None")),1))]),_:2},1024),d(g,{class:"text-center"},{default:r(()=>[d(I,{status:s.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),e("td",_n,[u((o(),v(t(P),{title:t(l)("View details"),as:"a",href:h.route("player.punishment.show",s.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:r(()=>[d(t(B),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[c]])])]),_:1},8,["url"])])]),n.permissions.canViewSessions?(o(),i("div",yn,[e("h3",mn,[m(a(t(l)("Last 5 Sessions"))+" ",1),e("span",fn,a(t(l)("(before this punishment)")),1)]),e("div",pn,[d(M,{url:h.route("player.punishment.show.session",n.punishment.id),header:U,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[e("td",gn,a(s.id),1),e("td",xn,[e("div",vn,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,bn)],8,kn)),[[c]])])]),e("td",wn,[e("div",Sn,[d(z,{as:"a",href:h.route("player.intel.session.show",{player:s.player_uuid,session:s.id}),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline"},{default:r(()=>[e("span",Pn,a(s.player_displayname)+" ("+a(s.player_username)+") ",1)]),_:2},1032,["href"])])]),d(g,{class:"text-center"},{default:r(()=>[u((o(),i("span",$n,[m(a(s.player_ip_address||"-"),1)])),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(p)(s.session_started_at)},[m(a(t(k)(s.session_started_at)),1)],8,Cn)),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[s.session_ended_at?u((o(),i("span",{key:0,class:"whitespace-nowrap",title:t(p)(s.session_ended_at)},[m(a(t(k)(s.session_ended_at)),1)],8,Dn)),[[c]]):(o(),i("span",Ln,"—"))]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",In,[m(a(s.server.name),1)])),[[c]])]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[m(a(t(S)(s.play_time,!0)),1)]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[m(a(t(S)(s.afk_time,!0)),1)]),_:2},1024),e("td",En,[u((o(),v(z,{as:"a",href:h.route("player.intel.session.show",{player:s.player_uuid,session:s.id}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(l)("View Session Details")},{default:r(()=>[d(t(B),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):_("",!0),n.permissions.canViewAlts?(o(),i("div",Vn,[e("h3",An,[m(a(t(l)("Possible Alts"))+" ",1),e("span",Nn,a(t(l)("(players with similar ip address)")),1)]),e("div",Tn,[d(M,{url:h.route("player.punishment.show.alt",n.punishment.id),header:F,class:"w-full bg-white rounded shadow dark:bg-gray-800"},{default:r(({item:s})=>[e("td",Fn,a(s.id),1),e("td",jn,[e("div",Un,[u((o(),i("div",{class:"flex-shrink-0 w-8 h-8 focus:outline-none",content:s.country.name},[e("img",{class:"w-8 h-8",src:s.country.photo_path,alt:""},null,8,Hn)],8,zn)),[[c]])])]),e("td",Bn,[e("div",Mn,[e("div",On,[e("img",{class:"h-7 w-7",src:s.avatar_url,alt:""},null,8,Rn)]),e("div",qn,[u((o(),v(t(P),{as:"a",href:h.route("player.show",s.uuid),class:"text-sm font-medium text-gray-900 cursor-pointer dark:text-gray-200 focus:outline-none hover:underline",content:s.uuid},{default:r(()=>[s.username?(o(),i("span",Kn,a(s.username),1)):(o(),i("span",Xn,a(t(l)("Unknown")),1))]),_:2},1032,["href","content"])),[[c]])])])]),d(g,{class:"text-center"},{default:r(()=>[u((o(),i("span",Gn,[m(a(s.ip_address||"-"),1)])),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(p)(s.last_seen_at)},[m(a(t(k)(s.last_seen_at)),1)],8,Qn)),[[c]])]),_:2},1024),d(g,null,{default:r(()=>[u((o(),i("span",{class:"whitespace-nowrap",title:t(p)(s.first_seen_at)},[m(a(t(k)(s.first_seen_at)),1)],8,Wn)),[[c]])]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[m(a(t(S)(s.play_time,!0)),1)]),_:2},1024),d(g,{class:"text-right"},{default:r(()=>[m(a(s.punishments_count),1)]),_:2},1024),e("td",Yn,[u((o(),v(z,{as:"a",href:h.route("player.show",{player:s.uuid}),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800",title:t(l)("View Details")},{default:r(()=>[d(t(B),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]),_:1},8,["url"])])])):_("",!0)])]),d(de,{show:x.value,onClose:w[3]||(w[3]=s=>x.value=!1)},{title:r(()=>[e("h3",Jn,a(t(l)("Pardon")),1)]),content:r(()=>[d(ue,{modelValue:t(b).reason,"onUpdate:modelValue":w[0]||(w[0]=s=>t(b).reason=s),label:t(l)("Please provide a reason.."),error:t(b).errors.reason},null,8,["modelValue","label","error"])]),footer:r(()=>[d(ce,{class:"mr-2",onClick:w[1]||(w[1]=s=>x.value=!1)},{default:r(()=>[m(a(t(l)("Cancel")),1)]),_:1}),d(he,{loading:t(b).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:shadow-outline-gray",onClick:w[2]||(w[2]=()=>{t(b).delete(h.route("player.punishment.pardon",{playerPunishment:n.punishment.id}),{onSuccess:()=>{x.value=!1,L()}})})},{default:r(()=>[m(a(t(l)("Pardon")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]}),_:1})}}};export{ya as default};
