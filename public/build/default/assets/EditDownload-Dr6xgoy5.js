import{k as V,y as k,c as U,w as c,s as D,o as d,b as s,j as e,a as t,f as q,d as m,t as _,g as u,P as E,i as w}from"./app-CKqa03ai.js";import{_ as C}from"./AdminLayout-DlC2W12Q.js";import{_ as N}from"./AppBreadcrumb-xm79qTMp.js";import{_ as x}from"./index-s8bxsPUj.js";import{_ as p}from"./XInput-w0FxFMT9.js";import{_ as h}from"./XSwitch-Dr0K1B6v.js";import{_ as $}from"./TipTapEditor-D-BQu6KA.js";import"./useAuthorizable-C3hyZrBu.js";import"./CloudArrowDownIcon-Ba9dDFea.js";import"./BaseLayout-CbEnUUda.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-yp24RCPW.js";import"./useForwardPropsEmits-oMML2ssv.js";import"./chevron-down-C5aVEVJv.js";import"./Teleport-BzeA4ril.js";import"./index-C1xLcZ71.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-B8DQXMOS.js";import"./x-BvgAlvXN.js";import"./Input-ByO3GjMj.js";import"./Label-CSyFC4dL.js";import"./Switch-o3iWtbu9.js";import"./useFormControl-BdLrMG8I.js";const z={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},A={class:"flex justify-between mb-4"},B={class:"mt-6"},L={class:"shadow overflow-hidden rounded-lg"},R={class:"px-4 py-5 bg-card sm:p-6"},T={class:"grid grid-cols-6 gap-6"},j={class:"col-span-6 sm:col-span-6"},F={class:"col-span-6 sm:col-span-6"},H={key:0,class:"text-xs text-destructive mt-2"},I={class:"flex items-center col-span-6 sm:col-span-3"},M={key:0,class:"flex items-center col-span-6 sm:col-span-3"},P={key:1,class:"col-span-6 sm:col-span-6"},O={key:2,class:"col-span-6 sm:col-span-6"},S={key:3,class:"col-span-6 sm:col-span-6"},W={for:"file",class:"block text-sm font-medium text-foreground mb-2"},G={class:"block p-2 w-full text-sm text-muted-foreground border border-input cursor-default rounded-lg bg-muted"},J={class:"flex items-center col-span-6 sm:col-span-3"},K={key:4,class:"col-span-6 sm:col-span-3"},Q={class:"flex items-center col-span-6 sm:col-span-6"},X={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},Y={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ge={__name:"EditDownload",props:{download:Object},setup(n){const{__:o}=D(),r=n,b=[{text:o("Admin"),current:!1},{text:o("Downloads"),url:route("admin.download.index"),current:!1},{text:o("Edit Download"),current:!0},{text:"#"+r.download.id,current:!0}],l=V({name:r.download.name,description:r.download.description,file_name:r.download.file_name,is_external_url_hidden:r.download.is_external_url_hidden,is_only_auth:r.download.is_only_auth,min_role_weight_required:r.download.min_role_weight_required,is_active:r.download.is_active,_method:"PUT"});function v(){l.post(route("admin.download.update",r.download.id),{})}return(y,a)=>{const g=k("app-head");return d(),U(C,null,{default:c(()=>{var f;return[s(g,{title:e(o)("Edit Download #:id",{id:n.download.id})},null,8,["title"]),t("div",z,[t("div",A,[s(N,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:b})]),t("div",B,[t("form",{onSubmit:q(v,["prevent"])},[t("div",L,[t("div",R,[t("div",T,[t("div",j,[s(p,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":a[0]||(a[0]=i=>e(l).name=i),label:e(o)("Download Name/Title"),error:e(l).errors.name,type:"text",name:"name"},null,8,["modelValue","label","error"])]),t("div",F,[s($,{id:"description",modelValue:e(l).description,"onUpdate:modelValue":a[1]||(a[1]=i=>e(l).description=i)},null,8,["modelValue"]),e(l).errors.description?(d(),m("p",H,_(e(l).errors.description),1)):u("",!0)]),t("div",I,[s(h,{id:"is_external","model-value":n.download.is_external,disabled:!0,label:e(o)("External URL"),help:e(o)("If you want to link to an external file, check this.")},null,8,["model-value","label","help"])]),n.download.is_external?(d(),m("div",M,[s(h,{id:"is_external_url_hidden",modelValue:e(l).is_external_url_hidden,"onUpdate:modelValue":a[2]||(a[2]=i=>e(l).is_external_url_hidden=i),label:e(o)("Hide External URL"),help:e(o)("Hide the actual external URL from end users."),name:"is_external_url_hidden",error:e(l).errors.is_external_url_hidden},null,8,["modelValue","label","help","error"])])):u("",!0),n.download.is_external?(d(),m("div",P,[s(p,{id:"file_url",disabled:!0,"model-value":n.download.file_url,label:e(o)("File Download URL"),help:e(o)("Eg: http://s3.amazonaws.com/bucket/file.zip"),type:"text",name:"file_url"},null,8,["model-value","label","help"])])):u("",!0),n.download.is_external?(d(),m("div",O,[s(p,{id:"file_name",modelValue:e(l).file_name,"onUpdate:modelValue":a[3]||(a[3]=i=>e(l).file_name=i),label:e(o)("File Name (with extension)"),error:e(l).errors.file_name,help:e(o)("Eg: file.zip"),type:"text",name:"file_name"},null,8,["modelValue","label","error","help"])])):u("",!0),n.download.is_external?u("",!0):(d(),m("div",S,[t("label",W,_(e(o)("File")),1),t("span",G,_((f=n.download.file)==null?void 0:f.file_name),1)])),t("div",J,[s(h,{id:"is_only_auth",modelValue:e(l).is_only_auth,"onUpdate:modelValue":a[4]||(a[4]=i=>e(l).is_only_auth=i),label:e(o)("Authenticated Users Only"),help:e(o)("If only authenticated users should be able to view & download this file."),name:"is_only_auth",error:e(l).errors.is_only_auth},null,8,["modelValue","label","help","error"])]),e(l).is_only_auth?(d(),m("div",K,[s(p,{id:"min_role_weight_required",modelValue:e(l).min_role_weight_required,"onUpdate:modelValue":a[5]||(a[5]=i=>e(l).min_role_weight_required=i),label:e(o)("Minimum Role Weight"),help:e(o)("The minimum role weight required to download. Leave empty to allow all authenticated users."),error:e(l).errors.min_role_weight_required,type:"number",name:"min_role_weight_required"},null,8,["modelValue","label","help","error"])])):u("",!0),t("div",Q,[s(h,{id:"is_active",modelValue:e(l).is_active,"onUpdate:modelValue":a[6]||(a[6]=i=>e(l).is_active=i),label:e(o)("Active"),help:e(o)("Active downloads are visible to end users."),name:"is_active",error:e(l).errors.is_active},null,8,["modelValue","label","help","error"])])])]),t("div",X,[s(e(x),{variant:"outline","as-child":""},{default:c(()=>[s(e(E),{href:y.route("admin.download.index")},{default:c(()=>[w(_(e(o)("Cancel")),1)]),_:1},8,["href"])]),_:1}),s(e(x),{type:"submit",disabled:e(l).processing},{default:c(()=>[e(l).processing?(d(),m("svg",Y,a[7]||(a[7]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),w(" "+_(e(o)("Update Download")),1)]),_:1},8,["disabled"])])])],32)])])]}),_:1})}}};export{ge as default};
