import{u as P,A as S}from"./AppLayout-D09sHPWy.js";import{o as r,d as n,a as e,T as $,s as A,z as D,c as f,w as i,q as I,b as l,u as a,_ as L,t as o,p as _,P as y,n as N,f as p,e as V}from"./app-B6MSbjiR.js";import{_ as T}from"./DataTable-hnP3yKY2.js";import{D as h}from"./DtRowItem-Cfc6QIWY.js";import{_ as j}from"./CommonStatusBadge-Bs39Cfhf.js";import{r as O}from"./NoSymbolIcon-BJZ6j4Ni.js";import{r as E}from"./SpeakerXMarkIcon-FwhVoBWC.js";import{r as Z}from"./EyeIcon-BI7y0NRc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DyYhHgsS.js";import"./useAuthorizable-Cf1MTXSt.js";import"./vue-multiselect.esm-Dtutmjl3.js";import"./XMarkIcon-o8SeIREM.js";import"./hidden-BChwjN3c.js";import"./keyboard-D8XalHIH.js";import"./open-closed-LifvgtoZ.js";function H(c,s){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function R(c,s){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function U(c,s){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}const z={class:"py-4 px-2 md:py-12 md:px-10 max-w-screen-2xl mx-auto"},q={class:"grid-cols-5 gap-4 mb-4 hidden md:grid"},K={class:"col-span-full md:col-span-1"},W={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},F={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-primary-100 dark:bg-opacity-10 text-primary-500"},G={class:"flex flex-col flex-grow ml-4"},J={class:"text-sm text-secondary-500 dark:text-secondary-400"},Q={class:"font-bold dark:text-secondary-200 text-lg"},X={class:"col-span-full md:col-span-1"},Y={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},ee={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-error-100 dark:bg-opacity-10 text-error-500"},te={class:"flex flex-col flex-grow ml-4"},se={class:"text-sm text-secondary-500 dark:text-secondary-400"},ae={class:"font-bold text-lg dark:text-secondary-200"},oe={class:"col-span-full md:col-span-1"},re={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},ne={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-surface-100 dark:bg-opacity-10 text-secondary-400"},ce={class:"flex flex-col flex-grow ml-4"},le={class:"text-sm text-secondary-500 dark:text-secondary-400"},ie={class:"font-bold text-lg dark:text-secondary-200"},de={class:"col-span-full md:col-span-1"},_e={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},he={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-warning-100 dark:bg-opacity-10 text-warning-500"},ue={class:"flex flex-col flex-grow ml-4"},fe={class:"text-sm text-secondary-500 dark:text-secondary-400"},xe={class:"font-bold text-lg dark:text-secondary-200"},pe={class:"col-span-full md:col-span-1"},ye={class:"flex flex-row bg-white dark:bg-surface-800 shadow rounded p-4"},me={class:"flex items-center justify-center flex-shrink-0 h-12 w-12 rounded-xl bg-orange-100 dark:bg-opacity-10 text-orange-500"},ke={class:"flex flex-col flex-grow ml-4"},we={class:"text-sm text-secondary-500 dark:text-secondary-400"},ve={class:"font-bold text-lg dark:text-secondary-200"},be={class:"flex flex-col md:flex-row md:space-x-4"},ge={class:"px-4 py-3 whitespace-nowrap"},je={class:"flex items-center"},Ce=["content"],Be=["src"],Me={class:"px-4 py-3 whitespace-nowrap"},Pe={key:0},Se={class:"flex items-center"},$e={class:"flex-shrink-0 h-7 w-7"},Ae=["src"],De={class:"ml-2"},Ie={key:0,class:"font-extrabold text-secondary-700 dark:text-secondary-300"},Le={key:1,class:"text-error-500 italic"},Ne={key:1},Ve={class:"flex items-center"},Te={class:"flex-shrink-0 h-7 w-7"},Oe=["src"],Ee={class:"ml-2"},Ze=["content"],He={class:"text-error-500 italic"},Re={key:2,class:"flex items-center space-x-2"},Ue={class:"text-secondary-500 dark:text-secondary-400 text-xs font-bold"},ze={key:0},qe=["href"],Ke={key:1,class:"text-secondary-400 italic"},We={class:"px-4 py-3 whitespace-nowrap"},Fe={key:0},Ge={class:"flex items-center"},Je={class:"flex-shrink-0 h-7 w-7"},Qe=["src"],Xe={class:"ml-2"},Ye={key:0,class:"font-extrabold text-secondary-700 dark:text-secondary-300"},et={key:1,class:"text-error-500 italic"},tt={key:1,class:"flex items-center space-x-2"},st={key:0,class:"text-secondary-500 dark:text-secondary-400 text-xs font-bold"},at={key:1,class:"text-secondary-500 dark:text-secondary-400 text-xs font-bold"},ot=["title"],rt=["title"],nt=["title"],ct={key:1,class:"italic text-secondary-400"},lt={class:"px-4 py-3 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ct={__name:"IndexPunishment",props:{punishments:Object,countries:Array,filters:Object,metrics:Object},setup(c){var v;const{__:s}=I(),{formatTimeAgoToNow:m,formatToDayDateString:k}=P(),C=c,w=(v=$().props.banwarden)==null?void 0:v.canShowMaskedIp,B=[{key:"id",label:s("#"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:"",sortable:!0,class:"text-left w-12",filterable:{key:"country.name",type:"multiselect",options:C.countries,searchable:!0}},{key:"type",sortable:!0,label:s("Type"),filterable:{type:"multiselect",options:["ban","mute","warn","kick"]},class:"text-center w-1/12"},{key:"uuid",sortable:!0,label:s("Player"),filterable:{type:"text",key:"victimPlayer.username"}},...w?[{key:"ip_address",sortable:!1,label:s("IP Address"),class:"text-center"}]:[],{key:"creator_username",sortable:!1,label:s("Staff"),filterable:[{key:"creator_username",label:s("Staff"),type:"text"},{key:"by_console",type:"select",options:["true","false"],searchable:!1,label:s("By Console")}]},{key:"reason",sortable:!1,label:s("Reason"),filterable:{type:"text"}},{key:"start_at",sortable:!0,label:s("Date")},{key:"end_at",sortable:!0,label:s("Expires")},{key:"status",label:s("Status"),sortable:!1,class:"text-center",filterable:[{key:"status",label:s("Status"),type:"select",options:["active","inactive"]},{key:"evidence_attached",type:"select",options:["attached","missing"],searchable:!1,label:s("Evidence")}]},{key:"actions",label:"",sortable:!1,class:"w-1 text-right"}];return(u,x)=>{const M=A("InertiaLink"),d=D("tippy");return r(),f(S,null,{default:i(()=>[l(L,{title:a(s)("Punishments")},null,8,["title"]),e("div",z,[e("div",q,[e("div",K,[e("div",W,[e("div",F,[l(a(U),{class:"w-6 h-6 stroke-2"})]),e("div",G,[e("div",J,o(a(s)("Punishments")),1),e("div",Q,o(c.metrics.total_active_bans+c.metrics.total_active_mutes+c.metrics.total_active_warns)+" / "+o(c.metrics.total_bans+c.metrics.total_mutes+c.metrics.total_warns+c.metrics.total_kicks),1)])])]),e("div",X,[e("div",Y,[e("div",ee,[l(a(O),{class:"w-6 h-6 stroke-2"})]),e("div",te,[e("div",se,o(a(s)("Bans")),1),e("div",ae,o(c.metrics.total_active_bans)+" / "+o(c.metrics.total_bans),1)])])]),e("div",oe,[e("div",re,[e("div",ne,[l(a(E),{class:"w-6 h-6 stroke-2"})]),e("div",ce,[e("div",le,o(a(s)("Mutes")),1),e("div",ie,o(c.metrics.total_active_mutes)+" / "+o(c.metrics.total_mutes),1)])])]),e("div",de,[e("div",_e,[e("div",he,[l(a(R),{class:"w-6 h-6 stroke-2"})]),e("div",ue,[e("div",fe,o(a(s)("Warns")),1),e("div",xe,o(c.metrics.total_active_warns)+" / "+o(c.metrics.total_warns),1)])])]),e("div",pe,[e("div",ye,[e("div",me,[l(a(H),{class:"w-6 h-6 stroke-2"})]),e("div",ke,[e("div",we,o(a(s)("Kicks")),1),e("div",ve,o(c.metrics.total_kicks),1)])])])]),e("div",be,[l(T,{class:"bg-white rounded shadow dark:bg-surface-800 w-full",header:B,data:c.punishments,filters:c.filters},{default:i(({item:t})=>[l(h,null,{default:i(()=>[_((r(),f(a(y),{as:"a",href:u.route("player.punishment.show",t.id),class:N(["focus:outline-none cursor-pointer hover:underline",t.is_active?"font-bold dark:text-secondary-300":""]),content:a(s)("View details")},{default:i(()=>[p(o(t.id),1)]),_:2},1032,["href","class","content"])),[[d]])]),_:2},1024),e("td",ge,[e("div",je,[_((r(),n("div",{class:"flex-shrink-0 h-8 w-8 focus:outline-none",content:t.country.name},[e("img",{class:"h-8 w-8",src:t.country.photo_path,alt:""},null,8,Be)],8,Ce)),[[d]])])]),l(h,{class:"text-center"},{default:i(()=>[l(j,{status:t.type.value},null,8,["status"])]),_:2},1024),e("td",Me,[t.uuid&&t.victim_player?(r(),n("div",Pe,[e("div",Se,[e("div",$e,[e("img",{class:"h-7 w-7",src:t.victim_player.avatar_url,alt:""},null,8,Ae)]),e("div",De,[_((r(),f(a(y),{as:"a",href:u.route("player.show",t.victim_player.uuid),class:"text-sm font-medium text-secondary-900 dark:text-secondary-200 focus:outline-none cursor-pointer hover:underline",content:t.victim_player.uuid},{default:i(()=>[t.victim_player.username?(r(),n("span",Ie,o(t.victim_player.username),1)):(r(),n("span",Le,o(a(s)("Unknown")),1))]),_:2},1032,["href","content"])),[[d]])])])])):t.uuid?(r(),n("div",Ne,[e("div",Ve,[e("div",Te,[e("img",{class:"h-7 w-7",src:u.route("player.avatar.get",t.uuid),alt:""},null,8,Oe)]),e("div",Ee,[_((r(),n("div",{class:"text-sm font-medium text-secondary-900 dark:text-secondary-200",content:t.uuid},[e("span",He,o(a(s)("Unknown")),1)],8,Ze)),[[d]])])])])):(r(),n("div",Re,[x[0]||(x[0]=e("img",{class:"h-7 w-7",src:"/images/pc_head.png",alt:""},null,-1)),e("span",Ue,o(a(s)("IP :punish",{punish:t.type.key})),1)]))]),a(w)?(r(),f(h,{key:0,class:"text-center"},{default:i(()=>[t.ip_address||t.masked_ip_address?(r(),n("span",ze,[e("a",{class:"hover:underline",target:"_blank",href:`https://check-host.net/ip-info?host=${t.ip_address||t.masked_ip_address}`},o(t.ip_address||t.masked_ip_address),9,qe)])):(r(),n("span",Ke,o(a(s)("None")),1))]),_:2},1024)):V("",!0),e("td",We,[t.creator_uuid?(r(),n("div",Fe,[e("div",Ge,[e("div",Je,[e("img",{class:"h-7 w-7",src:t.creator_player?t.creator_player.avatar_url:u.route("player.avatar.get",t.creator_uuid),alt:""},null,8,Qe)]),e("div",Xe,[_((r(),f(a(y),{as:"a",href:t.creator_player?u.route("player.show",t.creator_player.uuid):"#",class:"text-sm font-medium text-secondary-900 dark:text-secondary-200 focus:outline-none cursor-pointer hover:underline",content:t.creator_uuid},{default:i(()=>{var b,g;return[(b=t.creator_player)!=null&&b.username||t.creator_username?(r(),n("span",Ye,o(((g=t.creator_player)==null?void 0:g.username)||t.creator_username),1)):(r(),n("span",et,o(a(s)("Unknown")),1))]}),_:2},1032,["href","content"])),[[d]])])])])):(r(),n("div",tt,[x[1]||(x[1]=e("img",{class:"h-7 w-7",src:"/images/console_head.png",alt:""},null,-1)),t.creator_username&&t.creator_username!=="Console"?(r(),n("span",st,o(t.creator_username),1)):(r(),n("span",at,o(a(s)("CONSOLE")),1))]))]),l(h,null,{default:i(()=>[_((r(),n("p",{title:t.reason,class:"truncate w-32"},[p(o(t.reason),1)],8,ot)),[[d]])]),_:2},1024),l(h,{class:"whitespace-nowrap"},{default:i(()=>[_((r(),n("span",{title:a(k)(t.start_at)},[p(o(a(m)(t.start_at)),1)],8,rt)),[[d]])]),_:2},1024),l(h,{class:"whitespace-nowrap"},{default:i(()=>[t.end_at?_((r(),n("span",{key:0,title:a(k)(t.end_at)},[p(o(a(m)(t.end_at)),1)],8,nt)),[[d]]):(r(),n("span",ct,o(a(s)("None")),1))]),_:2},1024),l(h,{class:"text-center"},{default:i(()=>[l(j,{status:t.is_active?"active":"inactive"},null,8,["status"])]),_:2},1024),e("td",lt,[_((r(),f(M,{title:a(s)("View details"),as:"a",href:u.route("player.punishment.show",t.id),class:"inline-flex items-center justify-center text-primary-500 hover:text-primary-800"},{default:i(()=>[l(a(Z),{class:"inline-block w-5 h-5"})]),_:2},1032,["title","href"])),[[d]])])]),_:1},8,["data","filters"])])])]),_:1})}}};export{Ct as default};
