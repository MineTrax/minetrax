import{_ as C}from"./AdminLayout-BwN0mh-k.js";import{u as $}from"./useAuthorizable-CYy4Wh89.js";import{u as E}from"./BaseLayout-D4bLMm7A.js";import{y as I,z as b,c as i,w as a,s as S,o,b as r,j as e,a as n,i as m,t as c,P as u,g as _,E as T,v as p,d as N}from"./app-Do9q-MyE.js";import{_ as F}from"./DataTable-VEChXCNt.js";import{D as f}from"./DtRowItem-DJIkcU6H.js";import{_ as R}from"./AppBreadcrumb-DZUMC8fH.js";import{_ as V}from"./index-oDi_KVMO.js";import{I as h}from"./Icon-DFL_HybF.js";import{_ as q}from"./CommonStatusBadge-C_HDNmPz.js";import{r as B}from"./EyeIcon-CtPE8gUZ.js";import{r as O}from"./ChartBarSquareIcon-CA93g1Jc.js";import{r as P}from"./PencilSquareIcon-BO7lBTrU.js";import{r as z}from"./TrashIcon-Bw-WGA2N.js";import"./CloudArrowDownIcon-BPF7BCYT.js";import"./index-DlYoUYeQ.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./SelectValue-CKzp-AAz.js";import"./useFormControl-DGZk-wbf.js";import"./vue-multiselect.esm-Bll4-Ezs.js";import"./XMarkIcon-BurOU1Wc.js";const M={class:"px-10 py-8 mx-auto text-foreground"},H={class:"flex justify-between mb-4"},L={class:"flex"},G={class:"px-4 py-4 text-sm font-medium text-center text-foreground whitespace-nowrap dark:text-foreground"},J={class:"py-4 text-sm text-center text-foreground align-middle px-9 whitespace-nowrap"},K={class:"py-4 text-sm text-center text-foreground align-middle px-9 whitespace-nowrap"},Q=["title"],U={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Ae={__name:"IndexRecruitment",props:{recruitments:Object,filters:Object},setup(w){function y(l){switch(l){case"active":return"green";case"draft":return"pending";case"disabled":return"red";case"archived":return"deferred";default:return l}}const{can:x}=$(),{__:t}=S(),{formatTimeAgoToNow:g,formatToDayDateString:k}=E(),v=[{text:t("Admin"),current:!1},{text:t("Application Forms"),current:!0}],A=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"title",sortable:!0,label:t("Title"),filterable:{type:"text"}},{key:"status",label:t("Status"),sortable:!0,filterable:{type:"multiselect",options:["draft","active","disabled","archived"]}},{key:"is_notify_staff_on_submission",sortable:!0,label:t("Notify Staff"),class:"whitespace-nowrap"},{key:"is_allow_messages_from_users",sortable:!0,label:t("Messaging"),class:"whitespace-nowrap"},{key:"open_submissions_count",sortable:!0,label:t("Open Requests"),class:"text-right whitespace-nowrap"},{key:"closed_submissions_count",sortable:!0,label:t("Closed Requests"),class:"text-right whitespace-nowrap"},{key:"created_at",sortable:!0,label:t("Created")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(l,W)=>{const D=I("app-head"),d=b("tippy"),j=b("confirm");return o(),i(C,null,{default:a(()=>[r(D,{title:e(t)("Manage Applications")},null,8,["title"]),n("div",M,[n("div",H,[r(R,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:v}),n("div",L,[e(x)("create recruitments")?(o(),i(e(V),{key:0,"as-child":""},{default:a(()=>[r(e(u),{href:l.route("admin.recruitment.create")},{default:a(()=>[m(c(e(t)("Create Application Form")),1)]),_:1},8,["href"])]),_:1})):_("",!0)])]),r(F,{class:"bg-card rounded-lg shadow",header:A,data:w.recruitments,filters:w.filters},{default:a(({item:s})=>[n("td",G,c(s.id),1),r(f,{class:""},{default:a(()=>[r(e(u),{as:"a",href:l.route("admin.recruitment.show",s.id),class:"dark:hover:text-foreground hover:text-primary"},{default:a(()=>[m(c(s.title),1)]),_:2},1032,["href"])]),_:2},1024),r(f,null,{default:a(()=>[r(q,{status:y(s.status.value),value:e(T.startCase)(s.status.value)},null,8,["status","value"])]),_:2},1024),n("td",J,[s.is_notify_staff_on_submission?(o(),i(h,{key:0,class:"text-success-500 focus:outline-none",name:"check-circle"})):(o(),i(h,{key:1,class:"text-error-500",name:"cross-circle"}))]),n("td",K,[s.is_allow_messages_from_users?(o(),i(h,{key:0,class:"text-success-500 focus:outline-none",name:"check-circle"})):(o(),i(h,{key:1,class:"text-error-500",name:"cross-circle"}))]),r(f,{class:"text-right"},{default:a(()=>[m(c(s.open_submissions_count),1)]),_:2},1024),r(f,{class:"text-right"},{default:a(()=>[m(c(s.closed_submissions_count),1)]),_:2},1024),r(f,{class:"whitespace-nowrap"},{default:a(()=>[p((o(),N("span",{title:e(k)(s.created_at)},[m(c(e(g)(s.created_at)),1)],8,Q)),[[d]])]),_:2},1024),n("td",U,[["active","disabled"].includes(s.status.value)?p((o(),i(e(u),{key:0,as:"a",href:l.route("recruitment.show",s.slug),class:"inline-flex items-center justify-center text-primary hover:text-primary",title:e(t)("Show Public View")},{default:a(()=>[r(e(B),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):_("",!0),p((o(),i(e(u),{as:"a",href:l.route("admin.recruitment.show",s.id),class:"inline-flex items-center justify-center text-success-500 hover:text-success-800",title:e(t)("Show Intel")},{default:a(()=>[r(e(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]),e(x)("update recruitments")?p((o(),i(e(u),{key:1,as:"a",href:l.route("admin.recruitment.edit",s.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Edit Application Form")},{default:a(()=>[r(e(P),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[d]]):_("",!0),e(x)("delete recruitments")?p((o(),i(e(u),{key:2,as:"button",method:"DELETE",href:l.route("admin.recruitment.delete",s.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Application Form")},{default:a(()=>[r(e(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"Deleting this Application Form will also delete all its requests. Are you sure you want to delete this application form & its requests permanently?"}],[d]]):_("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{Ae as default};
