import{e as F,h as V,k as B,y as w,z as T,c as v,w as r,s as L,o as l,b as n,j as e,_ as N,a as t,t as i,i as d,g as b,v as y,d as u,E as K,G as R,D as W}from"./app-Do9q-MyE.js";import{_ as q}from"./AppLayout-C5XjLoPT.js";import{u as E}from"./BaseLayout-D4bLMm7A.js";import{u as H}from"./useFormKit-DsPcY36i.js";import{_ as I}from"./RecruitmentMessagesBox-nAVUW2LK.js";import{_ as k}from"./CommonStatusBadge-C_HDNmPz.js";import{_ as M,a as P,b as U,c as z,d as Y}from"./DialogTitle-B9Dyifwy.js";import{_ as G}from"./index-oDi_KVMO.js";import{_ as O}from"./XTextarea-B_CIg63F.js";import{L as J}from"./LoadingButton-Cz_Frxmz.js";import{_ as Q}from"./AlertCard-DEeIr4Ua.js";import{_ as X}from"./AppBreadcrumb-DZUMC8fH.js";import{r as Z}from"./CheckCircleIcon-C-TLGyYE.js";import"./Icon-DFL_HybF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-L3e3_QW0.js";import"./chevron-down-DrlPincR.js";import"./Teleport-YoVnS0TY.js";import"./index-DlYoUYeQ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-Ckc87s0l.js";import"./x-DOdw7ujo.js";import"./useAuthorizable-CYy4Wh89.js";import"./LoadingSpinner-BrCnd5ws.js";import"./UserDisplayname-BvJDm5gQ.js";import"./Textarea-7mc2PQEx.js";import"./Label-MSuCJuMN.js";import"./loader-circle-8BF3k2wr.js";import"./Card-L72ilMm5.js";import"./CardContent-CXvCEuPJ.js";import"./XMarkIcon-BurOU1Wc.js";const tt={class:"py-4 px-2 md:px-10 max-w-screen-2xl mx-auto"},et={class:"flex justify-between items-center mb-4"},st={class:"font-bold text-xl text-foreground dark:text-foreground flex items-center"},ot={class:"mr-3"},it={class:"flex flex-col md:flex-row gap-4"},nt={class:"md:w-1/2 space-y-4"},rt={class:"bg-card text-card-foreground border rounded-lg shadow p-4"},at={class:"flex flex-col mt-3"},lt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},dt={class:"flex items-center justify-between w-full"},ut={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},mt={class:"flex items-center justify-between w-full"},ct={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ft={class:"flex items-center justify-between w-full"},xt=["title"],bt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},pt={class:"flex items-center justify-between w-full"},_t=["title"],gt={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},ht={class:"flex items-center justify-between w-full"},wt={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},vt={class:"flex items-center justify-between w-full"},yt={class:"w-1/2 whitespace-pre-line text-right"},kt={key:1,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-foreground gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-foreground"},$t={class:"flex items-center justify-between w-full"},St={class:"flex-shrink-0 h-10 w-10 mr-2"},At=["src"],jt={class:"flex-col"},Ct={class:"text-sm text-foreground"},Dt={key:0,class:"flex justify-end mt-4 pt-4 border-t border-border"},Ft={class:"bg-card text-card-foreground border rounded-lg shadow overflow-hidden"},Vt={class:"md:w-1/2"},Bt={class:"bg-card text-card-foreground border rounded-lg shadow p-4 md:p-6 no-disabled-effect"},Tt={class:"font-extrabold text-lg mb-4"},Lt={key:0,class:"text-xs text-muted-foreground mt-1"},Nt={class:"grid gap-4 py-4"},fe={__name:"ShowRecruitmentSubmission",props:{submission:{type:Object}},setup(s){const{__:o}=L(),{formatTimeAgoToNow:p,formatToDayDateString:_,secondsToHMS:$}=E(),g=s,S=F(()=>g.submission.data.map(f=>({...f,value:f.data}))),A=H().generateSchemaFromFieldsArray(S.value,!0),m=V(!1),c=B({reason:""}),j=[{text:o("Home"),url:route("home"),current:!1},{text:o("Applications"),url:route("recruitment.index"),current:!1},{text:o("My Requests"),url:route("recruitment-submission.index"),current:!1},{text:o("Submission #")+g.submission.id,current:!0}];return(f,a)=>{const C=w("InertiaLink"),D=w("FormKit"),h=T("tippy");return l(),v(q,null,{default:r(()=>[n(N,{title:e(o)("Your application request for :recruitmenttitle #:index - Applications",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})},null,8,["title"]),n(X,{items:j}),t("div",tt,[t("div",et,[t("h1",st,[t("span",ot,i(e(o)("Application for :recruitmenttitle #:index",{index:s.submission.id,recruitmenttitle:s.submission.recruitment.title})),1),n(k,{status:s.submission.status.value},null,8,["status"])])]),s.submission.status.value==="pending"?(l(),v(Q,{key:0,"title-class":"flex items-center","text-color":"text-success-600 dark:text-success-400","border-color":"border-success-500"},{icon:r(()=>[n(e(Z),{class:"h-6 w-6 text-success-500 mr-2"})]),default:r(()=>[d(i(e(o)("Success! A staff will soon review your application. Please be patience."))+" ",1)]),_:1})):b("",!0),t("div",it,[t("div",nt,[t("div",rt,[t("ul",at,[t("li",lt,[t("div",dt,[t("span",null,i(e(o)("Applicant")),1),t("div",null,i(e(o)("You")),1)])]),t("li",ut,[t("div",mt,[t("span",null,i(e(o)("Application")),1),t("span",null,i(s.submission.recruitment.title),1)])]),t("li",ct,[t("div",ft,[t("span",null,i(e(o)("Created At")),1),y((l(),u("span",{title:e(p)(s.submission.created_at)},[d(i(e(_)(s.submission.created_at)),1)],8,xt)),[[h]])])]),t("li",bt,[t("div",pt,[t("span",null,i(e(o)("Last Updated At")),1),y((l(),u("span",{title:e(p)(s.submission.updated_at)},[d(i(e(_)(s.submission.updated_at)),1)],8,_t)),[[h]])])]),t("li",gt,[t("div",ht,[t("span",null,i(e(o)("Request Status")),1),n(k,{status:s.submission.status.value},null,8,["status"])])]),s.submission.last_act_reason?(l(),u("li",wt,[t("div",vt,[t("span",null,i(e(o)("Reason")),1),t("span",yt,i(s.submission.last_act_reason),1)])])):b("",!0),s.submission.last_act_by?(l(),u("li",kt,[t("div",$t,[t("span",null,i(e(o)("Marked :status By",{status:e(K.startCase)(s.submission.status.value)})),1),t("span",null,[n(C,{href:f.route("user.public.get",s.submission.last_actor.username),class:"flex items-center"},{default:r(()=>[t("div",St,[t("img",{class:"h-10 w-10 rounded-full",src:s.submission.last_actor.profile_photo_url,alt:"Avatar"},null,8,At)]),t("div",jt,[t("div",{class:"text-sm font-semibold text-foreground dark:text-foreground whitespace-nowrap truncate",style:R([s.submission.last_actor.roles[0].color?{color:s.submission.last_actor.roles[0].color}:null])},i(s.submission.last_actor.name),5),t("div",Ct," @"+i(s.submission.last_actor.username),1)])]),_:1},8,["href"])])])])):b("",!0)]),s.submission.i_can_withdraw?(l(),u("div",Dt,[t("button",{class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-error-500 border border-transparent rounded-md hover:bg-error-700 active:bg-error-900 focus:outline-none focus:border-error-900 focus:shadow-outline-gray",onClick:a[0]||(a[0]=x=>m.value=!0)},[t("span",null,i(e(o)("Withdraw")),1)])])):b("",!0)]),t("div",Ft,[n(I,{submission:s.submission,"for-admin":!1},null,8,["submission"])])]),t("div",Vt,[t("div",Bt,[t("h3",Tt,i(e(o)("Submission Details")),1),n(D,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:r(()=>[n(e(W),{schema:e(A)},null,8,["schema"])]),_:1})])])])]),n(e(Y),{open:m.value,"onUpdate:open":a[4]||(a[4]=x=>m.value=x)},{default:r(()=>[n(e(M),{class:"sm:max-w-[500px]"},{default:r(()=>[n(e(P),null,{default:r(()=>[n(e(U),null,{default:r(()=>[d(i(e(o)("Withdraw & Cancel Application")),1)]),_:1}),s.submission.recruitment.submission_cooldown_in_seconds?(l(),u("div",Lt,i(e(o)("Please note that you won't be apply again for a given cooldown period of :hms.",{hms:e($)(s.submission.recruitment.submission_cooldown_in_seconds,!0)})),1)):b("",!0)]),_:1}),t("div",Nt,[n(O,{modelValue:e(c).reason,"onUpdate:modelValue":a[1]||(a[1]=x=>e(c).reason=x),placeholder:e(o)("Please provide a reason for withdrawing."),error:e(c).errors.reason},null,8,["modelValue","placeholder","error"])]),n(e(z),null,{default:r(()=>[n(e(G),{variant:"outline",class:"mr-2",onClick:a[2]||(a[2]=x=>m.value=!1)},{default:r(()=>[d(i(e(o)("Cancel")),1)]),_:1}),n(J,{variant:"destructive",loading:e(c).processing,class:"px-4 py-2",onClick:a[3]||(a[3]=()=>{e(c).post(f.route("recruitment-submission.withdraw",{submission:s.submission.id,recruitment:s.submission.recruitment.slug}),{onSuccess:()=>{m.value=!1}})})},{default:r(()=>[d(i(e(o)("Withdraw")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}};export{fe as default};
