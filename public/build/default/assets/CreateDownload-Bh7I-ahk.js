import{h as y,k as V,y as g,c as k,w as u,s as U,o as a,b as i,j as e,a as s,f as C,d as n,t as m,g as d,P as D,i as f}from"./app-Ia0bJDXi.js";import{_ as q}from"./AdminLayout-CJ_PtlCd.js";import{_ as N}from"./AppBreadcrumb-D-yy1VJY.js";import{_ as h}from"./index-Bf3skjKm.js";import{_}from"./XInput-Bx6aykrQ.js";import{_ as p}from"./XSwitch-CFqX-vGy.js";import{_ as $}from"./TipTapEditor-DhY4UlE2.js";import"./useAuthorizable-Buizf3Yh.js";import"./CloudArrowDownIcon-vObJWmJX.js";import"./BaseLayout-CyMXUReW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-BR_JXAZL.js";import"./useForwardPropsEmits-WVrHBpLe.js";import"./chevron-down-CtjWoryU.js";import"./Teleport-DSkR7jkG.js";import"./index-5qxomotu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-Cc6JWPqo.js";import"./x-BUMdF8YT.js";import"./Input-D1sNIaQE.js";import"./Label-DZbOjpU-.js";import"./Switch-zWwQZ1l8.js";import"./useFormControl-D3_NwxXr.js";const z={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},A={class:"flex justify-between mb-4"},B={class:"mt-6"},E={class:"shadow overflow-hidden rounded-lg"},I={class:"px-4 py-5 bg-card sm:p-6"},L={class:"grid grid-cols-6 gap-6"},R={class:"col-span-6 sm:col-span-6"},T={class:"col-span-6 sm:col-span-6"},j={key:0,class:"text-xs text-destructive mt-2"},F={class:"flex items-center col-span-6 sm:col-span-3"},H={key:0,class:"flex items-center col-span-6 sm:col-span-3"},M={key:1,class:"col-span-6 sm:col-span-6"},P={key:2,class:"col-span-6 sm:col-span-6"},S={key:3,class:"col-span-6 sm:col-span-6"},O={for:"file",class:"block text-sm font-medium text-foreground mb-2"},W={key:0,class:"text-xs text-destructive mt-2"},G={class:"flex items-center col-span-6 sm:col-span-3"},J={key:4,class:"col-span-6 sm:col-span-3"},K={class:"flex items-center col-span-6 sm:col-span-6"},Q={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},X={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ve={__name:"CreateDownload",setup(Y){const{__:o}=U(),x=[{text:o("Admin"),current:!1},{text:o("Downloads"),url:route("admin.download.index"),current:!1},{text:o("Create Download"),current:!0}],c=y(null),l=V({name:null,description:"",is_external:!1,file_url:null,file_name:null,is_external_url_hidden:!1,is_only_auth:!1,min_role_weight_required:null,is_active:!0,file:null});function b(){!l.is_external&&c.value&&(l.file=c.value.files[0]),l.post(route("admin.download.store"),{})}return(w,t)=>{const v=g("app-head");return a(),k(q,null,{default:u(()=>[i(v,{title:e(o)("Create Download")},null,8,["title"]),s("div",z,[s("div",A,[i(N,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:x})]),s("div",B,[s("form",{onSubmit:C(b,["prevent"])},[s("div",E,[s("div",I,[s("div",L,[s("div",R,[i(_,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(l).name=r),label:e(o)("Download Name/Title"),error:e(l).errors.name,type:"text",name:"name"},null,8,["modelValue","label","error"])]),s("div",T,[i($,{id:"description",modelValue:e(l).description,"onUpdate:modelValue":t[1]||(t[1]=r=>e(l).description=r)},null,8,["modelValue"]),e(l).errors.description?(a(),n("p",j,m(e(l).errors.description),1)):d("",!0)]),s("div",F,[i(p,{id:"is_external",modelValue:e(l).is_external,"onUpdate:modelValue":t[2]||(t[2]=r=>e(l).is_external=r),label:e(o)("External URL"),help:e(o)("If you want to link to an external file, check this."),name:"is_external",error:e(l).errors.is_external},null,8,["modelValue","label","help","error"])]),e(l).is_external?(a(),n("div",H,[i(p,{id:"is_external_url_hidden",modelValue:e(l).is_external_url_hidden,"onUpdate:modelValue":t[3]||(t[3]=r=>e(l).is_external_url_hidden=r),label:e(o)("Hide External URL"),help:e(o)("Hide the actual external URL from end users."),name:"is_external_url_hidden",error:e(l).errors.is_external_url_hidden},null,8,["modelValue","label","help","error"])])):d("",!0),e(l).is_external?(a(),n("div",M,[i(_,{id:"file_url",modelValue:e(l).file_url,"onUpdate:modelValue":t[4]||(t[4]=r=>e(l).file_url=r),label:e(o)("File Download URL"),error:e(l).errors.file_url,help:e(o)("Eg: http://s3.amazonaws.com/bucket/file.zip"),type:"text",name:"file_url"},null,8,["modelValue","label","error","help"])])):d("",!0),e(l).is_external?(a(),n("div",P,[i(_,{id:"file_name",modelValue:e(l).file_name,"onUpdate:modelValue":t[5]||(t[5]=r=>e(l).file_name=r),label:e(o)("File Name (with extension)"),error:e(l).errors.file_name,help:e(o)("Eg: file.zip"),type:"text",name:"file_name"},null,8,["modelValue","label","error","help"])])):d("",!0),e(l).is_external?d("",!0):(a(),n("div",S,[s("label",O,m(e(o)("File")),1),s("input",{id:"file",ref_key:"fileInput",ref:c,type:"file",class:"block p-2 w-full text-sm text-foreground border border-input rounded-lg cursor-pointer bg-background focus:outline-none"},null,512),e(l).errors.file?(a(),n("p",W,m(e(l).errors.file),1)):d("",!0)])),s("div",G,[i(p,{id:"is_only_auth",modelValue:e(l).is_only_auth,"onUpdate:modelValue":t[6]||(t[6]=r=>e(l).is_only_auth=r),label:e(o)("Authenticated Users Only"),help:e(o)("If only authenticated users should be able to view & download this file."),name:"is_only_auth",error:e(l).errors.is_only_auth},null,8,["modelValue","label","help","error"])]),e(l).is_only_auth?(a(),n("div",J,[i(_,{id:"min_role_weight_required",modelValue:e(l).min_role_weight_required,"onUpdate:modelValue":t[7]||(t[7]=r=>e(l).min_role_weight_required=r),label:e(o)("Minimum Role Weight"),help:e(o)("The minimum role weight required to download. Leave empty to allow all authenticated users."),error:e(l).errors.min_role_weight_required,type:"number",name:"min_role_weight_required"},null,8,["modelValue","label","help","error"])])):d("",!0),s("div",K,[i(p,{id:"is_active",modelValue:e(l).is_active,"onUpdate:modelValue":t[8]||(t[8]=r=>e(l).is_active=r),label:e(o)("Active"),help:e(o)("Active downloads are visible to end users."),name:"is_active",error:e(l).errors.is_active},null,8,["modelValue","label","help","error"])])])]),s("div",Q,[i(e(h),{variant:"outline","as-child":""},{default:u(()=>[i(e(D),{href:w.route("admin.download.index")},{default:u(()=>[f(m(e(o)("Cancel")),1)]),_:1},8,["href"])]),_:1}),i(e(h),{type:"submit",disabled:e(l).processing},{default:u(()=>[e(l).processing?(a(),n("svg",X,t[9]||(t[9]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),f(" "+m(e(o)("Create Download")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{Ve as default};
