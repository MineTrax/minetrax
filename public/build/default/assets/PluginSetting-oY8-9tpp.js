import{k as B,y as $,z as R,c as S,w as k,o as c,b as d,j as e,a as s,t,v as m,i as u,f as F,Q as h,d as _,l as V,x as C,g as f,F as U,s as O}from"./app-CCKLH5ME.js";import{_ as K}from"./AdminLayout-y-VDq6pb.js";import{L as X}from"./LoadingButton-Bjoy-Inx.js";import{_ as q}from"./CopyToClipboard-o78WAkIw.js";import{_ as x}from"./XInput-BC27vhcd.js";import{X as b}from"./XCheckbox-CvNL-v8z.js";import{_ as z}from"./XSelect-DqiZ32FL.js";import{I as A}from"./Icon-DlyfKWQ8.js";import{s as P}from"./vue-multiselect.esm-UWUue4pT.js";import"./useAuthorizable-BcHdws2r.js";import"./CloudArrowDownIcon-C08Kt2Ph.js";import"./BaseLayout-EMqiVgMT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-Dm3zbijY.js";import"./chevron-down-BttFxFy5.js";import"./Teleport-EbLwDdUQ.js";import"./index-B_t7zORc.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-GtrTMWr0.js";import"./x-DbrWVFCU.js";import"./index-EGyC-5xi.js";import"./loader-circle-CMIQx9pD.js";import"./Input-DXLGdtIU.js";import"./Label-JlxotZKr.js";import"./SelectValue-hZz7TfPi.js";import"./useFormControl-z8lEV1m4.js";const Q={class:"py-12 px-10 max-w-6xl mx-auto flex"},G={class:"flex-1"},H={class:"flex flex-col w-full"},J={class:"bg-white dark:bg-surface-800 shadow w-full rounded"},Z={class:"px-6 py-4 border-b dark:border-foreground dark:text-foreground font-bold"},ee={class:"mt-10 sm:mt-0"},se={class:"md:grid md:grid-cols-3 md:gap-6"},oe={class:"mt-5 md:mt-0 md:col-span-3"},re={class:"flex items-center justify-end col-span-6 sm:col-span-2 px-6 py-2"},ne={class:"shadow overflow-hidden sm:rounded-md"},te={class:"px-4 py-5 bg-white dark:bg-surface-800 sm:p-6"},le={class:"grid grid-cols-6 gap-6"},ae={class:"flex items-center col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-6"},de={class:"col-span-6 sm:col-span-6"},ce={class:"flex items-center col-span-6 sm:col-span-2"},_e={class:"col-span-6 sm:col-span-4"},ue={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},me={class:"text-sm text-foreground font-bold dark:font-semibold dark:text-foreground"},pe={class:"text-xs font-light text-foreground"},fe={class:"w-full space-y-2"},ye={class:"flex flex-col items-end"},ge={class:"text-foreground dark:text-foreground text-sm font-semibold"},be={class:"text-sm text-right text-foreground dark:text-foreground"},he={class:"flex space-x-4"},ke={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},xe={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},ve={class:"flex space-x-4"},we=["onClick"],Ve={class:"grid grid-cols-2 gap-2 w-full"},Ce={class:"flex-1"},Ue=["onUpdate:modelValue","placeholder"],Ae={key:0,class:"text-error-500 text-sm"},Pe={class:"flex-1"},$e={class:"text-sm text-error-500 mt-0.5"},Re={class:"flex-1 flex col-span-2 space-x-2"},Se={key:0,class:"text-foreground text-sm italic text-center pt-2"},qe={key:1,class:"text-sm text-error-400 text-center"},Ee={class:"flex justify-center pt-5"},Le={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},Ie={class:"text-sm text-foreground font-bold dark:font-semibold dark:text-foreground"},Ne={class:"text-xs font-light text-foreground"},Te={class:"w-full space-y-2"},We={class:"flex flex-col items-end"},je={class:"text-foreground dark:text-foreground text-sm font-semibold"},De={class:"text-sm text-right text-foreground dark:text-foreground"},Me={class:"flex space-x-4"},Ye={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},Be={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},Fe={class:"flex space-x-4"},Oe=["onClick"],Ke={class:"grid grid-cols-2 gap-2 w-full"},Xe={class:"flex-1"},ze=["onUpdate:modelValue","placeholder"],Qe={key:0,class:"text-error-500 text-sm"},Ge={class:"flex-1"},He={class:"text-sm text-error-500 mt-0.5"},Je={class:"flex-1 flex col-span-2 space-x-2"},Ze={key:0,class:"text-foreground text-sm italic text-center pt-2"},es={key:1,class:"text-sm text-error-400 text-center"},ss={class:"flex justify-center pt-5"},os={class:"flex items-center col-span-6 sm:col-span-6"},rs={class:"col-span-6 sm:col-span-6"},ns={class:"flex items-center col-span-6 sm:col-span-3"},ts={class:"col-span-6 sm:col-span-3"},ls={class:"flex-col col-span-6 space-y-1 sm:col-span-6"},as={class:"text-sm text-foreground font-bold dark:font-semibold dark:text-foreground"},is={class:"text-xs font-light text-foreground"},ds={class:"w-full space-y-2"},cs={class:"flex flex-col items-end"},_s={class:"text-foreground dark:text-foreground text-sm font-semibold"},us={class:"text-sm text-right text-foreground dark:text-foreground"},ms={class:"flex space-x-4"},ps={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},fs={class:"flex-1 block text-sm font-medium text-foreground dark:text-foreground"},ys={class:"flex space-x-4"},gs=["onClick"],bs={class:"grid grid-cols-2 gap-2 w-full"},hs={class:"flex-1"},ks=["onUpdate:modelValue","placeholder"],xs={key:0,class:"text-error-500 text-sm"},vs={class:"flex-1"},ws={class:"text-sm text-error-500 mt-0.5"},Vs={class:"flex-1 flex col-span-2 space-x-2"},Cs={key:0,class:"text-error-500 text-sm italic text-center pt-2"},Us={key:1,class:"text-foreground text-sm italic text-center pt-2"},As={key:2,class:"text-sm text-error-400 text-center"},Ps={class:"flex justify-center pt-5"},$s={class:"px-4 py-3 bg-surface-50 dark:bg-surface-800 sm:px-6 flex justify-end"},oo={__name:"PluginSetting",props:{settings:Object,settingsAccountLinkAfterSuccessCommands:Array,settingsAccountUnlinkAfterSuccessCommands:Array,settingsPlayerPasswordResetCommands:Array,serversForRankSync:Object,serversWithWebquery:Object},setup(y){const{__:o}=O(),p=y,r=B({enable_api:p.settings.enable_api,enable_account_link:p.settings.enable_account_link,max_players_link_per_account:p.settings.max_players_link_per_account,enable_sync_player_ranks_from_server:p.settings.enable_sync_player_ranks_from_server,sync_player_ranks_from_server_id:p.settings.sync_player_ranks_from_server_id,account_link_after_success_commands:p.settingsAccountLinkAfterSuccessCommands,account_unlink_after_success_commands:p.settingsAccountUnlinkAfterSuccessCommands,enable_player_password_reset:p.settings.enable_player_password_reset,player_password_reset_cooldown_in_seconds:p.settings.player_password_reset_cooldown_in_seconds,player_password_reset_commands:p.settingsPlayerPasswordResetCommands});function E(){r.account_link_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_link:!1}})}function L(g){r.account_link_after_success_commands.splice(g,1)}function v({name:g,hostname:l}){return`${g} - ${l}`}function I(){r.account_unlink_after_success_commands.push({command:"",servers:[],config:{is_player_online_required:!1,is_run_only_first_unlink:!1}})}function N(g){r.account_unlink_after_success_commands.splice(g,1)}function T(){r.player_password_reset_commands.push({command:"",servers:[],config:{is_player_online_required:!1}})}function W(g){r.player_password_reset_commands.splice(g,1)}const j=()=>{r.post(route("admin.setting.plugin.update"),{preserveScroll:!0,onSuccess:()=>{this.$inertia.get(route("admin.setting.plugin.show"),{preserveState:!1,preserveScroll:!0,replace:!0})}})};return(g,l)=>{const D=$("app-head"),M=$("inertia-link"),Y=R("confirm"),w=R("tippy");return c(),S(K,null,{default:k(()=>[d(D,{title:e(o)("Plugin Settings")},null,8,["title"]),s("div",Q,[s("div",G,[s("div",H,[s("div",J,[s("div",Z,t(e(o)("Plugin Settings")),1),s("div",ee,[s("div",se,[s("div",oe,[s("div",re,[m((c(),S(M,{title:e(o)("Warning: This will Regenerate your API and Secret Key."),as:"button",method:"post",href:g.route("admin.setting.plugin.keygen"),class:"inline-flex justify-center py-2 px-4 border border-2 border-error-500 shadow-sm text-sm font-bold rounded-md text-error-500 hover:bg-error-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-error-500 disabled:opacity-50"},{default:k(()=>[u(t(e(o)("Regenerate API Credentials")),1)]),_:1},8,["title","href"])),[[Y,{message:e(o)("Are you sure? This will regenerate new API Key and Secret and you will have to change in your Plugin config.yml")}],[w]])]),s("form",{autocomplete:"off",onSubmit:F(j,["prevent"])},[s("div",ne,[s("div",te,[s("div",le,[s("div",ae,[d(b,{id:"enable_api",modelValue:e(r).enable_api,"onUpdate:modelValue":l[0]||(l[0]=n=>e(r).enable_api=n),label:e(o)("Enable Plugin"),help:e(o)("Enable this if you are having MineTrax plugin installed in your server."),name:"enable_api",error:e(r).errors.enable_api},null,8,["modelValue","label","help","error"])]),s("div",ie,[d(q,null,{default:k(n=>[m(d(x,{id:"plugin_api_key",title:e(o)("Click to Copy"),"model-value":n.status==="copied"?e(o)("Copied to Clipboard!"):y.settings.plugin_api_key,label:e(o)("API Key"),type:"text",name:"plugin_api_key","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>n.copy(y.settings.plugin_api_key)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",de,[d(q,null,{default:k(n=>[m(d(x,{id:"plugin_api_secret",title:e(o)("Click to Copy"),"model-value":n.status==="copied"?e(o)("Copied to Clipboard!"):y.settings.plugin_api_secret,label:e(o)("API Secret"),type:"text",name:"plugin_api_secret","input-class":"disabled:opacity-100 hover:cursor-pointer",onClick:a=>n.copy(y.settings.plugin_api_secret)},null,8,["title","model-value","label","onClick"]),[[w]])]),_:1})]),s("div",ce,[d(b,{id:"enable_account_link",modelValue:e(r).enable_account_link,"onUpdate:modelValue":l[1]||(l[1]=n=>e(r).enable_account_link=n),label:e(o)("Enable Account Link"),help:e(o)("Enable user to link their players to account"),name:"enable_account_link",error:e(r).errors.enable_account_link},null,8,["modelValue","label","help","error"])]),m(s("div",_e,[d(x,{id:"max_players_link_per_account",modelValue:e(r).max_players_link_per_account,"onUpdate:modelValue":l[2]||(l[2]=n=>e(r).max_players_link_per_account=n),label:e(o)("Max Players Per Account"),help:e(o)("Number of players that can be linked to one account in website."),type:"number",name:"max_players_link_per_account",error:e(r).errors.max_players_link_per_account,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[h,e(r).enable_account_link]]),m(s("div",ue,[s("legend",me,[u(t(e(o)("Account Link Success Commands"))+" ",1),s("span",pe,t(e(o)("(runs when a player is linked to account)")),1)]),s("div",fe,[s("div",ye,[s("h3",ge,t(e(o)("Available Placeholders")),1),s("ol",be,[s("li",null,[l[7]||(l[7]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player which is linked.")),1)]),s("li",null,[l[8]||(l[8]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player which is linked.")),1)])])]),s("div",he,[l[9]||(l[9]=s("div",{class:"w-5"},null,-1)),s("label",ke,t(e(o)("Command")),1),s("label",xe,t(e(o)("Run on servers")),1)]),(c(!0),_(U,null,V(e(r).account_link_after_success_commands,(n,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",ve,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>L(a)},[d(A,{class:"w-5 h-5 text-foreground group-hover:text-error-500",name:"trash"})],8,we),s("div",Ve,[s("div",Ce,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-foreground w-full dark:border-foreground border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,Ue),[[C,n.command]]),e(r).errors[`account_link_after_success_commands.${a}.command`]?(c(),_("span",Ae,t(e(r).errors[`account_link_after_success_commands.${a}.command`]),1)):f("",!0)]),s("div",Pe,[d(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:y.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",$e,t(e(r).errors[`account_link_after_success_commands.${a}.servers`]),1)]),s("div",Re,[d(b,{id:`link.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(r).errors[`account_link_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),d(b,{id:`link.is_run_only_first_link_${a}`,modelValue:n.config.is_run_only_first_link,"onUpdate:modelValue":i=>n.config.is_run_only_first_link=i,name:`link.is_run_only_first_link_${a}`,label:e(o)("Run on first link only"),help:e(o)("This command should only run if given player is getting linked for first time. (Eg: This wont run if player get unlinked and then linked again)"),error:e(r).errors[`account_link_after_success_commands.${a}.config.is_run_only_first_link`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(r).account_link_after_success_commands.length<=0?(c(),_("div",Se,t(e(o)("No commands on account link.")),1)):f("",!0),e(r).errors.account_link_after_success_commands?(c(),_("p",qe,t(e(r).errors.account_link_after_success_commands),1)):f("",!0),s("div",Ee,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary rounded border border-primary focus:outline-none hover:text-primary hover:border-primary transition ease-in-out duration-150",onClick:E},t(e(o)("Add New Link Command")),1)])])],512),[[h,e(r).enable_account_link]]),m(s("div",Le,[s("legend",Ie,[u(t(e(o)("Account Unlink Success Commands"))+" ",1),s("span",Ne,t(e(o)("(runs when a player is unlinked from account)")),1)]),s("div",Te,[s("div",We,[s("h3",je,t(e(o)("Available Placeholders")),1),s("ol",De,[s("li",null,[l[10]||(l[10]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player which is unlinked.")),1)]),s("li",null,[l[11]||(l[11]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player which is unlinked.")),1)])])]),s("div",Me,[l[12]||(l[12]=s("div",{class:"w-5"},null,-1)),s("label",Ye,t(e(o)("Command")),1),s("label",Be,t(e(o)("Run on servers")),1)]),(c(!0),_(U,null,V(e(r).account_unlink_after_success_commands,(n,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",Fe,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>N(a)},[d(A,{class:"w-5 h-5 text-foreground group-hover:text-error-500",name:"trash"})],8,Oe),s("div",Ke,[s("div",Xe,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-foreground w-full dark:border-foreground border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,ze),[[C,n.command]]),e(r).errors[`account_unlink_after_success_commands.${a}.command`]?(c(),_("span",Qe,t(e(r).errors[`account_unlink_after_success_commands.${a}.command`]),1)):f("",!0)]),s("div",Ge,[d(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:y.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",He,t(e(r).errors[`account_unlink_after_success_commands.${a}.servers`]),1)]),s("div",Je,[d(b,{id:`unlink.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`unlink.is_player_online_required_${a}`,error:e(r).errors[`account_unlink_after_success_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"]),d(b,{id:`unlink.is_run_only_first_unlink_${a}`,modelValue:n.config.is_run_only_first_unlink,"onUpdate:modelValue":i=>n.config.is_run_only_first_unlink=i,name:`unlink.is_run_only_first_unlink_${a}`,label:e(o)("Run on first unlink only"),help:e(o)("This command should only run if given player is getting unlinked for first time. (Eg: This wont run if player was linked and unlinked before)"),error:e(r).errors[`account_unlink_after_success_commands.${a}.config.is_run_only_first_unlink`]},null,8,["id","modelValue","onUpdate:modelValue","name","label","help","error"])])])])]))),128)),e(r).account_unlink_after_success_commands.length<=0?(c(),_("div",Ze,t(e(o)("No commands on account unlink.")),1)):f("",!0),e(r).errors.account_unlink_after_success_commands?(c(),_("p",es,t(e(r).errors.account_unlink_after_success_commands),1)):f("",!0),s("div",ss,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary rounded border border-primary focus:outline-none hover:text-primary hover:border-primary transition ease-in-out duration-150",onClick:I},t(e(o)("Add New Unlink Command")),1)])])],512),[[h,e(r).enable_account_link]]),s("div",os,[d(b,{id:"enable_sync_player_ranks_from_server",modelValue:e(r).enable_sync_player_ranks_from_server,"onUpdate:modelValue":l[3]||(l[3]=n=>e(r).enable_sync_player_ranks_from_server=n),label:e(o)("Enable Player Rank Sync"),help:e(o)("Enable this if you want to sync your player rank from server instead of website calculated rank. you must create a rank for each group you have in server making sure rank shortname matches the name of your player group in server."),name:"enable_sync_player_ranks_from_server",error:e(r).errors.enable_sync_player_ranks_from_server},null,8,["modelValue","label","help","error"])]),m(s("div",rs,[d(z,{id:"sync_player_ranks_from_server_id",modelValue:e(r).sync_player_ranks_from_server_id,"onUpdate:modelValue":l[4]||(l[4]=n=>e(r).sync_player_ranks_from_server_id=n),name:"sync_player_ranks_from_server_id",error:e(r).errors.sync_player_ranks_from_server_id,label:e(o)("Rank Sync From Server"),placeholder:e(o)("Choose a server from which we should sync the rank.."),"disable-null":!1,"select-list":y.serversForRankSync},null,8,["modelValue","error","label","placeholder","select-list"])],512),[[h,e(r).enable_sync_player_ranks_from_server]]),s("div",ns,[d(b,{id:"enable_player_password_reset",modelValue:e(r).enable_player_password_reset,"onUpdate:modelValue":l[5]||(l[5]=n=>e(r).enable_player_password_reset=n),label:e(o)("Enable Player Password Reset"),help:e(o)("Enable this to allow user to reset their linked players password from website."),name:"enable_player_password_reset",error:e(r).errors.enable_player_password_reset},null,8,["modelValue","label","help","error"])]),m(s("div",ts,[d(x,{id:"player_password_reset_cooldown_in_seconds",modelValue:e(r).player_password_reset_cooldown_in_seconds,"onUpdate:modelValue":l[6]||(l[6]=n=>e(r).player_password_reset_cooldown_in_seconds=n),label:e(o)("Password Reset Cooldown (in seconds)"),help:e(o)("Number of seconds player have to wait before resetting password again."),type:"number",name:"player_password_reset_cooldown_in_seconds",error:e(r).errors.player_password_reset_cooldown_in_seconds,"help-error-flex":"flex-col"},null,8,["modelValue","label","help","error"])],512),[[h,e(r).enable_player_password_reset]]),m(s("div",ls,[s("legend",as,[u(t(e(o)("Player Password Reset Commands"))+" ",1),s("span",is,t(e(o)("(run when user try to reset his linked player password)")),1)]),s("div",ds,[s("div",cs,[s("h3",_s,t(e(o)("Available Placeholders")),1),s("ol",us,[s("li",null,[l[13]||(l[13]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_USERNAME}",-1)),u(" - "+t(e(o)("Username of the player whose password is being reset.")),1)]),s("li",null,[l[14]||(l[14]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PLAYER_UUID}",-1)),u(" - "+t(e(o)("Unique Id of the player whose password is being reset.")),1)]),s("li",null,[l[15]||(l[15]=s("code",{class:"text-sm bg-surface-100 dark:bg-surface-700 dark:text-foreground p-1 rounded-md"},"{PASSWORD}",-1)),u(" - "+t(e(o)("New validated password entered by user.")),1)])])]),s("div",ms,[l[16]||(l[16]=s("div",{class:"w-5"},null,-1)),s("label",ps,t(e(o)("Command")),1),s("label",fs,t(e(o)("Run on servers")),1)]),(c(!0),_(U,null,V(e(r).player_password_reset_commands,(n,a)=>(c(),_("div",{key:a,class:"flex flex-col pb-2"},[s("div",ys,[s("button",{type:"button",class:"focus:outline-none group",onClick:i=>W(a)},[d(A,{class:"w-5 h-5 text-foreground group-hover:text-error-500",name:"trash"})],8,gs),s("div",bs,[s("div",hs,[m(s("input",{"onUpdate:modelValue":i=>n.command=i,class:"block p-2.5 dark:bg-surface-900 dark:text-foreground w-full dark:border-foreground border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",placeholder:`Enter Command #${a+1}`,type:"text"},null,8,ks),[[C,n.command]]),e(r).errors[`player_password_reset_commands.${a}.command`]?(c(),_("span",xs,t(e(r).errors[`player_password_reset_commands.${a}.command`]),1)):f("",!0)]),s("div",vs,[d(e(P),{modelValue:n.servers,"onUpdate:modelValue":i=>n.servers=i,class:"block w-full border-foreground rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm",options:y.serversWithWebquery,"custom-label":v,"track-by":"id",multiple:!0,"close-on-select":!1,"clear-on-select":!1,searchable:!1,placeholder:e(o)("Leave empty to run on all servers")+"..."},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),s("p",ws,t(e(r).errors[`player_password_reset_commands.${a}.servers`]),1)]),s("div",Vs,[d(b,{id:`link.is_player_online_required_${a}`,modelValue:n.config.is_player_online_required,"onUpdate:modelValue":i=>n.config.is_player_online_required=i,label:e(o)("Require player to be online"),help:e(o)("This command should only run if player is online on running server. If not online it will be queued to run when player comes online."),name:`link.is_player_online_required_${a}`,error:e(r).errors[`player_password_reset_commands.${a}.config.is_player_online_required`]},null,8,["id","modelValue","onUpdate:modelValue","label","help","name","error"])])])])]))),128)),e(r).errors.player_password_reset_commands&&e(r).player_password_reset_commands.length<=0?(c(),_("div",Cs,t(e(r).errors.player_password_reset_commands),1)):f("",!0),e(r).player_password_reset_commands.length<=0?(c(),_("div",Us,[u(t(e(o)("No commands added. Please add at least one command, as required by your authentication plugin, for password reset functionality."))+" ",1),l[17]||(l[17]=s("br",null,null,-1)),u(" "+t(e(o)("Eg: nlogin changepass {PLAYER_USERNAME} {PASSWORD}")),1)])):f("",!0),e(r).errors.account_link_after_success_commands?(c(),_("p",As,t(e(r).errors.account_link_after_success_commands),1)):f("",!0),s("div",Ps,[s("button",{type:"button",class:"p-2 w-1/3 text-sm text-primary rounded border border-primary focus:outline-none hover:text-primary hover:border-primary transition ease-in-out duration-150",onClick:T},t(e(o)("Add Password Reset Command")),1)])])],512),[[h,e(r).enable_player_password_reset]])])]),s("div",$s,[d(X,{loading:e(r).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-bold rounded-md text-white bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 dark:bg-surface-700 dark:hover:bg-surface-600",type:"submit"},{default:k(()=>[u(t(e(o)("Save Plugin Settings")),1)]),_:1},8,["loading"])])])],32)])])])])])])])]),_:1})}}};export{oo as default};
