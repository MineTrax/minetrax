import{x as R,r as $,T as B,l as _,q as j,o as u,c as b,w as o,b as a,u as s,_ as F,a as e,f as g,t as i,j as h,e as d,p as V,d as x,I as L,H as E,k as N}from"./app-98f14b57.js";import{u as O}from"./AppLayout-0fa35dec.js";import{_ as I}from"./AdminLayout-cad658e6.js";import{u as K}from"./useFormKit-cc6f0e5f.js";import{_ as P}from"./RecruitmentMessagesBox-2f913dd0.js";import{_ as S}from"./CommonStatusBadge-9b9d3d02.js";import{_ as q}from"./DialogModal-e6d20ff3.js";import{_ as H}from"./SecondaryButton-5368d752.js";import{X as M}from"./XTextarea-16ccd247.js";import{L as U}from"./LoadingButton-336d91c5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-6fcacfb2.js";import"./useAuthorizable-232b6833.js";import"./use-resolve-button-type-f1accb1e.js";import"./open-closed-886a7985.js";import"./CloudArrowDownIcon-1c4f23b0.js";import"./index-45348e7f.js";import"./LoadingSpinner-586bb41a.js";import"./UserDisplayname-5d567c94.js";import"./Modal-eab29184.js";const X={class:"p-4 px-10 mx-auto space-y-4"},z={class:"py-3 flex justify-between"},G={class:"text-xl font-extrabold text-gray-800 dark:text-gray-200"},J={class:"flex gap-4"},Q={class:"flex w-full gap-4"},W={class:"w-1/2 space-y-4"},Y={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},Z={class:"flex flex-col mt-3"},ee={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},te={class:"flex items-center justify-between w-full"},se={class:"flex-shrink-0 h-10 w-10 mr-2"},ie=["src"],ne={class:"flex-col"},oe={class:"text-sm text-gray-500"},ae={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},re={class:"flex items-center justify-between w-full"},le={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ue={class:"flex items-center justify-between w-full"},de=["title"],ce={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},me={class:"flex items-center justify-between w-full"},fe=["title"],be={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ge={class:"flex items-center justify-between w-full"},xe={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},pe={class:"flex items-center justify-between w-full"},he={class:"w-1/2 whitespace-pre-line text-right"},ye={key:1,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ve={class:"flex items-center justify-between w-full"},we={class:"button-group flex space-x-4 justify-end p-4"},ke={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},_e={class:"md:w-1/2 px-3 py-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800 md:px-10 md:py-5 no-disabled-effect"},je={class:"text-lg font-bold"},Ue={__name:"ShowRecruitmentSubmission",props:{submission:{type:Object}},setup(t){const T=t,{__:n}=N(),{formatTimeAgoToNow:v,formatToDayDateString:w}=O(),A=R(()=>T.submission.data.map(r=>({...r,value:r.data}))),C=K().generateSchemaFromFieldsArray(A.value,!0),m=$(!1),f=B({action:"rejected",reason:""});return(r,l)=>{const c=_("InertiaLink"),D=_("FormKit"),k=j("confirm"),y=j("tippy");return u(),b(I,null,{default:o(()=>[a(F,{title:s(n)(":user application for :recruitmenttitle #:index - Applications",{user:t.submission.user.name,index:t.submission.id,recruitmenttitle:t.submission.recruitment.title})},null,8,["title"]),e("div",X,[e("div",z,[e("h3",G,[g(i(s(n)(":user application for :recruitmenttitle #:index",{user:t.submission.user.name,index:t.submission.id,recruitmenttitle:t.submission.recruitment.title}))+" ",1),a(S,{status:t.submission.status.value},null,8,["status"])]),e("div",J,[t.submission.i_can_delete?h((u(),b(c,{key:0,as:"button",method:"DELETE",href:r.route("admin.recruitment-submission.delete",t.submission.id),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-600 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray"},{default:o(()=>[e("span",null,i(s(n)("Delete")),1)]),_:1},8,["href"])),[[k,{message:"Delete this Submission? This action cannot be undone."}],[y]]):d("",!0),a(c,{href:["pending","onhold","inprogress"].includes(t.submission.status.value)?r.route("admin.recruitment-submission.index-open"):r.route("admin.recruitment-submission.index-closed"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-400 border border-transparent rounded-md hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-400 focus:shadow-outline-gray dark:bg-gray-800 dark:hover:bg-gray-700 dark:active:bg-gray-900 dark:focus:border-gray-700"},{default:o(()=>[e("span",null,i(s(n)("Back")),1)]),_:1},8,["href"])])]),e("div",Q,[e("div",W,[e("div",Y,[e("ul",Z,[e("li",ee,[e("div",te,[e("span",null,i(s(n)("Applicant")),1),e("div",null,[a(c,{href:r.route("user.public.get",t.submission.user.username),class:"flex items-center"},{default:o(()=>[e("div",se,[e("img",{class:"h-10 w-10 rounded-full",src:t.submission.user.profile_photo_url,alt:"Avatar"},null,8,ie)]),e("div",ne,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap truncate",style:V([t.submission.user.roles[0].color?{color:t.submission.user.roles[0].color}:null])},i(t.submission.user.name),5),e("div",oe," @"+i(t.submission.user.username),1)])]),_:1},8,["href"])])])]),e("li",ae,[e("div",re,[e("span",null,i(s(n)("Application")),1),e("span",null,i(t.submission.recruitment.title),1)])]),e("li",le,[e("div",ue,[e("span",null,i(s(n)("Created At")),1),h((u(),x("span",{title:s(v)(t.submission.created_at)},[g(i(s(w)(t.submission.created_at)),1)],8,de)),[[y]])])]),e("li",ce,[e("div",me,[e("span",null,i(s(n)("Last Updated At")),1),h((u(),x("span",{title:s(v)(t.submission.updated_at)},[g(i(s(w)(t.submission.updated_at)),1)],8,fe)),[[y]])])]),e("li",be,[e("div",ge,[e("span",null,i(s(n)("Request Status")),1),a(S,{status:t.submission.status.value},null,8,["status"])])]),t.submission.last_act_reason?(u(),x("li",xe,[e("div",pe,[e("span",null,i(s(n)("Reason")),1),e("span",he,i(t.submission.last_act_reason),1)])])):d("",!0),t.submission.last_act_by?(u(),x("li",ye,[e("div",ve,[e("span",null,i(s(n)("Marked :status By",{status:s(L.startCase)(t.submission.status.value)})),1),e("span",null,"@"+i(t.submission.last_actor.username),1)])])):d("",!0)]),e("div",we,[t.submission.i_can_act&&["pending","onhold"].includes(t.submission.status.value)?(u(),b(c,{key:0,as:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-sky-500 border border-transparent rounded-md hover:bg-sky-700 active:bg-sky-900 focus:outline-none focus:border-sky-900 focus:shadow-outline-gray",method:"POST",href:r.route("admin.recruitment-submission.act",t.submission.id),data:{action:"inprogress"}},{default:o(()=>[e("span",null,i(s(n)("Mark In-Progress")),1)]),_:1},8,["href"])):d("",!0),t.submission.i_can_act&&t.submission.status.value!="onhold"?(u(),b(c,{key:1,as:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-500 border border-transparent rounded-md hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray",method:"POST",href:r.route("admin.recruitment-submission.act",t.submission.id),data:{action:"onhold"}},{default:o(()=>[e("span",null,i(s(n)("Mark On-Hold")),1)]),_:1},8,["href"])):d("",!0),t.submission.i_can_act?h((u(),b(c,{key:2,as:"button",method:"POST",href:r.route("admin.recruitment-submission.act",t.submission.id),data:{action:"approved"},class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:shadow-outline-gray"},{default:o(()=>[e("span",null,i(s(n)("Approve")),1)]),_:1},8,["href"])),[[k,{title:"Approve",confirmButtonColor:"green",icon:"success",message:"Approve this request? This action cannot be undone."}]]):d("",!0),t.submission.i_can_act?(u(),x("button",{key:3,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:l[0]||(l[0]=p=>m.value=!0)},[e("span",null,i(s(n)("Reject")),1)])):d("",!0)])]),e("div",ke,[a(P,{submission:t.submission,"for-admin":!0},null,8,["submission"])])]),e("div",_e,[a(D,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:o(()=>[a(s(E),{schema:s(C)},null,8,["schema"])]),_:1})])])]),a(q,{show:m.value,onClose:l[4]||(l[4]=p=>m.value=!1)},{title:o(()=>[e("h3",je,i(s(n)("Reject Application")),1)]),content:o(()=>[a(M,{modelValue:s(f).reason,"onUpdate:modelValue":l[1]||(l[1]=p=>s(f).reason=p),label:s(n)("Reason for Rejection"),error:s(f).errors.reason},null,8,["modelValue","label","error"])]),footer:o(()=>[a(H,{class:"mr-2",onClick:l[2]||(l[2]=p=>m.value=!1)},{default:o(()=>[g(i(s(n)("Cancel")),1)]),_:1}),a(U,{loading:s(f).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:l[3]||(l[3]=()=>{s(f).post(r.route("admin.recruitment-submission.act",t.submission.id),{onSuccess:()=>{m.value=!1}})})},{default:o(()=>[g(i(s(n)("Reject")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]),_:1})}}};export{Ue as default};
