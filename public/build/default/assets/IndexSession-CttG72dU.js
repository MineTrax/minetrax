import{y as D,z as S,c as k,w as r,s as I,o as i,b as a,j as o,_ as T,a as s,t as n,v as d,d as p,i as u}from"./app-Bh5uq5T2.js";import{u as j}from"./BaseLayout-DfXV1WNK.js";import{_ as B}from"./DataTable-BaXbvkK6.js";import{D as _}from"./DtRowItem-C0VH15na.js";import{_ as P}from"./AppLayout-fnl43EL1.js";import{_ as $}from"./PlayerSubMenu-Bn-5stfk.js";import{_ as N}from"./AppBreadcrumb-CEuU89zV.js";import{r as V}from"./EyeIcon-G0h5gXDH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-B54a8he6.js";import"./useForwardPropsEmits-CoSvaN6q.js";import"./chevron-down-BM8GSVcu.js";import"./Teleport-C8LT0wZ6.js";import"./index-BlQc97mu.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-C0pHwiql.js";import"./x-Dxr5v1SF.js";import"./useAuthorizable-B2TCKEv8.js";import"./SelectValue-B7I_M8gp.js";import"./useFormControl-pZlKIA-M.js";import"./vue-multiselect.esm-lFmy1_TG.js";import"./XMarkIcon-CHsIiBI1.js";import"./Card-CzH_Id9h.js";import"./CardContent-Blze7ZpO.js";const A={class:"px-2 py-4 md:px-10 max-w-screen-2xl mx-auto space-y-4"},H={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap"},O={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap"},q={class:"flex items-center"},C=["content"],E=["src"],L={class:"px-4 py-4 text-sm font-medium text-foreground whitespace-nowrap"},R={class:"flex items-center"},z={class:"flex-shrink-0 h-10 w-10"},F=["src"],M={class:"ml-4"},G={class:"font-extrabold text-foreground"},J=["title"],K=["title"],Q={key:1,class:"text-foreground"},U={class:"whitespace-nowrap"},W={class:"px-4 py-3 text-sm font-medium text-right whitespace-nowrap"},ge={__name:"IndexSession",props:{player:{type:Object,required:!0},filters:{type:Object},sessions:{type:Object},canShowPlayerIntel:{type:Boolean,required:!0}},setup(l){const{__:t}=I(),{formatTimeAgoToNow:m,formatToDayDateString:y,secondsToHMS:f}=j(),h=l,g=[{key:"id",label:t("ID"),sortable:!0,class:"text-left w-12"},{key:"country_id",label:t("Flag"),sortable:!0,class:"text-left w-12"},{key:"player_displayname",label:t("Display name"),sortable:!0},{key:"session_started_at",label:t("Started"),sortable:!0},{key:"session_ended_at",label:t("Ended"),sortable:!0},{key:"server_id",label:t("Server"),sortable:!0},{key:"play_time",label:t("Play Time"),sortable:!0,class:"text-right"},{key:"afk_time",label:t("Afk Time"),sortable:!0,class:"text-right"},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1 text-right"}],v=[{text:t("Home"),url:route("home")},{text:t("Players"),url:route("player.index")},{text:h.player.username,url:route("player.show",h.player.uuid)},{text:t("Sessions"),current:!0}];return(x,X)=>{const w=D("InertiaLink"),c=S("tippy");return i(),k(P,null,{default:r(()=>[a(T,{title:o(t)(":username's sessions - PlayerIntel",{username:l.player.username})},null,8,["title"]),a(N,{items:v}),s("div",A,[a($,{player:l.player,"can-show-player-intel":l.canShowPlayerIntel},null,8,["player","can-show-player-intel"]),s("div",null,[a(B,{class:"bg-card border rounded-lg shadow w-full",header:g,data:l.sessions,filters:l.filters,"route-params":{player:l.player.uuid}},{default:r(({item:e})=>{var b;return[s("td",H,n(e.id),1),s("td",O,[s("div",q,[d((i(),p("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[s("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,E)],8,C)),[[c]])])]),s("td",L,[s("div",R,[s("div",z,[s("img",{class:"h-10 w-10",src:(b=l.player)==null?void 0:b.avatar_url,alt:""},null,8,F)]),s("div",M,[a(w,{as:"a",href:x.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"text-sm font-medium text-foreground focus:outline-none cursor-pointer hover:underline"},{default:r(()=>[s("span",G,n(e.player_displayname)+" ("+n(e.player_username)+") ",1)]),_:2},1032,["href"])])])]),a(_,null,{default:r(()=>[d((i(),p("span",{class:"whitespace-nowrap",title:o(y)(e.session_started_at)},[u(n(o(m)(e.session_started_at)),1)],8,J)),[[c]])]),_:2},1024),a(_,null,{default:r(()=>[e.session_ended_at?d((i(),p("span",{key:0,class:"whitespace-nowrap",title:o(y)(e.session_ended_at)},[u(n(o(m)(e.session_ended_at)),1)],8,K)),[[c]]):(i(),p("span",Q,"â€”"))]),_:2},1024),a(_,null,{default:r(()=>[d((i(),p("span",U,[u(n(e.server.name),1)])),[[c]])]),_:2},1024),a(_,{class:"text-right"},{default:r(()=>[u(n(o(f)(e.play_time,!0)),1)]),_:2},1024),a(_,{class:"text-right"},{default:r(()=>[u(n(o(f)(e.afk_time,!0)),1)]),_:2},1024),s("td",W,[d((i(),k(w,{as:"a",href:x.route("player.intel.session.show",{player:e.player_uuid,session:e.id}),class:"inline-flex items-center justify-center text-primary hover:text-primary/75",title:o(t)("View Session Details")},{default:r(()=>[a(o(V),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[c]])])]}),_:1},8,["data","filters","route-params"])])])]),_:1})}}};export{ge as default};
