import{c as $,u as E}from"./useForwardPropsEmits-Cna_72YH.js";import{u as A}from"./useFormControl-Dc8lgYxH.js";import{b as H,a as B,P as S,i as R}from"./index-DJrfnRDw.js";import{u as P,V as j}from"./VisuallyHidden-ZQVZzJuH.js";import{B as h,e as m,H as F,o as i,c as p,Z as c,d as g,g as C,F as w,l as I,$ as O,w as y,r as b,j as r,a3 as T,f as M,b as K,n as L}from"./app-U7F8fpli.js";import{c as k}from"./utils-D-KgF5mV.js";var N=h({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const e=d,{primitiveElement:u,currentElement:n}=P(),a=m(()=>e.checked??e.value);return F(a,(t,s)=>{if(!n.value)return;const o=n.value,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(v&&t!==s){const l=new Event("input",{bubbles:!0}),_=new Event("change",{bubbles:!0});v.call(o,t),o.dispatchEvent(l),o.dispatchEvent(_)}}),(t,s)=>(i(),p(j,c({ref_key:"primitiveElement",ref:u},{...e,...t.$attrs},{as:"input"}),null,16))}}),V=N,z=h({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const e=d,u=m(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),n=m(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,t)=>typeof a=="object"?Object.entries(a).map(([s,o])=>({name:`${e.name}[${t}][${s}]`,value:o})):{name:`${e.name}[${t}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,t])=>({name:`${e.name}[${a}]`,value:t})):[]);return(a,t)=>(i(),g(w,null,[C(" We render single input if it's required "),u.value?(i(),p(V,c({key:a.name},{...e,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(i(!0),g(w,{key:1},I(n.value,s=>(i(),p(V,c({key:s.name},{ref_for:!0},{...e,...a.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))],2112))}}),D=z;const[W,Z]=$("SwitchRoot");var G=h({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(d,{emit:e}){const u=d,n=e,{disabled:a}=O(u),t=H(u,"modelValue",n,{defaultValue:u.defaultValue,passive:u.modelValue===void 0});function s(){a.value||(t.value=!t.value)}const{forwardRef:o,currentElement:f}=B(),q=A(f),v=m(()=>{var l;return u.id&&f.value?(l=document.querySelector(`[for="${u.id}"]`))==null?void 0:l.innerText:void 0});return Z({modelValue:t,toggleCheck:s,disabled:a}),(l,_)=>(i(),p(r(S),c(l.$attrs,{id:l.id,ref:r(o),role:"switch",type:l.as==="button"?"button":void 0,value:l.value,"aria-label":l.$attrs["aria-label"]||v.value,"aria-checked":r(t),"aria-required":l.required,"data-state":r(t)?"checked":"unchecked","data-disabled":r(a)?"":void 0,"as-child":l.asChild,as:l.as,disabled:r(a),onClick:s,onKeydown:T(M(s,["prevent"]),["enter"])}),{default:y(()=>[b(l.$slots,"default",{modelValue:r(t)}),r(q)&&l.name?(i(),p(r(D),{key:0,type:"checkbox",name:l.name,disabled:r(a),required:l.required,value:l.value,checked:!!r(t)},null,8,["name","disabled","required","value","checked"])):C("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),J=G,Q=h({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(d){const e=W();return B(),(u,n)=>{var a;return i(),p(r(S),{"data-state":(a=r(e).modelValue)!=null&&a.value?"checked":"unchecked","data-disabled":r(e).disabled.value?"":void 0,"as-child":u.asChild,as:u.as},{default:y(()=>[b(u.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),U=Q;const re={__name:"Switch",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(d,{emit:e}){const u=d,n=e,a=R(u,"class"),t=E(a,n);return(s,o)=>(i(),p(r(J),c(r(t),{class:r(k)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",u.class)}),{default:y(()=>[K(r(U),{class:L(r(k)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:y(()=>[b(s.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}};export{re as _};
