import{h as v,k as L,O as N,p as A,y as B,c as $,w as u,s as D,o as m,b as r,j as e,a,f as j,d as c,t as n,g as _,v as p,Q as b,x as H,P as O,i as U}from"./app-D9GuHpcZ.js";import{_ as z}from"./AdminLayout-DdnXiWbQ.js";import{_ as G}from"./AppBreadcrumb-6YgoLuD3.js";import{_ as C}from"./index-B5if8pRS.js";import{_ as y}from"./XInput-Cvs-Jhqz.js";import{_ as I}from"./XSelect-C4vUI2IC.js";import{_ as g}from"./XSwitch-awdJ8Wzd.js";import{b as Q,h as q,T as F,o as J}from"./darkTheme-BLbTJS30.js";import{E as K}from"./easymde-QJYvmxHQ.js";import"./useAuthorizable-jSLZg7XL.js";import"./CloudArrowDownIcon-COtJdbQg.js";import"./BaseLayout-B3-iVEMv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-DCyQcqwq.js";import"./useForwardPropsEmits-Ci0C5-5c.js";import"./chevron-down-BRQ4-0aA.js";import"./Teleport-Ck1GoC8n.js";import"./index-CybQGOSJ.js";import"./utils-D-KgF5mV.js";import"./VisuallyHidden-bdJjphAo.js";import"./x-ChK5Vw_y.js";import"./Input-17rNUrUJ.js";import"./Label-hpeRY5vg.js";import"./SelectValue-D9eI7XgB.js";import"./useFormControl-C0VJqXgZ.js";import"./Switch-DbKyFhTc.js";const W={class:"px-10 py-8 mx-auto max-w-6xl text-foreground"},X={class:"flex justify-between mb-4"},Y={class:"mt-6"},Z={class:"shadow overflow-hidden rounded-lg"},ee={class:"px-4 py-5 bg-card sm:p-6"},te={class:"grid grid-cols-6 gap-6"},se={class:"col-span-6 sm:col-span-6"},oe={class:"col-span-6 sm:col-span-6"},ae={class:"col-span-6 sm:col-span-6"},le={key:0,class:"text-sm mt-4 p-4 border border-warning-600 rounded bg-warning-100 text-warning-700 dark:bg-warning-900/25 dark:text-warning-400"},ie={class:"col-span-6 sm:col-span-6"},re={class:"col-span-6 sm:col-span-6"},de={key:0,class:"text-xs text-destructive mt-2 text-right"},ne={class:"col-span-6 sm:col-span-6"},me={key:0,class:"text-xs text-destructive mt-2 text-right"},pe={class:"col-span-6 sm:col-span-6"},ue={class:"text-sm font-medium text-foreground mb-4"},ce={class:"flex flex-wrap gap-6"},_e={class:"px-4 py-3 bg-card border-t border-border sm:px-6 flex justify-end gap-2"},be={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ze={__name:"EditCustomPage",props:{customPage:Object},setup(w){const{__:s}=D(),i=w,T=[{text:s("Admin"),current:!1},{text:s("Custom Pages"),url:route("admin.custom-page.index"),current:!1},{text:s("Edit Custom Page"),current:!0},{text:"#"+i.customPage.id,current:!0}],d=v(i.customPage.is_redirect?"redirect":i.customPage.is_html_page?"html":"markdown"),f=v(i.customPage.body),M={markdown:"Markdown - Add your content in markdown format",html:"HTML - Add your content in code using HTML/CSS",redirect:"Redirect - This page will redirect to another URL"},t=L({title:i.customPage.title,body:i.customPage.body,path:i.customPage.path,is_visible:i.customPage.is_visible,is_in_navbar:i.customPage.is_in_navbar,is_redirect:i.customPage.is_redirect,redirect_url:i.customPage.redirect_url,is_html_page:i.customPage.is_html_page,is_sidebar_visible:i.customPage.is_sidebar_visible,is_open_in_new_tab:i.customPage.is_open_in_new_tab,_method:"PUT"}),x=N(),V=[Q,q()];window.colorMode==="dark"&&V.push(J);const P=v(i.customPage.body),S=h=>{x.value=h.view};let k=null;const E=()=>{d.value==="markdown"?t.body=k.value():d.value==="html"&&(t.body=x.value.state.doc.toString()),t.is_redirect=d.value==="redirect",t.is_html_page=d.value==="html",t.post(route("admin.custom-page.update",i.customPage.id),{})};return A(()=>{k=new K({previewClass:"editor-preview prose max-w-none"})}),(h,o)=>{const R=B("app-head");return m(),$(z,null,{default:u(()=>[r(R,{title:e(s)("Edit Custom Page: :title",{title:w.customPage.title})},null,8,["title"]),a("div",W,[a("div",X,[r(G,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:T})]),a("div",Y,[a("form",{onSubmit:j(E,["prevent"])},[a("div",Z,[a("div",ee,[a("div",te,[a("div",se,[r(y,{id:"title",modelValue:e(t).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).title=l),label:e(s)("Title of Page"),help:e(s)("Eg: Privacy & Policy"),error:e(t).errors.title,type:"text",name:"title"},null,8,["modelValue","label","help","error"])]),a("div",oe,[r(y,{id:"path",modelValue:e(t).path,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).path=l),label:e(s)("URL Path"),help:e(s)("Eg: privacy-policy"),error:e(t).errors.path,type:"text",name:"path"},null,8,["modelValue","label","help","error"])]),a("div",ae,[r(I,{id:"page_type",modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),name:"page_type",label:e(s)("Page Type"),placeholder:e(s)("Select a type of page.."),"disable-null":!0,"select-list":M},null,8,["modelValue","label","placeholder"]),d.value==="html"?(m(),c("div",le,n(e(s)("Please be careful with this option, adding malicious code can expose your website to security risks. Make sure you know what you are doing.")),1)):_("",!0)]),p(a("div",ie,[r(y,{id:"redirect_url",modelValue:e(t).redirect_url,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).redirect_url=l),label:e(s)("Redirect URL"),help:e(s)("Eg: https://my-custom-shop.com"),error:e(t).errors.redirect_url,type:"text",name:"redirect_url"},null,8,["modelValue","label","help","error"])],512),[[b,d.value==="redirect"]]),p(a("div",re,[r(e(F),{modelValue:P.value,"onUpdate:modelValue":o[4]||(o[4]=l=>P.value=l),placeholder:"Paste your HTML/CSS code here...",style:{height:"400px"},"indent-with-tab":!0,"tab-size":2,extensions:V,onReady:S},null,8,["modelValue"]),e(t).errors.body?(m(),c("p",de,n(e(t).errors.body),1)):_("",!0)],512),[[b,d.value==="html"]]),p(a("div",ne,[p(a("textarea",{id:"body","onUpdate:modelValue":o[5]||(o[5]=l=>f.value=l),"aria-label":"body",name:"body",class:"mt-1 focus:ring-primary focus:border-primary block w-full shadow-sm sm:text-sm border-input bg-background rounded-md"},null,512),[[H,f.value]]),e(t).errors.body?(m(),c("p",me,n(e(t).errors.body),1)):_("",!0)],512),[[b,d.value==="markdown"]]),a("div",pe,[a("fieldset",null,[a("legend",ue,n(e(s)("Options")),1),a("div",ce,[r(g,{id:"is_visible",modelValue:e(t).is_visible,"onUpdate:modelValue":o[6]||(o[6]=l=>e(t).is_visible=l),label:e(s)("Visible"),help:e(s)("General public can access this URL via link"),name:"is_visible",error:e(t).errors.is_visible},null,8,["modelValue","label","help","error"]),r(g,{id:"is_in_navbar",modelValue:e(t).is_in_navbar,"onUpdate:modelValue":o[7]||(o[7]=l=>e(t).is_in_navbar=l),label:e(s)("Add to Navbar"),help:e(s)("Add this page link to the top Navigation bar"),name:"is_in_navbar",error:e(t).errors.is_in_navbar},null,8,["modelValue","label","help","error"]),r(g,{id:"is_open_in_new_tab",modelValue:e(t).is_open_in_new_tab,"onUpdate:modelValue":o[8]||(o[8]=l=>e(t).is_open_in_new_tab=l),label:e(s)("Open in New Tab"),help:e(s)("Should this page open in new tab"),name:"is_open_in_new_tab"},null,8,["modelValue","label","help"]),p(r(g,{id:"is_sidebar_visible",modelValue:e(t).is_sidebar_visible,"onUpdate:modelValue":o[9]||(o[9]=l=>e(t).is_sidebar_visible=l),label:e(s)("Sidebar Visible"),help:e(s)("Should right sidebar be visible when user open this page"),name:"is_sidebar_visible",error:e(t).errors.is_sidebar_visible},null,8,["modelValue","label","help","error"]),[[b,d.value!=="redirect"&&d.value!=="html"]])])])])])]),a("div",_e,[r(e(C),{variant:"outline","as-child":""},{default:u(()=>[r(e(O),{href:h.route("admin.custom-page.index")},{default:u(()=>[U(n(e(s)("Back")),1)]),_:1},8,["href"])]),_:1}),r(e(C),{type:"submit",disabled:e(t).processing},{default:u(()=>[e(t).processing?(m(),c("svg",be,o[10]||(o[10]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):_("",!0),U(" "+n(e(s)("Update Page")),1)]),_:1},8,["disabled"])])])],32)])])]),_:1})}}};export{ze as default};
