import{o as l,d as f,a as e,x as $,r as B,T as F,l as j,q as C,c as x,w as r,b as o,u as s,_ as V,f as c,t as i,j as p,e as m,p as L,I as O,H as E,k as M}from"./app-c5b9eb34.js";import{u as N}from"./AppLayout-618a91c1.js";import{_ as I}from"./AdminLayout-43b0ec1b.js";import{u as K}from"./useFormKit-cc6f0e5f.js";import{_ as P}from"./RecruitmentMessagesBox-c14f5ba4.js";import{_ as S}from"./CommonStatusBadge-043f164b.js";import{_ as q}from"./DialogModal-f55ee3a7.js";import{_ as H}from"./SecondaryButton-c6259099.js";import{X as z}from"./XTextarea-8195c1b4.js";import{L as U}from"./LoadingButton-d19cec10.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-cc46e8c2.js";import"./useAuthorizable-369b2986.js";import"./use-resolve-button-type-e76f763c.js";import"./open-closed-a4ec46ac.js";import"./CloudArrowDownIcon-09ce1482.js";import"./index-792a937f.js";import"./LoadingSpinner-75a8fd26.js";import"./UserDisplayname-1ca8e026.js";import"./Modal-f7d376ca.js";function T(t,w){return l(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 9l-3 3m0 0l3 3m-3-3h7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const X={class:"p-4 px-10 mx-auto space-y-4"},G={class:"py-3 flex justify-between"},J={class:"text-xl font-extrabold text-gray-800 dark:text-gray-200"},Q={class:"flex gap-4"},W={class:"flex items-center justify-center"},Y={class:"flex items-center justify-center"},Z={class:"flex w-full gap-4"},ee={class:"w-1/2 space-y-4"},te={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},se={class:"flex flex-col mt-3"},ie={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ne={class:"flex items-center justify-between w-full"},oe={class:"flex-shrink-0 h-10 w-10 mr-2"},re=["src"],ae={class:"flex-col"},le={class:"text-sm text-gray-500"},de={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ue={class:"flex items-center justify-between w-full"},ce={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},me={class:"flex items-center justify-between w-full"},fe=["title"],be={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},ge={class:"flex items-center justify-between w-full"},xe=["title"],he={class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},pe={class:"flex items-center justify-between w-full"},ye={key:0,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},we={class:"flex items-center justify-between w-full"},ve={class:"w-1/2 whitespace-pre-line text-right"},ke={key:1,class:"inline-flex items-center px-4 py-3 -mt-px text-sm font-semibold text-gray-800 gap-x-2 first:rounded-t-lg first:mt-0 last:rounded-b-lg dark:text-gray-400"},_e={class:"flex items-center justify-between w-full"},je={class:"button-group flex space-x-4 justify-end p-4"},Ce={class:"p-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800"},Se={class:"md:w-1/2 px-3 py-2 overflow-hidden bg-white rounded shadow max-w-none dark:bg-cool-gray-800 md:px-10 md:py-5 no-disabled-effect"},Te={class:"text-lg font-bold"},Ge={__name:"ShowRecruitmentSubmission",props:{submission:{type:Object}},setup(t){const w=t,{__:n}=M(),{formatTimeAgoToNow:v,formatToDayDateString:k}=N(),A=$(()=>w.submission.data.map(a=>({...a,value:a.data}))),D=K().generateSchemaFromFieldsArray(A.value,!0),b=B(!1),g=F({action:"rejected",reason:""});return(a,d)=>{const u=j("InertiaLink"),R=j("FormKit"),_=C("confirm"),y=C("tippy");return l(),x(I,null,{default:r(()=>[o(V,{title:s(n)(":user application for :recruitmenttitle #:index - Applications",{user:t.submission.user.name,index:t.submission.id,recruitmenttitle:t.submission.recruitment.title})},null,8,["title"]),e("div",X,[e("div",G,[e("h3",J,[c(i(s(n)(":user application for :recruitmenttitle #:index",{user:t.submission.user.name,index:t.submission.id,recruitmenttitle:t.submission.recruitment.title}))+" ",1),o(S,{status:t.submission.status.value},null,8,["status"])]),e("div",Q,[t.submission.i_can_delete?p((l(),x(u,{key:0,as:"button",method:"DELETE",href:a.route("admin.recruitment-submission.delete",t.submission.id),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-600 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray"},{default:r(()=>[e("span",null,i(s(n)("Delete")),1)]),_:1},8,["href"])),[[_,{message:"Delete this Submission? This action cannot be undone."}],[y]]):m("",!0),o(u,{href:a.route("admin.recruitment-submission.index-open"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-400 border border-transparent rounded-md hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-400 focus:shadow-outline-gray dark:bg-gray-800 dark:hover:bg-gray-700 dark:active:bg-gray-900 dark:focus:border-gray-700"},{default:r(()=>[e("span",W,[o(s(T),{class:"h-4 mr-2"}),c(" "+i(s(n)("Open")),1)])]),_:1},8,["href"]),o(u,{href:a.route("admin.recruitment-submission.index-closed"),class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-400 border border-transparent rounded-md hover:bg-gray-500 active:bg-gray-600 focus:outline-none focus:border-gray-400 focus:shadow-outline-gray dark:bg-gray-800 dark:hover:bg-gray-700 dark:active:bg-gray-900 dark:focus:border-gray-700"},{default:r(()=>[e("span",Y,[o(s(T),{class:"h-4 mr-2"}),c(" "+i(s(n)("Closed")),1)])]),_:1},8,["href"])])]),e("div",Z,[e("div",ee,[e("div",te,[e("ul",se,[e("li",ie,[e("div",ne,[e("span",null,i(s(n)("Applicant")),1),e("div",null,[o(u,{href:a.route("user.public.get",t.submission.user.username),class:"flex items-center"},{default:r(()=>[e("div",oe,[e("img",{class:"h-10 w-10 rounded-full",src:t.submission.user.profile_photo_url,alt:"Avatar"},null,8,re)]),e("div",ae,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap truncate",style:L([t.submission.user.roles[0].color?{color:t.submission.user.roles[0].color}:null])},i(t.submission.user.name),5),e("div",le," @"+i(t.submission.user.username),1)])]),_:1},8,["href"])])])]),e("li",de,[e("div",ue,[e("span",null,i(s(n)("Application")),1),e("span",null,i(t.submission.recruitment.title),1)])]),e("li",ce,[e("div",me,[e("span",null,i(s(n)("Created At")),1),p((l(),f("span",{title:s(v)(t.submission.created_at)},[c(i(s(k)(t.submission.created_at)),1)],8,fe)),[[y]])])]),e("li",be,[e("div",ge,[e("span",null,i(s(n)("Last Updated At")),1),p((l(),f("span",{title:s(v)(t.submission.updated_at)},[c(i(s(k)(t.submission.updated_at)),1)],8,xe)),[[y]])])]),e("li",he,[e("div",pe,[e("span",null,i(s(n)("Request Status")),1),o(S,{status:t.submission.status.value},null,8,["status"])])]),t.submission.last_act_reason?(l(),f("li",ye,[e("div",we,[e("span",null,i(s(n)("Reason")),1),e("span",ve,i(t.submission.last_act_reason),1)])])):m("",!0),t.submission.last_act_by?(l(),f("li",ke,[e("div",_e,[e("span",null,i(s(n)("Marked :status By",{status:s(O.startCase)(t.submission.status.value)})),1),e("span",null,"@"+i(t.submission.last_actor.username),1)])])):m("",!0)]),e("div",je,[t.submission.i_can_act&&["pending","onhold"].includes(t.submission.status.value)?(l(),x(u,{key:0,as:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-sky-500 border border-transparent rounded-md hover:bg-sky-700 active:bg-sky-900 focus:outline-none focus:border-sky-900 focus:shadow-outline-gray",method:"POST",href:a.route("admin.recruitment-submission.act",t.submission.id),data:{action:"inprogress"}},{default:r(()=>[e("span",null,i(s(n)("Mark In-Progress")),1)]),_:1},8,["href"])):m("",!0),t.submission.i_can_act&&t.submission.status.value!="onhold"?(l(),x(u,{key:1,as:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-gray-500 border border-transparent rounded-md hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray",method:"POST",href:a.route("admin.recruitment-submission.act",t.submission.id),data:{action:"onhold"}},{default:r(()=>[e("span",null,i(s(n)("Mark On-Hold")),1)]),_:1},8,["href"])):m("",!0),t.submission.i_can_act?p((l(),x(u,{key:2,as:"button",method:"POST",href:a.route("admin.recruitment-submission.act",t.submission.id),data:{action:"approved"},class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-green-500 border border-transparent rounded-md hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:shadow-outline-gray"},{default:r(()=>[e("span",null,i(s(n)("Approve")),1)]),_:1},8,["href"])),[[_,{title:"Approve",confirmButtonColor:"green",icon:"success",message:"Approve this request? This action cannot be undone."}]]):m("",!0),t.submission.i_can_act?(l(),f("button",{key:3,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:d[0]||(d[0]=h=>b.value=!0)},[e("span",null,i(s(n)("Reject")),1)])):m("",!0)])]),e("div",Ce,[o(P,{submission:t.submission,"for-admin":!0},null,8,["submission"])])]),e("div",Se,[o(R,{disabled:!0,type:"form","submit-attrs":{inputClass:"hidden"}},{default:r(()=>[o(s(E),{schema:s(D)},null,8,["schema"])]),_:1})])])]),o(q,{show:b.value,onClose:d[4]||(d[4]=h=>b.value=!1)},{title:r(()=>[e("h3",Te,i(s(n)("Reject Application")),1)]),content:r(()=>[o(z,{modelValue:s(g).reason,"onUpdate:modelValue":d[1]||(d[1]=h=>s(g).reason=h),label:s(n)("Reason for Rejection"),error:s(g).errors.reason},null,8,["modelValue","label","error"])]),footer:r(()=>[o(H,{class:"mr-2",onClick:d[2]||(d[2]=h=>b.value=!1)},{default:r(()=>[c(i(s(n)("Cancel")),1)]),_:1}),o(U,{loading:s(g).processing,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-gray",onClick:d[3]||(d[3]=()=>{s(g).post(a.route("admin.recruitment-submission.act",t.submission.id),{onSuccess:()=>{b.value=!1}})})},{default:r(()=>[c(i(s(n)("Reject")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]),_:1})}}};export{Ge as default};
