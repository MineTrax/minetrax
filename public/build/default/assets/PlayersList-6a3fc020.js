import{s as b,z as x,o as a,c as d,w as r,q as L,b as o,u as s,_ as P,a as l,m as p,d as i,t as n,f as y,e as j}from"./app-e2d1b450.js";import{u as S}from"./AppLayout-5fa2c638.js";import{u as V}from"./useAuthorizable-6471aaac.js";import{_ as N}from"./AdminLayout-3f7d09eb.js";import{_ as B}from"./ServerIntelServerSelector-46d0d741.js";import{_ as C}from"./DataTable-79322f7a.js";import{D as c}from"./DtRowItem-03e628ec.js";import{_ as E}from"./millify-2865c83f.js";import{r as I}from"./TrashIcon-3a365ee7.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Icon-14807a0c.js";import"./use-resolve-button-type-d43e0d20.js";import"./open-closed-f6ca1aaf.js";import"./CloudArrowDownIcon-5f838156.js";import"./index-921c4872.js";import"./XSelect-4e86beeb.js";import"./vue-multiselect.esm-cce3b90e.js";import"./XMarkIcon-84c589b2.js";import"./hidden-e506f1a0.js";const U={class:"p-4 mx-auto space-y-4 px-10"},$={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},M={class:"flex items-center"},O=["content"],z=["src"],F={class:"px-4 py-4 text-sm font-medium text-gray-800 whitespace-nowrap dark:text-gray-200"},H={class:"flex items-center"},R={class:"flex-shrink-0 h-10 w-10"},q=["src"],J={class:"ml-4"},G={key:0,class:"font-extrabold text-gray-700 dark:text-gray-300"},K={key:1,class:"text-red-500 italic"},Q={key:0},W={key:1},X={key:0},Y={key:1},Z={key:0},ee={key:1},te={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},we={__name:"PlayersList",props:{serverList:{type:Object},countries:{type:Array},filters:{type:Object},data:{type:Object}},setup(_){const v=_,{__:t}=L(),{can:w}=V(),{formatTimeAgoToNow:f,formatToDayDateString:m,secondsToHMS:h}=S(),g=[{key:"country_id",label:t("Flag"),sortable:!0,class:"text-left",filterable:{key:"country.name",type:"multiselect",options:v.countries,searchable:!0}},{key:"player_username",label:t("Username"),sortable:!0,class:"text-left",filterable:{type:"text"}},{key:"server_play_count",label:t("Servers Played"),sortable:!0},{key:"play_time",label:t("Play Time"),sortable:!0},{key:"afk_time",label:t("Afk Time"),sortable:!0},{key:"vault_balance",label:t("Vault Money"),sortable:!0},{key:"last_join_address",label:t("Join Address"),sortable:!0,filterable:{type:"text"}},{key:"last_minecraft_version",label:t("MC Version"),sortable:!0,filterable:{type:"multiselect",options:["1.20","1.19","1.18","1.17","1.16","1.15","1.14","1.13","1.12","1.11","1.10","1.9","1.8"]}},{key:"first_seen_at",label:t("First Seen"),sortable:!0},{key:"last_seen_at",label:t("Last Seen"),sortable:!0},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(k,se)=>{const T=b("inertia-link"),D=b("InertiaLink"),u=x("tippy"),A=x("confirm");return a(),d(N,null,{default:r(()=>[o(P,{title:s(t)("Players - PlayerIntel")},null,8,["title"]),l("div",U,[o(B,{title:s(t)("Players"),"server-list":_.serverList,filters:_.filters},null,8,["title","server-list","filters"]),l("div",null,[o(C,{class:"bg-white rounded shadow dark:bg-gray-800",header:g,data:_.data,filters:_.filters},{default:r(({item:e})=>[l("td",$,[l("div",M,[p((a(),i("div",{class:"flex-shrink-0 h-10 w-10 focus:outline-none",content:e.country.name},[l("img",{class:"h-10 w-10",src:e.country.photo_path,alt:""},null,8,z)],8,O)),[[u]])])]),l("td",F,[l("div",H,[l("div",R,[l("img",{class:"h-10 w-10",src:e.player.avatar_url,alt:""},null,8,q)]),l("div",J,[p((a(),d(T,{as:"a",href:k.route("player.show",e.player.uuid),class:"text-sm font-medium text-gray-900 dark:text-gray-200 focus:outline-none cursor-pointer hover:underline",content:e.player.uuid},{default:r(()=>[e.player_username?(a(),i("span",G,n(e.player_username),1)):(a(),i("span",K,n(s(t)("Unknown")),1))]),_:2},1032,["href","content"])),[[u]])])])]),o(c,null,{default:r(()=>[y(n(e.server_play_count)+" "+n(s(t)("servers")),1)]),_:2},1024),o(c,null,{default:r(()=>[e.play_time?(a(),i("span",Q,n(s(h)(e.play_time,!0)),1)):(a(),i("span",W," -- "))]),_:2},1024),o(c,null,{default:r(()=>[e.afk_time?(a(),i("span",X,n(s(h)(e.afk_time,!0)),1)):(a(),i("span",Y," -- "))]),_:2},1024),o(c,null,{default:r(()=>[e.vault_balance?(a(),i("span",Z,n(s(E)(e.vault_balance,{precision:2})),1)):(a(),i("span",ee," -- "))]),_:2},1024),o(c,null,{default:r(()=>[y(n(e.last_join_address||s(t)("Unknown")),1)]),_:2},1024),o(c,null,{default:r(()=>[y(n(e.last_minecraft_version||s(t)("Unknown")),1)]),_:2},1024),p((a(),d(c,{content:s(m)(e.first_seen_at)},{default:r(()=>[y(n(s(f)(e.first_seen_at)),1)]),_:2},1032,["content"])),[[u]]),p((a(),d(c,{content:s(m)(e.last_seen_at)},{default:r(()=>[y(n(s(f)(e.last_seen_at)),1)]),_:2},1032,["content"])),[[u]]),l("td",te,[s(w)("delete players")?p((a(),d(D,{key:0,as:"button",method:"DELETE",href:k.route("admin.intel.player.delete",e.player.uuid),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:s(t)("Delete Player")},{default:r(()=>[o(s(I),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[A,{message:"This action will delete this player stats and unlink account if linked. Are you sure?"}],[u]]):j("",!0)])]),_:1},8,["data","filters"])])])]),_:1})}}};export{we as default};
