import{_ as F}from"./AdminLayout-D8GEwtQf.js";import{u as j}from"./useAuthorizable-CBLWtNMn.js";import{u as T}from"./BaseLayout-DEET2uXb.js";import{y as $,z as w,c as i,w as a,s as I,o,b as r,j as e,a as l,i as f,t as c,P as u,g as p,M as E,v as d,d as N}from"./app-U7F8fpli.js";import{_ as V}from"./DataTable-BSZ3gxD8.js";import{D as _}from"./DtRowItem-CcaMsJcS.js";import{_ as A}from"./AppBreadcrumb-BPQO0NRQ.js";import{_ as B}from"./index-BIDzpq-S.js";import{I as h}from"./Icon-B7smHmqf.js";import{_ as P}from"./CommonStatusBadge-DzPIuavw.js";import{r as z}from"./EyeIcon-JcR5PCbl.js";import{r as L}from"./ChartBarSquareIcon-BvX49Jgw.js";import{r as M}from"./PencilSquareIcon-BgcwwY9r.js";import{r as O}from"./TrashIcon-B0b7AU_v.js";import"./CloudArrowDownIcon-ChdPVNs0.js";import"./index-DJrfnRDw.js";import"./utils-D-KgF5mV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardPropsEmits-Cna_72YH.js";import"./chevron-down-DD1FIYC6.js";import"./Teleport-BxlbW6xz.js";import"./VisuallyHidden-ZQVZzJuH.js";import"./x-CG4zJPiG.js";import"./SelectValue-IEdi3iNm.js";import"./useFormControl-Dc8lgYxH.js";import"./vue-multiselect.esm-fyPdVgV3.js";import"./XMarkIcon-CqHHbBCc.js";const R={class:"px-10 py-8 mx-auto text-foreground"},H={class:"flex justify-between mb-4"},q={class:"flex"},G={class:"px-4 py-4 text-sm font-medium text-center text-foreground whitespace-nowrap dark:text-foreground"},J={class:"px-4 whitespace-normal"},K={class:"flex items-center"},Q={class:"text-sm font-medium text-foreground dark:text-foreground"},U={class:"py-4 text-sm text-center text-foreground align-middle px-9 whitespace-nowrap"},W={class:"py-4 text-sm text-center text-foreground align-middle px-9 whitespace-nowrap"},X=["title"],Y={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},Fe={__name:"IndexCustomForm",props:{customForms:Object,filters:Object},setup(b){const{can:x}=j(),{__:t}=I(),{formatTimeAgoToNow:y,formatToDayDateString:g}=T();function k(n){switch(n){case"active":return"green";case"draft":return"pending";case"disabled":return"red";case"archived":return"deferred";default:return n}}const v=[{text:t("Admin"),current:!1},{text:t("Custom Forms"),current:!0}],C=[{key:"id",label:t("ID"),sortable:!0,class:"text-center"},{key:"title",label:t("Title"),sortable:!0,filterable:{type:"text"}},{key:"status",label:t("Status"),sortable:!0,filterable:{type:"multiselect",options:["draft","active","disabled","archived"]}},{key:"can_create_submission",label:t("Can Submit"),sortable:!0,class:"whitespace-nowrap"},{key:"is_notify_staff_on_submission",sortable:!0,label:t("Notify Staff on Submit"),class:"whitespace-nowrap"},{key:"is_visible_in_listing",sortable:!0,label:t("Visible in Listing"),class:"whitespace-nowrap"},{key:"submissions_count",sortable:!0,label:t("Total Submissions"),class:"text-right whitespace-nowrap"},{key:"created_at",sortable:!0,label:t("Created")},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];return(n,Z)=>{const D=$("app-head"),m=w("tippy"),S=w("confirm");return o(),i(F,null,{default:a(()=>[r(D,{title:e(t)("Manage Custom Forms")},null,8,["title"]),l("div",R,[l("div",H,[r(A,{class:"mt-0","breadcrumb-class":"max-w-none px-0 md:px-0",items:v}),l("div",q,[e(x)("create custom_forms")?(o(),i(e(B),{key:0,"as-child":""},{default:a(()=>[r(e(u),{href:n.route("admin.custom-form.create")},{default:a(()=>[f(c(e(t)("Create Custom Form")),1)]),_:1},8,["href"])]),_:1})):p("",!0)])]),r(V,{class:"bg-card rounded-lg shadow",header:C,data:b.customForms,filters:b.filters},{default:a(({item:s})=>[l("td",G,c(s.id),1),r(_,{class:""},{default:a(()=>[r(e(u),{as:"a",href:n.route("admin.custom-form.show",s.id),class:"dark:hover:text-foreground hover:text-primary"},{default:a(()=>[f(c(s.title),1)]),_:2},1032,["href"])]),_:2},1024),r(_,null,{default:a(()=>[r(P,{status:k(s.status.value),value:e(E.startCase)(s.status.value)},null,8,["status","value"])]),_:2},1024),l("td",J,[l("div",K,[l("div",Q,c(s.can_create_submission),1)])]),l("td",U,[s.is_notify_staff_on_submission?(o(),i(h,{key:0,class:"text-success-500 focus:outline-none",name:"check-circle"})):(o(),i(h,{key:1,class:"text-error-500",name:"cross-circle"}))]),l("td",W,[s.is_visible_in_listing?(o(),i(h,{key:0,class:"text-success-500 focus:outline-none",name:"check-circle"})):(o(),i(h,{key:1,class:"text-error-500",name:"cross-circle"}))]),r(_,{class:"text-right"},{default:a(()=>[f(c(s.submissions_count),1)]),_:2},1024),r(_,{class:"whitespace-nowrap"},{default:a(()=>[d((o(),N("span",{title:e(g)(s.created_at)},[f(c(e(y)(s.created_at)),1)],8,X)),[[m]])]),_:2},1024),l("td",Y,[["active","disabled"].includes(s.status.value)?d((o(),i(e(u),{key:0,as:"a",href:n.route("custom-form.show",s.slug),class:"inline-flex items-center justify-center text-primary hover:text-primary",title:e(t)("Show Public View")},{default:a(()=>[r(e(z),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[m]]):p("",!0),d((o(),i(e(u),{as:"a",href:n.route("admin.custom-form.show",s.id),class:"inline-flex items-center justify-center text-success-500 hover:text-success-800",title:e(t)("Show Intel")},{default:a(()=>[r(e(L),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[m]]),e(x)("update custom_forms")?d((o(),i(e(u),{key:1,as:"a",href:n.route("admin.custom-form.edit",s.id),class:"inline-flex items-center justify-center text-warning-600 dark:text-warning-500 hover:text-warning-800 dark:hover:text-warning-800",title:e(t)("Edit Custom Form")},{default:a(()=>[r(e(M),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[m]]):p("",!0),e(x)("delete custom_forms")?d((o(),i(e(u),{key:2,as:"button",method:"DELETE",href:n.route("admin.custom-form.delete",s.id),class:"inline-flex items-center justify-center text-error-600 hover:text-error-900 focus:outline-none",title:e(t)("Delete Custom Form")},{default:a(()=>[r(e(O),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[S,{message:"Deleting this Custom Form will also delete all its submissions. Are you sure you want to delete this form & its submissions permanently?"}],[m]]):p("",!0)])]),_:1},8,["data","filters"])])]),_:1})}}};export{Fe as default};
