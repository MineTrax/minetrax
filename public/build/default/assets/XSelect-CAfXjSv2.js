import{b as L}from"./index-5qxomotu.js";import{c}from"./utils-D-KgF5mV.js";import{_ as N}from"./Label-DZbOjpU-.js";import{_ as j,a as w,b as A,c as S,d as F}from"./SelectValue-CsA2ftb2.js";import{h as E,e as f,q as R,o as a,d as s,c as x,w as u,i as b,t as d,g as i,n as m,j as l,b as g,F as D,l as I,B as O}from"./app-Ia0bJDXi.js";const T={key:0,class:"text-destructive ml-1"},z={key:0,class:"text-xs text-muted-foreground"},M={key:1,class:"text-xs text-destructive"},Q={__name:"XSelect",props:{selectList:[Object,Array],modelValue:[Number,String,Array,Object,Boolean,Date],name:String,placeholder:String,help:String,label:String,id:String,error:String,autofocus:{type:[String,Boolean],default:!1},required:{type:[String,Boolean],default:!1},disabled:{type:[String,Boolean],default:!1},helpErrorFlex:{type:String,default:"flex-col"},disableNull:{type:Boolean,default:!1},selectClass:{type:String,default:""},divClass:{type:String,default:""}},emits:["update:modelValue"],setup(e,{expose:V,emit:k}){const t=e,y=L(t,"modelValue",k,{passive:!0,defaultValue:t.modelValue}),n=E(null),$=f(()=>Array.isArray(t.selectList)?t.selectList.reduce((r,o)=>({[o]:o,...r}),{}):t.selectList),B=f(()=>!(t.disableNull||t.required)),C=f(()=>t.placeholder??"â€”"),q=f(()=>c(t.selectClass,t.error&&"border-destructive focus-visible:ring-destructive"));return t.autofocus&&R(()=>{var r;(r=n.value)!=null&&r.$el&&n.value.$el.focus()}),V({focus:()=>{var r;(r=n.value)!=null&&r.$el&&n.value.$el.focus()}}),(r,o)=>(a(),s("div",{class:m(l(c)("space-y-2",e.divClass))},[e.label?(a(),x(l(N),{key:0,for:e.id,class:m(l(c)("text-sm font-medium",e.error?"text-destructive":"text-foreground"))},{default:u(()=>[b(d(e.label)+" ",1),e.required?(a(),s("span",T,"*")):i("",!0)]),_:1},8,["for","class"])):i("",!0),g(l(F),{modelValue:l(y),"onUpdate:modelValue":o[0]||(o[0]=v=>O(y)?y.value=v:null),name:e.name,disabled:e.disabled,required:e.required,id:e.id,autofocus:e.autofocus},{default:u(()=>[g(l(j),{class:m(q.value),ref_key:"triggerRef",ref:n},{default:u(()=>[g(l(w),{placeholder:e.placeholder},null,8,["placeholder"])]),_:1},8,["class"]),g(l(A),null,{default:u(()=>[B.value?(a(),x(l(S),{key:0,value:null},{default:u(()=>[b(d(C.value),1)]),_:1})):i("",!0),(a(!0),s(D,null,I($.value,(v,h)=>(a(),x(l(S),{key:h,value:h},{default:u(()=>[b(d(v),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","name","disabled","required","id","autofocus"]),e.help||e.error?(a(),s("div",{key:1,class:m(["flex gap-1",l(c)(e.help&&e.error?"justify-between":e.error?"justify-end":"justify-start",e.helpErrorFlex)])},[e.help?(a(),s("p",z,d(e.help),1)):i("",!0),e.error?(a(),s("p",M,d(e.error),1)):i("",!0)],2)):i("",!0)],2))}};export{Q as _};
